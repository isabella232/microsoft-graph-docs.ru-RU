# <a name="activity-resource-type"></a><span data-ttu-id="58d1a-101">тип ресурса действия</span><span class="sxs-lookup"><span data-stu-id="58d1a-101">For details, see activity resource type.</span></span>

<span data-ttu-id="58d1a-102">Представляет одно действие в приложении - например, телевизионное шоу, документ или текущая кампания в видеоигре.</span><span class="sxs-lookup"><span data-stu-id="58d1a-102">Represents a single activity within an app - for example, a TV show, a document, or a current campaign in a video game.</span></span> <span data-ttu-id="58d1a-103">Когда пользователь подключает это действие, это задействование регистрируется как [элемент журнала](projectrome_historyitem.md) , который указывает время начала и окончания для этого действия.</span><span class="sxs-lookup"><span data-stu-id="58d1a-103">When a user engages with that activity, the engagement is captured as a [history item](projectrome_historyitem.md) that indicates the start and end time for that activity.</span></span> <span data-ttu-id="58d1a-104">По мере того как пользователь повторно подключает это действие с течением времени, в журнал записывается несколько элементов для одного действия пользователя.</span><span class="sxs-lookup"><span data-stu-id="58d1a-104">As the user re-engages with that activity over time, multiple history items are recorded for a single user activity.</span></span>

<span data-ttu-id="58d1a-105">Действия в Microsoft Graph можно использовать для предоставления пользователям возможности возврата к тому, что они делали в своём приложении, на нескольких устройствах.</span><span class="sxs-lookup"><span data-stu-id="58d1a-105">You can use activities in Microsoft Graph to enable users to get back to what they were doing in their app, across multiple devices.</span></span> <span data-ttu-id="58d1a-106">Действия, которые создает приложение, отображаются на устройствах всех пользователей и предоставляются пользователям как прямые ссылки для определенного содержимого в вашем приложении.</span><span class="sxs-lookup"><span data-stu-id="58d1a-106">Activities that your app creates appear on all users' devices, and are exposed to users as deep links to specific content within your app.</span></span> <span data-ttu-id="58d1a-107">Можно выразить определенное содержимое в вашем приложении как назначения, которые представляются в Windows и доступны на устройства iOS и Android через уведомления Cortana.</span><span class="sxs-lookup"><span data-stu-id="58d1a-107">You can express specific content within your app as a destination that is showcased in Windows, and accessible on iOS and Android devices through Cortana notifications.</span></span>

<span data-ttu-id="58d1a-108">Поскольку каждое приложение отличается — от вас зависит, как лучше сопоставить действия в приложении с действиями пользователя, которые будут отображаться в Cortana и на временной шкале.</span><span class="sxs-lookup"><span data-stu-id="58d1a-108">Because every app is different, it's up to each app developer to understand the best way to map actions within your application to user activities.</span></span> <span data-ttu-id="58d1a-109">Например, в играх активность может фиксироваться для каждой кампании, приложения для создания документов могут фиксировать активность для каждого отдельного документа, а бизнес-приложения — для каждого рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="58d1a-109">For example, games might create an activity for each campaign, document authoring apps might create an activity for each unique document, and line-of-business apps might create an activity for each workflow.</span></span>

<span data-ttu-id="58d1a-110">Действия пользователя будет демонстрироваться в функциональных возможностях пользователей Cortana и на временной шкалы Windows, которые сосредоточены на повышении производительности и эффективности работы пользователей, помогая им вернуться к контенту, с которым они работали в прошлом.</span><span class="sxs-lookup"><span data-stu-id="58d1a-110">Your user activities will be showcased in Cortana and Windows Timeline user experiences, which are focused on increasing users' productivity and efficiency by helping them get back to content they worked on in the past.</span></span>

## <a name="methods"></a><span data-ttu-id="58d1a-111">Методы</span><span class="sxs-lookup"><span data-stu-id="58d1a-111">Methods</span></span>

|<span data-ttu-id="58d1a-112">Метод</span><span class="sxs-lookup"><span data-stu-id="58d1a-112">Method</span></span> | <span data-ttu-id="58d1a-113">Возвращаемый тип</span><span class="sxs-lookup"><span data-stu-id="58d1a-113">Return Type</span></span> | <span data-ttu-id="58d1a-114">Описание</span><span class="sxs-lookup"><span data-stu-id="58d1a-114">Description</span></span>|
|:------|:------------|:-----------|
|[<span data-ttu-id="58d1a-115">Создание или замена действия</span><span class="sxs-lookup"><span data-stu-id="58d1a-115">Create or replace an activity</span></span>](../api/projectrome_put_activity.md) | [<span data-ttu-id="58d1a-116">действие</span><span class="sxs-lookup"><span data-stu-id="58d1a-116">activity</span></span>](projectrome_activity.md) |<span data-ttu-id="58d1a-117">Создает или заменяет существующее действие (upsert).</span><span class="sxs-lookup"><span data-stu-id="58d1a-117">Creates or replaces an existing activity (upsert).</span></span> <span data-ttu-id="58d1a-118">AppActivityId должен быть в URL-безопасном формате (все символы, за исключением незарезервированных символов RFC 2396, должны быть преобразованы в шестнадцатеричное представление), однако исходный appActivityId не должен быть в URL-безопасном формате.</span><span class="sxs-lookup"><span data-stu-id="58d1a-118">The appActivityId needs to be URL-safe (all characters except for RFC 2396 unreserved characters must be converted to their hexadecimal representation), but the original appActivityId does not have to be URL-safe.</span></span> |
|[<span data-ttu-id="58d1a-119">Удаление действия</span><span class="sxs-lookup"><span data-stu-id="58d1a-119">Delete an activity</span></span>](../api/projectrome_delete_activity.md) | <span data-ttu-id="58d1a-120">Нет содержимого</span><span class="sxs-lookup"><span data-stu-id="58d1a-120">204 No Content</span></span> | <span data-ttu-id="58d1a-121">Удаляет указанное действие для этого пользователя из вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="58d1a-121">Deletes the specified activity for that user from your app.</span></span>|
|[<span data-ttu-id="58d1a-122">Получение действий</span><span class="sxs-lookup"><span data-stu-id="58d1a-122">Get recent activities</span></span>](../api/projectrome_get_activities.md) | <span data-ttu-id="58d1a-123">Сбор [действий](projectrome_activity.md)</span><span class="sxs-lookup"><span data-stu-id="58d1a-123">Collection of [activities](projectrome_activity.md)</span></span> | <span data-ttu-id="58d1a-124">Получает действия для вашего приложения для данного пользователя.</span><span class="sxs-lookup"><span data-stu-id="58d1a-124">Gets the activities for your app for a given user.</span></span>|
|[<span data-ttu-id="58d1a-125">Получение последних действий</span><span class="sxs-lookup"><span data-stu-id="58d1a-125">Get recent activities</span></span>](../api/projectrome_get_recent_activities.md) | <span data-ttu-id="58d1a-126">Сбор [действий](projectrome_activity.md)</span><span class="sxs-lookup"><span data-stu-id="58d1a-126">Collection of [activities](projectrome_activity.md)</span></span> | <span data-ttu-id="58d1a-127">Получает самые последние действия для вашего приложения для данного пользователя, отсортированные и на основе наиболее недавно созданного или обновленного [historyItems](projectrome_historyitem.md).</span><span class="sxs-lookup"><span data-stu-id="58d1a-127">Gets the most recent activities for your app for a given user, sorted and based on the most recently created or updated [historyItems](projectrome_historyitem.md).</span></span>|

## <a name="properties"></a><span data-ttu-id="58d1a-128">Свойства</span><span class="sxs-lookup"><span data-stu-id="58d1a-128">Properties</span></span>

|<span data-ttu-id="58d1a-129">Имя</span><span class="sxs-lookup"><span data-stu-id="58d1a-129">Name</span></span> | <span data-ttu-id="58d1a-130">Тип</span><span class="sxs-lookup"><span data-stu-id="58d1a-130">Type</span></span> | <span data-ttu-id="58d1a-131">Описание</span><span class="sxs-lookup"><span data-stu-id="58d1a-131">Description</span></span>|
|:----|:-----|:-----------|
|<span data-ttu-id="58d1a-132">userTimezone</span><span class="sxs-lookup"><span data-stu-id="58d1a-132">userTimezone</span></span> | <span data-ttu-id="58d1a-133">Строка</span><span class="sxs-lookup"><span data-stu-id="58d1a-133">String</span></span> | <span data-ttu-id="58d1a-134">Необязательный параметр.</span><span class="sxs-lookup"><span data-stu-id="58d1a-134">Optional.</span></span> <span data-ttu-id="58d1a-135">Часовой пояс, в котором используемое для создания действия устройство пользователя находилось во время создания действия; значения, указанные как Олсон идентификаторы для поддержки представления на различных платформах.</span><span class="sxs-lookup"><span data-stu-id="58d1a-135">The timezone in which the user's device used to generate the activity was located at activity creation time; values supplied as Olson IDs in order to support cross-platform representation.</span></span>|
|<span data-ttu-id="58d1a-136">createdDateTime</span><span class="sxs-lookup"><span data-stu-id="58d1a-136">createdDateTime</span></span> | <span data-ttu-id="58d1a-137">DateTimeOffset</span><span class="sxs-lookup"><span data-stu-id="58d1a-137">DateTimeOffset</span></span> | <span data-ttu-id="58d1a-138">Установка с сервера.</span><span class="sxs-lookup"><span data-stu-id="58d1a-138">Set by the server.</span></span> <span data-ttu-id="58d1a-139">Дата и время в формате UTC, когда объект был создан на сервере.</span><span class="sxs-lookup"><span data-stu-id="58d1a-139">DateTime in UTC when the object was created on the server.</span></span> |
|<span data-ttu-id="58d1a-140">lastModifiedDateTime</span><span class="sxs-lookup"><span data-stu-id="58d1a-140">lastModifiedDateTime</span></span> | <span data-ttu-id="58d1a-141">DateTimeOffset</span><span class="sxs-lookup"><span data-stu-id="58d1a-141">DateTimeOffset</span></span> | <span data-ttu-id="58d1a-142">Установка с сервера.</span><span class="sxs-lookup"><span data-stu-id="58d1a-142">Set by the server.</span></span> <span data-ttu-id="58d1a-143">Дата и время в формате UTC, когда объект был изменен на сервере.</span><span class="sxs-lookup"><span data-stu-id="58d1a-143">DateTime in UTC when the object was modified on the server.</span></span> |
|<span data-ttu-id="58d1a-144">id</span><span class="sxs-lookup"><span data-stu-id="58d1a-144">id</span></span> | <span data-ttu-id="58d1a-145">Строка</span><span class="sxs-lookup"><span data-stu-id="58d1a-145">String</span></span> | <span data-ttu-id="58d1a-146">Созданный сервером идентификатор, используемый для URL-адресов.</span><span class="sxs-lookup"><span data-stu-id="58d1a-146">Server-generated ID used for URL addressing.</span></span>|
|<span data-ttu-id="58d1a-147">appActivityId</span><span class="sxs-lookup"><span data-stu-id="58d1a-147">appActivityId</span></span> | <span data-ttu-id="58d1a-148">Строка</span><span class="sxs-lookup"><span data-stu-id="58d1a-148">String</span></span> | <span data-ttu-id="58d1a-149">Обязательно.</span><span class="sxs-lookup"><span data-stu-id="58d1a-149">Required.</span></span> <span data-ttu-id="58d1a-150">Идентификатор уникального действия в контексте приложения — предоставляется вызывающим абонентом и является неизменяемым после этого.</span><span class="sxs-lookup"><span data-stu-id="58d1a-150">The unique activity ID in the context of the app - supplied by caller and immutable thereafter.</span></span>|
|<span data-ttu-id="58d1a-151">activitySourceHost</span><span class="sxs-lookup"><span data-stu-id="58d1a-151">activitySourceHost</span></span> | <span data-ttu-id="58d1a-152">Строка</span><span class="sxs-lookup"><span data-stu-id="58d1a-152">String</span></span> | <span data-ttu-id="58d1a-153">Обязательно.</span><span class="sxs-lookup"><span data-stu-id="58d1a-153">Required.</span></span> <span data-ttu-id="58d1a-154">URL-адрес для домена, представляющий кроссплатформенное сопоставление удостоверений для приложения.</span><span class="sxs-lookup"><span data-stu-id="58d1a-154">URL for the domain representing the cross-platform identity mapping for the app.</span></span> <span data-ttu-id="58d1a-155">Сопоставления сохраняются либо в файле формата JSON в домене или настраиваются помощью центра разработчиков Windows.</span><span class="sxs-lookup"><span data-stu-id="58d1a-155">Mapping is stored either as a JSON file hosted on the domain or configurable via Windows Dev Center.</span></span> <span data-ttu-id="58d1a-156">JSON файл называется кроссплатформенными идентификаторами приложений и размещается в корневом каталоге вашего домена HTTPS, в домене верхнего уровня или включaется в поддомен.</span><span class="sxs-lookup"><span data-stu-id="58d1a-156">The JSON file is named cross-platform-app-identifiers and is hosted at root of your HTTPS domain, either at the top level domain or include a sub domain.</span></span> <span data-ttu-id="58d1a-157">Примеры: https://contoso.com или https://myapp.contoso.com, но НЕ https://myapp.contoso.com/somepath.</span><span class="sxs-lookup"><span data-stu-id="58d1a-157">For example: https://contoso.com or https://myapp.contoso.com but NOT https://myapp.contoso.com/somepath.</span></span> <span data-ttu-id="58d1a-158">На каждое кроссплатформенное удостоверение приложения необходимо иметь уникальный файл и домен (или поддомен).</span><span class="sxs-lookup"><span data-stu-id="58d1a-158">You must have a unique file and domain (or sub domain) per cross-platform app identity.</span></span> <span data-ttu-id="58d1a-159">Например, для Word и PowerPoint требуется отдельный файл и домен.</span><span class="sxs-lookup"><span data-stu-id="58d1a-159">For example, a separate file and domain is needed for Word vs. PowerPoint.</span></span>|
|<span data-ttu-id="58d1a-160">AppDisplayName</span><span class="sxs-lookup"><span data-stu-id="58d1a-160">AppDisplayName</span></span> | <span data-ttu-id="58d1a-161">Строка</span><span class="sxs-lookup"><span data-stu-id="58d1a-161">String</span></span> | <span data-ttu-id="58d1a-162">Необязательный параметр.</span><span class="sxs-lookup"><span data-stu-id="58d1a-162">Optional.</span></span> <span data-ttu-id="58d1a-163">Короткое текстовое описание приложения, используемого для создания действий, для использования в тех случаях, когда приложение не установлено на локальном устройстве пользователя.</span><span class="sxs-lookup"><span data-stu-id="58d1a-163">Short text description of the app used to generate the activity for use in cases when the app is not installed on the user’s local device.</span></span>|
|<span data-ttu-id="58d1a-164">activationUrl</span><span class="sxs-lookup"><span data-stu-id="58d1a-164">activationUrl</span></span> | <span data-ttu-id="58d1a-165">Строка</span><span class="sxs-lookup"><span data-stu-id="58d1a-165">String</span></span> | <span data-ttu-id="58d1a-166">Обязательно.</span><span class="sxs-lookup"><span data-stu-id="58d1a-166">Required.</span></span> <span data-ttu-id="58d1a-167">URL-адрес, используемый для запуска действия с лучшими собственными функциональными возможностями, представленными appId.</span><span class="sxs-lookup"><span data-stu-id="58d1a-167">URL used to launch the activity in the best native experience represented by the appId.</span></span> <span data-ttu-id="58d1a-168">Может запустить веб-приложение, если нет собственного приложения.</span><span class="sxs-lookup"><span data-stu-id="58d1a-168">Might launch a web-based app if no native app exists.</span></span>|
|<span data-ttu-id="58d1a-169">fallbackUrl</span><span class="sxs-lookup"><span data-stu-id="58d1a-169">fallbackUrl</span></span> | <span data-ttu-id="58d1a-170">Строка</span><span class="sxs-lookup"><span data-stu-id="58d1a-170">String</span></span> | <span data-ttu-id="58d1a-171">Необязательный параметр.</span><span class="sxs-lookup"><span data-stu-id="58d1a-171">Optional.</span></span> <span data-ttu-id="58d1a-172">URL-адрес для запуска действия в веб-приложении, если оно доступно.</span><span class="sxs-lookup"><span data-stu-id="58d1a-172">URL used to launch the activity in a web-based app, if available.</span></span>|
|<span data-ttu-id="58d1a-173">contentUrl</span><span class="sxs-lookup"><span data-stu-id="58d1a-173">contentUrl</span></span> | <span data-ttu-id="58d1a-174">Строка</span><span class="sxs-lookup"><span data-stu-id="58d1a-174">String</span></span> | <span data-ttu-id="58d1a-175">Необязательный параметр.</span><span class="sxs-lookup"><span data-stu-id="58d1a-175">Optional.</span></span> <span data-ttu-id="58d1a-176">Используется в том случае, если содержимое можно отобразить за пределами функциональных возможностей собственного или веб-приложения (например, указатель на элемент RSS-канала).</span><span class="sxs-lookup"><span data-stu-id="58d1a-176">Used in the event the content can be rendered outside of a native or web-based app experience (for example, a pointer to an item in an RSS feed).</span></span>|
|<span data-ttu-id="58d1a-177">visualElements</span><span class="sxs-lookup"><span data-stu-id="58d1a-177">visualElements</span></span>| <span data-ttu-id="58d1a-178">[visualInfo](../resources/projectrome_visualinfo.md)</span><span class="sxs-lookup"><span data-stu-id="58d1a-178">Added [visualInfo](../resources/projectrome_visualinfo.md)</span></span> | <span data-ttu-id="58d1a-179">Обязательный.</span><span class="sxs-lookup"><span data-stu-id="58d1a-179">Required.</span></span> <span data-ttu-id="58d1a-180">Объект, содержащий сведения для отображения активности в UX.</span><span class="sxs-lookup"><span data-stu-id="58d1a-180">The object containing information to render the activity in the UX.</span></span>|
|<span data-ttu-id="58d1a-181">contentInfo</span><span class="sxs-lookup"><span data-stu-id="58d1a-181">contentInfo</span></span> | <span data-ttu-id="58d1a-182">Нетипизированный объект JSON</span><span class="sxs-lookup"><span data-stu-id="58d1a-182">Untyped JSON object</span></span> | <span data-ttu-id="58d1a-183">Необязательный параметр.</span><span class="sxs-lookup"><span data-stu-id="58d1a-183">Optional.</span></span> <span data-ttu-id="58d1a-184">Настраиваемые части данных - JSON LD расширяемое описание содержимого в соответствии с синтаксисом [schema.org](http://schema.org).</span><span class="sxs-lookup"><span data-stu-id="58d1a-184">A custom piece of data - JSON-LD extensible description of content according to [schema.org](http://schema.org) syntax.</span></span>|
|<span data-ttu-id="58d1a-185">expirationDateTime</span><span class="sxs-lookup"><span data-stu-id="58d1a-185">expirationDateTime</span></span> | <span data-ttu-id="58d1a-186">DateTimeOffset</span><span class="sxs-lookup"><span data-stu-id="58d1a-186">DateTimeOffset</span></span> | <span data-ttu-id="58d1a-187">Установка с сервера.</span><span class="sxs-lookup"><span data-stu-id="58d1a-187">Set by the server.</span></span> <span data-ttu-id="58d1a-188">Дата и время в формате UTC, когда срок действия объекта на сервере истёк.</span><span class="sxs-lookup"><span data-stu-id="58d1a-188">DateTime in UTC when the object expired on the server.</span></span>|
|<span data-ttu-id="58d1a-189">состояние</span><span class="sxs-lookup"><span data-stu-id="58d1a-189">status</span></span> | <span data-ttu-id="58d1a-190">состояние</span><span class="sxs-lookup"><span data-stu-id="58d1a-190">status</span></span> | <span data-ttu-id="58d1a-191">Установка с сервера.</span><span class="sxs-lookup"><span data-stu-id="58d1a-191">Set by the server.</span></span> <span data-ttu-id="58d1a-192">Код состояния, используемый для идентификации допустимых объектов.</span><span class="sxs-lookup"><span data-stu-id="58d1a-192">A status code used to identify valid objects.</span></span> <span data-ttu-id="58d1a-193">Значения: активный, обновлён, удалён, игнорируется.</span><span class="sxs-lookup"><span data-stu-id="58d1a-193">Values: active, updated, deleted, ignored.</span></span>|

## <a name="relationships"></a><span data-ttu-id="58d1a-194">Отношения</span><span class="sxs-lookup"><span data-stu-id="58d1a-194">Relationships</span></span>

|<span data-ttu-id="58d1a-195">Связь</span><span class="sxs-lookup"><span data-stu-id="58d1a-195">Relationship</span></span> | <span data-ttu-id="58d1a-196">Тип</span><span class="sxs-lookup"><span data-stu-id="58d1a-196">Type</span></span> | <span data-ttu-id="58d1a-197">Описание</span><span class="sxs-lookup"><span data-stu-id="58d1a-197">Description</span></span>|
|:------------|:-----|:-----------|
|<span data-ttu-id="58d1a-198">historyItems</span><span class="sxs-lookup"><span data-stu-id="58d1a-198">historyItems</span></span>| <span data-ttu-id="58d1a-199">Сбор [activityHistoryItem](../resources/projectrome_historyitem.md)</span><span class="sxs-lookup"><span data-stu-id="58d1a-199">[activityHistoryItem](../resources/projectrome_historyitem.md) collection</span></span> | <span data-ttu-id="58d1a-200">Необязательный параметр.</span><span class="sxs-lookup"><span data-stu-id="58d1a-200">Optional.</span></span> <span data-ttu-id="58d1a-201">NavigationProperty/Containment; свойство навигации для historyItems действия.</span><span class="sxs-lookup"><span data-stu-id="58d1a-201">NavigationProperty/Containment; navigation property to the activity's historyItems.</span></span>|

## <a name="json-representation"></a><span data-ttu-id="58d1a-202">Представление JSON</span><span class="sxs-lookup"><span data-stu-id="58d1a-202">JSON representation</span></span>

<span data-ttu-id="58d1a-203">Ниже представлено описание ресурса в формате JSON.</span><span class="sxs-lookup"><span data-stu-id="58d1a-203">Here is a JSON representation of the resource.</span></span>

<!-- {
  "blockType": "resource",
  "optionalProperties": [
    "userTimezone",
    "appDisplayName",
    "fallbackUrl",
    "contentUrl",
    "contentInfo",
    "visualElements",
    "historyItems"
  ],
  "baseType": "microsoft.graph.entity",
  "@odata.type": "microsoft.graph.userActivity",
  "@odata.annotations": [
    {
      "capabilities": {
        "countable": false,
        "selectable": false,
        "skippable": false
      }
    }
  ]
}-->

```json
{
    "appActivityId": "String",
    "activitySourceHost": "String (host name/domain/URL)",
    "userTimezone": "String",
    "appDisplayName": "String",
    "activationUrl": "String (URL)",
    "contentUrl": "String (URL)",
    "fallbackUrl": "String (URL)",
    "createdDateTime": "DateTimeOffset",
    "lastModifiedDateTime": "DateTimeOffset",
    "expirationDateTime": "DateTimeOffset",
    "id": "String",
    "status": "active | updated | deleted | ignored",
    "contentInfo": { "@odata.type": "microsoft.graph.Json" },
    "visualElements": { "@odata.type": "microsoft.graph.visualInfo" },
    "historyItems": [{ "@odata.type": "microsoft.graph.activityHistoryItem" }]
}
```

<!-- uuid: 8fcb5dbc-d5aa-4681-8e31-b001d5168d79
2017-06-07 14:57:30 UTC -->
<!-- {
  "type": "#page.annotation",
  "description": "activity resource",
  "keywords": "",
  "section": "documentation",
  "tocPath": ""
}-->
