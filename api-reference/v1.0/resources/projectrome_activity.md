# <a name="activity-resource-type"></a>тип ресурса действия

Представляет одно действие в приложении - например, телевизионное шоу, документ или текущая кампания в видеоигре. Когда пользователь подключает это действие, это задействование регистрируется как [элемент журнала](projectrome_historyitem.md) , который указывает время начала и окончания для этого действия. По мере того как пользователь повторно подключает это действие с течением времени, в журнал записывается несколько элементов для одного действия пользователя.

Действия в Microsoft Graph можно использовать для предоставления пользователям возможности возврата к тому, что они делали в своём приложении, на нескольких устройствах. Действия, которые создает приложение, отображаются на устройствах всех пользователей и предоставляются пользователям как прямые ссылки для определенного содержимого в вашем приложении. Можно выразить определенное содержимое в вашем приложении как назначения, которые представляются в Windows и доступны на устройства iOS и Android через уведомления Cortana.

Поскольку каждое приложение отличается — от вас зависит, как лучше сопоставить действия в приложении с действиями пользователя, которые будут отображаться в Cortana и на временной шкале. Например, в играх активность может фиксироваться для каждой кампании, приложения для создания документов могут фиксировать активность для каждого отдельного документа, а бизнес-приложения — для каждого рабочего процесса.

Действия пользователя будет демонстрироваться в функциональных возможностях пользователей Cortana и на временной шкалы Windows, которые сосредоточены на повышении производительности и эффективности работы пользователей, помогая им вернуться к контенту, с которым они работали в прошлом.

## <a name="methods"></a>Методы

|Метод | Возвращаемый тип | Описание|
|:------|:------------|:-----------|
|[Создание или замена действия](../api/projectrome_put_activity.md) | [действие](projectrome_activity.md) |Создает или заменяет существующее действие (upsert). AppActivityId должен быть в URL-безопасном формате (все символы, за исключением незарезервированных символов RFC 2396, должны быть преобразованы в шестнадцатеричное представление), однако исходный appActivityId не должен быть в URL-безопасном формате. |
|[Удаление действия](../api/projectrome_delete_activity.md) | Нет содержимого | Удаляет указанное действие для этого пользователя из вашего приложения.|
|[Получение действий](../api/projectrome_get_activities.md) | Сбор [действий](projectrome_activity.md) | Получает действия для вашего приложения для данного пользователя.|
|[Получение последних действий](../api/projectrome_get_recent_activities.md) | Сбор [действий](projectrome_activity.md) | Получает самые последние действия для вашего приложения для данного пользователя, отсортированные и на основе наиболее недавно созданного или обновленного [historyItems](projectrome_historyitem.md).|

## <a name="properties"></a>Свойства

|Имя | Тип | Описание|
|:----|:-----|:-----------|
|userTimezone | Строка | Необязательный параметр. Часовой пояс, в котором используемое для создания действия устройство пользователя находилось во время создания действия; значения, указанные как Олсон идентификаторы для поддержки представления на различных платформах.|
|createdDateTime | DateTimeOffset | Установка с сервера. Дата и время в формате UTC, когда объект был создан на сервере. |
|lastModifiedDateTime | DateTimeOffset | Установка с сервера. Дата и время в формате UTC, когда объект был изменен на сервере. |
|id | Строка | Созданный сервером идентификатор, используемый для URL-адресов.|
|appActivityId | Строка | Обязательно. Идентификатор уникального действия в контексте приложения — предоставляется вызывающим абонентом и является неизменяемым после этого.|
|activitySourceHost | Строка | Обязательно. URL-адрес для домена, представляющий кроссплатформенное сопоставление удостоверений для приложения. Сопоставления сохраняются либо в файле формата JSON в домене или настраиваются помощью центра разработчиков Windows. JSON файл называется кроссплатформенными идентификаторами приложений и размещается в корневом каталоге вашего домена HTTPS, в домене верхнего уровня или включaется в поддомен. Примеры: https://contoso.com или https://myapp.contoso.com, но НЕ https://myapp.contoso.com/somepath. На каждое кроссплатформенное удостоверение приложения необходимо иметь уникальный файл и домен (или поддомен). Например, для Word и PowerPoint требуется отдельный файл и домен.|
|AppDisplayName | Строка | Необязательный параметр. Короткое текстовое описание приложения, используемого для создания действий, для использования в тех случаях, когда приложение не установлено на локальном устройстве пользователя.|
|activationUrl | Строка | Обязательно. URL-адрес, используемый для запуска действия с лучшими собственными функциональными возможностями, представленными appId. Может запустить веб-приложение, если нет собственного приложения.|
|fallbackUrl | Строка | Необязательный параметр. URL-адрес для запуска действия в веб-приложении, если оно доступно.|
|contentUrl | Строка | Необязательный параметр. Используется в том случае, если содержимое можно отобразить за пределами функциональных возможностей собственного или веб-приложения (например, указатель на элемент RSS-канала).|
|visualElements| [visualInfo](../resources/projectrome_visualinfo.md) | Обязательный. Объект, содержащий сведения для отображения активности в UX.|
|contentInfo | Нетипизированный объект JSON | Необязательный параметр. Настраиваемые части данных - JSON LD расширяемое описание содержимого в соответствии с синтаксисом [schema.org](http://schema.org).|
|expirationDateTime | DateTimeOffset | Установка с сервера. Дата и время в формате UTC, когда срок действия объекта на сервере истёк.|
|состояние | состояние | Установка с сервера. Код состояния, используемый для идентификации допустимых объектов. Значения: активный, обновлён, удалён, игнорируется.|

## <a name="relationships"></a>Отношения

|Связь | Тип | Описание|
|:------------|:-----|:-----------|
|historyItems| Сбор [activityHistoryItem](../resources/projectrome_historyitem.md) | Необязательный параметр. NavigationProperty/Containment; свойство навигации для historyItems действия.|

## <a name="json-representation"></a>Представление JSON

Ниже представлено описание ресурса в формате JSON.

<!-- {
  "blockType": "resource",
  "optionalProperties": [
    "userTimezone",
    "appDisplayName",
    "fallbackUrl",
    "contentUrl",
    "contentInfo",
    "visualElements",
    "historyItems"
  ],
  "baseType": "microsoft.graph.entity",
  "@odata.type": "microsoft.graph.userActivity",
  "@odata.annotations": [
    {
      "capabilities": {
        "countable": false,
        "selectable": false,
        "skippable": false
      }
    }
  ]
}-->

```json
{
    "appActivityId": "String",
    "activitySourceHost": "String (host name/domain/URL)",
    "userTimezone": "String",
    "appDisplayName": "String",
    "activationUrl": "String (URL)",
    "contentUrl": "String (URL)",
    "fallbackUrl": "String (URL)",
    "createdDateTime": "DateTimeOffset",
    "lastModifiedDateTime": "DateTimeOffset",
    "expirationDateTime": "DateTimeOffset",
    "id": "String",
    "status": "active | updated | deleted | ignored",
    "contentInfo": { "@odata.type": "microsoft.graph.Json" },
    "visualElements": { "@odata.type": "microsoft.graph.visualInfo" },
    "historyItems": [{ "@odata.type": "microsoft.graph.activityHistoryItem" }]
}
```

<!-- uuid: 8fcb5dbc-d5aa-4681-8e31-b001d5168d79
2017-06-07 14:57:30 UTC -->
<!-- {
  "type": "#page.annotation",
  "description": "activity resource",
  "keywords": "",
  "section": "documentation",
  "tocPath": ""
}-->
