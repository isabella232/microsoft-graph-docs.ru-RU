---
title: Использование интерфейса API REST канале активности
description: 'Веб-канал API в Microsoft Graph активности можно использовать для возобновления actiity пользователя между устройствами и платформами. Запросы API веб-канала активности выполняются от имени пользователя с помощью делегированы разрешения и разрешение активности пользователей, которую можно использовать с учетными записями личных или рабочих и школы. '
ms.openlocfilehash: 25b7af22671256a6dd48536a7da232f16251184f
ms.sourcegitcommit: 334e84b4aed63162bcc31831cffd6d363dafee02
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/29/2018
ms.locfileid: "27024892"
---
# <a name="use-the-activity-feed-rest-api"></a><span data-ttu-id="d8655-104">Использование интерфейса API REST канале активности</span><span class="sxs-lookup"><span data-stu-id="d8655-104">Use the activity feed REST API</span></span>

<span data-ttu-id="d8655-105">Веб-канал API в Microsoft Graph активности можно использовать для возобновления actiity пользователя между устройствами и платформами.</span><span class="sxs-lookup"><span data-stu-id="d8655-105">You can use the activity feed API in Microsoft Graph to resume a user's actiity across devices and platforms.</span></span> <span data-ttu-id="d8655-106">Запросы API веб-канала активности выполняются от имени пользователя с помощью [делегированных разрешений](/graph/permissions-reference#delegated-permissions-application-permissions-and-effective-permissions) и [разрешений активности пользователя](/graph/permissions-reference), который можно использовать с личных или рабочих и школы учетных записей.</span><span class="sxs-lookup"><span data-stu-id="d8655-106">Activity feed API requests are performed on behalf of a user via [delegated permissions](/graph/permissions-reference#delegated-permissions-application-permissions-and-effective-permissions) and the [user activity permission](/graph/permissions-reference), which can be used with either personal or work and school accounts.</span></span> 

<span data-ttu-id="d8655-107">Действия пользователя представлены [действия](https://developer.microsoft.com/graph/docs/api-reference/v1.0/resources/projectrome_activity) ресурсов и организованы в веб-канал на основе времени представленной коллекции me / действий.</span><span class="sxs-lookup"><span data-stu-id="d8655-107">User activities are represented by the [activity](https://developer.microsoft.com/graph/docs/api-reference/v1.0/resources/projectrome_activity) resource and are organized in a time-based feed represented by the collection me/activities.</span></span> 
<!-- Add missing content.
Each activity represents a unique... 
-->
## <a name="what-makes-a-great-user-activity"></a><span data-ttu-id="d8655-108">Что делает действие хорошие пользователя?</span><span class="sxs-lookup"><span data-stu-id="d8655-108">What makes a great user activity?</span></span>

<span data-ttu-id="d8655-109">Действия пользователя не только что запуска приложения — они являются прямые ссылки в определенного содержимого в вашем приложении.</span><span class="sxs-lookup"><span data-stu-id="d8655-109">User activities don’t just launch apps — they are deep links into specific content within your app.</span></span> <span data-ttu-id="d8655-110">Действия пользователя, вы создаете можно не только использоваться в свои собственные приложения, но также будут отображаться в Cortana и временной шкалы Windows — управляющий reengagement дополнительные приложения и облегчая пользователям продолжить использование приложения различными устройствами.</span><span class="sxs-lookup"><span data-stu-id="d8655-110">The user activities you create can not only be used in your own app, but will also appear in Cortana and Windows Timeline — driving more app reengagement and making it easier for your users to continue using your app across multiple devices.</span></span>  

### <a name="what-should-become-an-activity"></a><span data-ttu-id="d8655-111">Что должен стать действия?</span><span class="sxs-lookup"><span data-stu-id="d8655-111">What should become an activity?</span></span> 

<span data-ttu-id="d8655-112">Поскольку каждое приложение отличается, — каждого приложения разработчиков понять лучше сопоставить действия в приложении на действия пользователя.</span><span class="sxs-lookup"><span data-stu-id="d8655-112">Because every app is different, it's up to each app developer to understand the best way to map actions within your application to user activities.</span></span> <span data-ttu-id="d8655-113">Например игры может создать действие для каждой кампании, документ разработки приложений может создать действие для каждого уникального документа и бизнес-приложения могли создать действие для каждого рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="d8655-113">For example, games might create an activity for each campaign, document authoring apps might create an activity for each unique document, and line-of-business apps might create an activity for each workflow.</span></span> 

<span data-ttu-id="d8655-114">При определении activitites в вашем приложении применяются следующие рекомендации:</span><span class="sxs-lookup"><span data-stu-id="d8655-114">Apply the following guidlines as you define activitites in your app:</span></span>

<span data-ttu-id="d8655-115">**ВЫПОЛНИТЕ:** Запишите одно действие для группы действий, связанных с ними пользователей.</span><span class="sxs-lookup"><span data-stu-id="d8655-115">**DO:** Record a single activity for a group of related user actions.</span></span> <span data-ttu-id="d8655-116">При использовании приложения для последовательности связанный контент, вероятно, имеет смысл для записи отдельного действия для всего оказания сеанса.</span><span class="sxs-lookup"><span data-stu-id="d8655-116">If your application is used for a sequence of related content, it probably makes sense to record a single activity for the entire engagement session.</span></span>  

<span data-ttu-id="d8655-117">*Списка воспроизведения сценариев:* Это особенно важно для воспроизведения музыки или показывает TV — активности одного пользователя можно обновить для отображения хода выполнения.</span><span class="sxs-lookup"><span data-stu-id="d8655-117">*Playlist scenarios:* This is especially relevant for music playlists or TV shows — a single user activity can be updated to show your progress.</span></span> <span data-ttu-id="d8655-118">В этом случае будут иметь активности одного пользователя с помощью нескольких [элементов журнала](https://developer.microsoft.com/graph/docs/api-reference/v1.0/resources/projectrome_historyitem) , представляющие периоды сотрудничества через несколько дней и даже недель.</span><span class="sxs-lookup"><span data-stu-id="d8655-118">In this case, you will have a single user activity with multiple [history items](https://developer.microsoft.com/graph/docs/api-reference/v1.0/resources/projectrome_historyitem) representing periods of engagement across multiple days or weeks.</span></span>  

<span data-ttu-id="d8655-119">**ВЫПОЛНИТЕ:** Хранят данные пользователей в облако.</span><span class="sxs-lookup"><span data-stu-id="d8655-119">**DO:** Store user data to the cloud.</span></span> <span data-ttu-id="d8655-120">Для поддержки нескольких устройств действий необходимо убедитесь, что будет храниться содержимое, необходимые для reengage это действие в облаке расположение.</span><span class="sxs-lookup"><span data-stu-id="d8655-120">If you want to support cross-device activities, you need to make sure the content required to reengage this activity is stored to a cloud location.</span></span> <span data-ttu-id="d8655-121">Например при публикации действия при каждом изменении пользователем документа, документ необходимо хранить в облаке в отличие от локально на устройстве пользователя для поддержки нескольких устройств reengagement.</span><span class="sxs-lookup"><span data-stu-id="d8655-121">For example, if you publish an activity each time a user edits a document, the document should be stored in the cloud as opposed to locally on the user's device in order to enable cross-device reengagement.</span></span>  

<span data-ttu-id="d8655-122">**Не:** Создание пользовательских действий для действия, которые пользователи не требуется возобновить в будущем.</span><span class="sxs-lookup"><span data-stu-id="d8655-122">**DO NOT:** Create a user activity for actions that users do not need to resume in the future.</span></span> <span data-ttu-id="d8655-123">При использовании приложения для выполнения простых, одноразовый операции, которые не сохраняет состояние, которые необходимо отслеживать в будущем, вероятно, не нужно записать действие пользователя.</span><span class="sxs-lookup"><span data-stu-id="d8655-123">If your application is used to complete simple, one-time operations that do not persist status for you to track in the future, you probably do not need to write a user activity.</span></span> 

<span data-ttu-id="d8655-124">Чтобы уточнить, несмотря на то, что действия пользователя появляются в Windows временной шкалы, это не разработан как средства управления версиями — Выбор действия на основе документов всегда следует отображать последнюю версию этого документа (включая изменения, внесенные другим пользователем).</span><span class="sxs-lookup"><span data-stu-id="d8655-124">To be clear, even though user activities appear in Windows Timeline, this is not designed as a versioning tool — choosing a document-based activity should always show the latest version of that document (including changes that were made by another user.)</span></span>

<span data-ttu-id="d8655-125">**Не:** Создание пользовательских действий для действия выполнены *другими*пользователями.</span><span class="sxs-lookup"><span data-stu-id="d8655-125">**DO NOT:** Create a user activity for actions completed by *other users*.</span></span> <span data-ttu-id="d8655-126">Если кто-то отправляет пользователю сообщение или @mentions пользователя в вашем приложении, не указывайте новое действие.</span><span class="sxs-lookup"><span data-stu-id="d8655-126">If someone sends the user a message, or @mentions the user within your app, you should not write a new activity.</span></span> <span data-ttu-id="d8655-127">Взаимодействие упрощает решение благодаря возможности представления уведомлений.</span><span class="sxs-lookup"><span data-stu-id="d8655-127">These interactions are better served by surfacing notifications.</span></span>  

<span data-ttu-id="d8655-128">*Сценариев совместной работы:* Если для одного действия (например, документ Word) работает несколько пользователей, будет случаев, когда другой пользователь внес изменения в документ после его последнего изменения.</span><span class="sxs-lookup"><span data-stu-id="d8655-128">*Collaboration scenarios:* If multiple people are working on the same activity (such as a Word document), there will be cases when another user has made changes to the document after you last edited it.</span></span> <span data-ttu-id="d8655-129">В этом случае разработки приложений может потребоваться обновить визуальных элементов активности для отражения изменений в документ.</span><span class="sxs-lookup"><span data-stu-id="d8655-129">In this case, app developers might want to update the visual elements in the activity to reflect changes made to the document.</span></span> <span data-ttu-id="d8655-130">Для этого приложения может обновить существующего действия без создания нового элемента журнала.</span><span class="sxs-lookup"><span data-stu-id="d8655-130">To do this, the app might update the existing activity without creating a new history item.</span></span> 

><span data-ttu-id="d8655-131">**Примечание:** В случае публикации действий для веб-приложения, важно обоих `activationURL` и `fallbackURL` для каждого действия пользователя.</span><span class="sxs-lookup"><span data-stu-id="d8655-131">**Note:** If you're publishing activities for a web application, it's important to include both an `activationURL` and a `fallbackURL` for each of your activities.</span></span> <span data-ttu-id="d8655-132">Действия будет запущен пользователя обратно в приложение с Microsoft каждый раз, как временная шкала Windows.</span><span class="sxs-lookup"><span data-stu-id="d8655-132">The activities will launch the user back into your app as expected from Microsoft experiences like Windows Timeline.</span></span> 

## <a name="app-interaction-patterns-and-user-activities"></a><span data-ttu-id="d8655-133">Шаблоны взаимодействия приложения и действия пользователя</span><span class="sxs-lookup"><span data-stu-id="d8655-133">App interaction patterns and user activities</span></span> 
<span data-ttu-id="d8655-134">Действия пользователя, которые вы создаете зависит от шаблоне взаимодействия вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="d8655-134">The user activities that you create will vary based on the interaction pattern of your app.</span></span> <span data-ttu-id="d8655-135">При разных каждое приложение большинство делятся на следующие шаблоны взаимодействия:</span><span class="sxs-lookup"><span data-stu-id="d8655-135">While every app is different, most will fall into one of the following interaction patterns:</span></span> 

* <span data-ttu-id="d8655-136">**Приложения на основе документов** — создать одно действие каждого документа с записи журнала, что отражает периоды использования.</span><span class="sxs-lookup"><span data-stu-id="d8655-136">**Document-based apps** — Create one activity per document with one or more history records reflecting periods of use.</span></span> <span data-ttu-id="d8655-137">Очень важно для обновления карточки действия при внесении изменений в документ.</span><span class="sxs-lookup"><span data-stu-id="d8655-137">It is important to update your activity card as changes are made to the document.</span></span> 
* <span data-ttu-id="d8655-138">**Воспроизведение мультимедиа приложения** — создать одно действие на логической группировки контент, такой как список воспроизведения, программа или автономного содержимого.</span><span class="sxs-lookup"><span data-stu-id="d8655-138">**Media playback apps** — Create one activity per logical grouping of content such as a playlist, program, or standalone content.</span></span> 
* <span data-ttu-id="d8655-139">**Игры** — создать одно действие для каждого из них сохранен игру или символика.</span><span class="sxs-lookup"><span data-stu-id="d8655-139">**Games** — Create one activity for each saved game or world.</span></span> <span data-ttu-id="d8655-140">Если игра поддерживает только один последовательность уровней, можно написать того же действия со временем, несмотря на то, что может потребоваться обновить карту для отображения вашей последние хода выполнения или достижения.</span><span class="sxs-lookup"><span data-stu-id="d8655-140">If your game supports only a single sequence of levels, you can write the same activity over time, although you might want to update your card to show your latest progress or achievements.</span></span> 
* <span data-ttu-id="d8655-141">**Служебная программа приложения** — Если нет ничего в вашем приложении, пользователям потребуются для возобновления, не следует публиковать действий.</span><span class="sxs-lookup"><span data-stu-id="d8655-141">**Utility apps** — If there is nothing within your app that users would want to resume, you should not publish activities.</span></span> <span data-ttu-id="d8655-142">Хороший пример — это простое приложение однонаправленные как калькулятор.</span><span class="sxs-lookup"><span data-stu-id="d8655-142">A good example is a simple single-purpose app like calculator.</span></span> 
* <span data-ttu-id="d8655-143">**Бизнес - приложений** , существует много приложений для управления простых задач или рабочих процессов.</span><span class="sxs-lookup"><span data-stu-id="d8655-143">**Line-of-business apps** — Many apps exist for managing simple tasks or workflows.</span></span> <span data-ttu-id="d8655-144">Создайте одно действие для каждой отдельной рабочего процесса, через вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="d8655-144">Create one activity for each separate workflow accessed through your app.</span></span> <span data-ttu-id="d8655-145">Например каждого отчета о расходах равен отдельного действия, так как может потребоваться нажмите кнопку действия для просмотра, если оно было утверждено.</span><span class="sxs-lookup"><span data-stu-id="d8655-145">For example, each expense report would be a separate activity, because you might want to click that activity to see if it was approved.</span></span>

<span data-ttu-id="d8655-146">*Некоторые сложные приложения включают несколько шаблонов взаимодействия. Может потребоваться выполните другого пользователя активности Создание шаблонов для различных сценариев, обрабатываемых вашего приложения.*</span><span class="sxs-lookup"><span data-stu-id="d8655-146">*Some complex apps include multiple interaction patterns. You might want to follow different user activity creation patterns for different scenarios handled by your app.*</span></span>

<!-- Add content or remove H2.
## Common use cases 
-->

## <a name="next-steps"></a><span data-ttu-id="d8655-147">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="d8655-147">Next steps</span></span>

- <span data-ttu-id="d8655-148">Просмотр [активности ресурсов](https://developer.microsoft.com/graph/docs/api-reference/v1.0/resources/projectrome_activity) и определите ваше приложение действия, которые помогут пользователям возобновления важные задачи.</span><span class="sxs-lookup"><span data-stu-id="d8655-148">See the [activity resource](https://developer.microsoft.com/graph/docs/api-reference/v1.0/resources/projectrome_activity) and define your app's activities to help users resume important tasks.</span></span>
- <span data-ttu-id="d8655-149">Изучите примеры [Примеры адаптивный карточки](https://adaptivecards.io/samples/) идеи сделать вашей действия **pop**.</span><span class="sxs-lookup"><span data-stu-id="d8655-149">Explore the [adaptive card samples](https://adaptivecards.io/samples/) samples for ideas to make your activities **pop**.</span></span>  
- <span data-ttu-id="d8655-150">Опробуйте API в [песочнице Graph](https://developer.microsoft.com/graph/graph-explorer).</span><span class="sxs-lookup"><span data-stu-id="d8655-150">Try the API in the [Graph Explorer](https://developer.microsoft.com/graph/graph-explorer).</span></span>

<span data-ttu-id="d8655-151">**Найти дополнительные сведения?**</span><span class="sxs-lookup"><span data-stu-id="d8655-151">**Looking for more ideas?**</span></span> 

- <span data-ttu-id="d8655-152">В разделе [как Microsoft среды взаимодействия с пользователем с помощью действия](https://channel9.msdn.com/events/Build/2017/B8108).</span><span class="sxs-lookup"><span data-stu-id="d8655-152">See [how Microsoft experiences are using activities](https://channel9.msdn.com/events/Build/2017/B8108).</span></span>
- <span data-ttu-id="d8655-153">Сведения о [действия веб-канала API и трубку с я места](https://channel9.msdn.com/Events/Windows/Windows-Developer-Day-Fall-Creators-Update/WinDev011).</span><span class="sxs-lookup"><span data-stu-id="d8655-153">Learn about [the activity feed API and pick up where I left off](https://channel9.msdn.com/Events/Windows/Windows-Developer-Day-Fall-Creators-Update/WinDev011).</span></span>
