---
title: Тип ресурса подписки
description: 'Подписка позволяет клиентского приложения, чтобы получать уведомления об изменениях данных в Microsoft Graph. На данный момент подписки включены следующие ресурсы:'
localization_priority: Priority
author: piotrci
ms.openlocfilehash: 7837524f2ce20a24154b84a82537ec6a4149bfe9
ms.sourcegitcommit: 36be044c89a19af84c93e586e22200ec919e4c9f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/12/2019
ms.locfileid: "27917820"
---
# <a name="subscription-resource-type"></a>Тип ресурса подписки

Подписка позволяет клиентского приложения, чтобы получать уведомления об изменениях данных в Microsoft Graph. На данный момент подписки включены следующие ресурсы:

- Почты, события и контакты из Outlook.
- Беседы в группах Office.
- Диск корневым элементов из службы OneDrive.
- Пользователи и группы из Azure Active Directory.
- Оповещения о от безопасности Microsoft Graph API.

## <a name="json-representation"></a>Представление JSON

Ниже представлено описание ресурса в формате JSON.

<!--{
  "blockType": "resource",
  "optionalProperties": [],
  "baseType": "microsoft.graph.entity",
  "@odata.type": "microsoft.graph.subscription",
  "@odata.annotations": [
    {
      "capabilities": {
        "skippable": false,
        "toppable": false,
        "countable": false,
        "expandable": false,
        "filterable": false,
        "referenceable": false,
        "selectable": false,
        "sortable": false
      }
    }
  ]
}-->

```json
{
  "changeType": "string",
  "notificationUrl": "string",
  "resource": "string",
  "applicationId" : "string",
  "expirationDateTime": "String (timestamp)",
  "id": "string (identifier)",
  "clientState": "string",
  "creatorId": "string"
}
```

## <a name="properties"></a>Свойства

| Свойство | Тип | Описание |
|:---------|:-----|:------------|
| changeType | строка | Обязательный. Указывает тип изменения в ресурсе, на который оформлена подписка и при возникновении которого будет создано уведомление. Поддерживаемые значения: `created`, `updated`, `deleted`. Вы можете объединить несколько значений, указав их в списке с разделителями-запятыми.<br><br>Примечание: Диск корневого элемента уведомлений поддерживает только `updated` changeType. Уведомления пользователей и групп поддержки `updated` и `deleted` changeType.|
| notificationUrl | строка | Обязательный. URL-адрес конечной точки, который будет получать уведомления. Этот URL-адрес необходимо использовать протокол HTTPS протокола. |
| resource | строка | Обязательный. Указывает ресурс, к которому будет выполняться мониторинг изменений. Не включать базовый URL-адрес (`https://graph.microsoft.com/v1.0/`). |
| expirationDateTime | [dateTime](https://tools.ietf.org/html/rfc3339) | Обязательный. Указывает дату и время истечения срока действия подписки на веб-перехватчик. Используется время в формате UTC, и оно может представлять собой время с момента создания подписки, которое зависит от ресурса, на который оформлена подписка.  В приведенной ниже таблице указан максимально допустимый период подписки. |
| clientState | строка | Необязательный параметр. Указывает значение свойства `clientState`, отправляемого службой в каждом уведомлении. Максимальная длина составляет 128 символов. Клиент может проверить, пришло ли уведомление от службы, сравнив значение свойства `clientState`, отправленного с подпиской, со значением свойства `clientState`, получаемого с каждым уведомлением. |
| id | строка | Уникальный идентификатор для подписки. Только для чтения. |
| applicationId | строка | Идентификатор приложения, используемого для создания подписки. Только для чтения. |
| creatorId | строка | Идентификатор пользователя или участника-службы, которая создана подписка. Если используется приложение делегированных разрешений на создание подписки, это поле содержит код вызова приложения от имени владельца пользователь выполнил вход. Если приложение разрешения приложения, это поле содержит идентификатор участника-службы, соответствующего приложения. Только для чтения. |

## <a name="maximum-length-of-subscription-per-resource-type"></a>Максимальный период подписки для каждого из типов ресурсов

| Ресурс            | Максимальный срок действия  |
|:--------------------|:-------------------------|
| Почта                | 4230 минут (в разделе 3 дня)    |
| Календарь            | 4230 минут (в разделе 3 дня)    |
| Контакты            | 4230 минут (в разделе 3 дня)    |
| Беседы группы | 4230 минут (в разделе 3 дня)    |
| Элементы в корне диска    | 4230 минут (в разделе 3 дня)    |
| Оповещение системы безопасности     | 43200 минут (в разделе 30 дней)  |

> **Примечание:** Поддерживаемые значения не должна превышать существующих приложений и новых приложений. В дальнейшем все запросы, чтобы создать или обновить подписку за пределы максимальное значение завершится с ошибкой.

## <a name="relationships"></a>Связи

Нет

## <a name="methods"></a>Методы

| Метод | Возвращаемый тип | Описание |
|:-------|:------------|:------------|
| [Создание подписки](../api/subscription-post-subscriptions.md) | [subscription](subscription.md) | Создание подписки для приложения прослушивателя, чтобы можно было получать уведомления при изменении данных в Microsoft Graph. |
| [Обновление подписки](../api/subscription-update.md) | [subscription](subscription.md) | Обновление подписки путем изменения ее срока действия. |
| [Список подписок](../api/subscription-list.md) | [subscription](subscription.md) | Список активных подписок. |
| [Получение подписки](../api/subscription-get.md) | [subscription](subscription.md) | Чтение свойств и связей объекта subscription. |
| [Удаление подписки](../api/subscription-delete.md) | Нет |Удаление объекта subscription. |

<!-- uuid: 8fcb5dbc-d5aa-4681-8e31-b001d5168d79
2015-10-25 14:57:30 UTC -->
<!-- {
  "type": "#page.annotation",
  "description": "subscription resource",
  "keywords": "",
  "section": "documentation",
  "tocPath": ""
}-->
