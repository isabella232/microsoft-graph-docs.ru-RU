---
title: Тип ресурса активности
description: Представляет одно действие в приложении — например, телепередача, документ или текущую кампанию в видеоигре. Когда пользователь наносит это действие, задействование регистрируется в виде элемента журнала, который указывает время начала и окончания для этого действия. По мере того как пользователь повторно перезапускается с этим действием, для одного действия пользователя записываются несколько элементов журнала.
localization_priority: Normal
ms.prod: project-rome
author: ''
doc_type: resourcePageType
ms.openlocfilehash: 1b0e0f7cd6ed3a7629653719078b1e69eeeffc19
ms.sourcegitcommit: 2c62457e57467b8d50f21b255b553106a9a5d8d6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/31/2019
ms.locfileid: "36035030"
---
# <a name="activity-resource-type"></a><span data-ttu-id="37e9e-105">Тип ресурса активности</span><span class="sxs-lookup"><span data-stu-id="37e9e-105">activity resource type</span></span>

<span data-ttu-id="37e9e-106">Представляет одно действие в приложении — например, телепередача, документ или текущую кампанию в видеоигре.</span><span class="sxs-lookup"><span data-stu-id="37e9e-106">Represents a single activity within an app - for example, a TV show, a document, or a current campaign in a video game.</span></span> <span data-ttu-id="37e9e-107">Когда пользователь наносит это действие, задействование регистрируется в виде [элемента журнала](projectrome-historyitem.md) , который указывает время начала и окончания для этого действия.</span><span class="sxs-lookup"><span data-stu-id="37e9e-107">When a user engages with that activity, the engagement is captured as a [history item](projectrome-historyitem.md) that indicates the start and end time for that activity.</span></span> <span data-ttu-id="37e9e-108">По мере того как пользователь повторно перезапускается с этим действием, для одного действия пользователя записываются несколько элементов журнала.</span><span class="sxs-lookup"><span data-stu-id="37e9e-108">As the user re-engages with that activity over time, multiple history items are recorded for a single user activity.</span></span>

<span data-ttu-id="37e9e-109">Вы можете использовать действия в Microsoft Graph, чтобы позволить пользователям возвращаться к тем, что они сделали в своем приложении, на нескольких устройствах.</span><span class="sxs-lookup"><span data-stu-id="37e9e-109">You can use activities in Microsoft Graph to enable users to get back to what they were doing in their app, across multiple devices.</span></span> <span data-ttu-id="37e9e-110">Действия, которые создает ваше приложение, отображаются на всех устройствах пользователей и предоставляются пользователям в виде глубоких ссылок на конкретные материалы в вашем приложении.</span><span class="sxs-lookup"><span data-stu-id="37e9e-110">Activities that your app creates appear on all users' devices, and are exposed to users as deep links to specific content within your app.</span></span> <span data-ttu-id="37e9e-111">Вы можете выразить определенный контент в вашем приложении как назначение, которое будет демонстрироваться в Windows, и доступно на устройствах iOS и Android с помощью уведомлений Кортаны.</span><span class="sxs-lookup"><span data-stu-id="37e9e-111">You can express specific content within your app as a destination that is showcased in Windows, and accessible on iOS and Android devices through Cortana notifications.</span></span>

<span data-ttu-id="37e9e-112">Так как каждое приложение различается, лучше всего узнать, как сопоставить действия в приложении с действиями пользователей, которые будут отображаться в Кортане и временной шкале.</span><span class="sxs-lookup"><span data-stu-id="37e9e-112">Because every app is different, it's up to you to understand the best way to map actions within your application to user activities that will appear in Cortana and Timeline.</span></span> <span data-ttu-id="37e9e-113">Например, в играх могут создаваться действия для каждой кампании, приложения для создания документов могут создавать действия для каждого уникального документа, а бизнес-приложения могут создавать действия для каждого рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="37e9e-113">For example, games might create an activity for each campaign, document authoring apps might create an activity for each unique document, and line-of-business apps might create an activity for each workflow.</span></span>

<span data-ttu-id="37e9e-114">Ваши действия пользователя будут демонстрироваться в Кортане и пользовательском интерфейсе на временной шкале Windows, что фокусируется на повышении производительности и эффективности пользователей, помогая им вернуться к содержимому, которое они работали в прошлое.</span><span class="sxs-lookup"><span data-stu-id="37e9e-114">Your user activities will be showcased in Cortana and Windows Timeline user experiences, which are focused on increasing users' productivity and efficiency by helping them get back to content they worked on in the past.</span></span>

## <a name="methods"></a><span data-ttu-id="37e9e-115">Методы</span><span class="sxs-lookup"><span data-stu-id="37e9e-115">Methods</span></span>

|<span data-ttu-id="37e9e-116">Метод</span><span class="sxs-lookup"><span data-stu-id="37e9e-116">Method</span></span> | <span data-ttu-id="37e9e-117">Возвращаемый тип</span><span class="sxs-lookup"><span data-stu-id="37e9e-117">Return Type</span></span> | <span data-ttu-id="37e9e-118">Описание</span><span class="sxs-lookup"><span data-stu-id="37e9e-118">Description</span></span>|
|:------|:------------|:-----------|
|[<span data-ttu-id="37e9e-119">Создание или замена действия</span><span class="sxs-lookup"><span data-stu-id="37e9e-119">Create or replace activity</span></span>](../api/projectrome-put-activity.md) | [<span data-ttu-id="37e9e-120">действии</span><span class="sxs-lookup"><span data-stu-id="37e9e-120">activity</span></span>](projectrome-activity.md) |<span data-ttu-id="37e9e-121">Создает или заменяет существующее действие (UPSERT).</span><span class="sxs-lookup"><span data-stu-id="37e9e-121">Creates or replaces an existing activity (upsert).</span></span> <span data-ttu-id="37e9e-122">Аппактивитид должен быть безопасным по URL-адресу (все символы, кроме зарезервированных символов RFC 2396, должны быть преобразованы в шестнадцатеричное представление), но исходный Аппактивитид не обязательно должен быть безопасным по URL-адресу.</span><span class="sxs-lookup"><span data-stu-id="37e9e-122">The appActivityId needs to be URL-safe (all characters except for RFC 2396 unreserved characters must be converted to their hexadecimal representation), but the original appActivityId does not have to be URL-safe.</span></span> |
|[<span data-ttu-id="37e9e-123">Удаление действия</span><span class="sxs-lookup"><span data-stu-id="37e9e-123">Delete an activity</span></span>](../api/projectrome-delete-activity.md) | <span data-ttu-id="37e9e-124">Содержимое отсутствует</span><span class="sxs-lookup"><span data-stu-id="37e9e-124">No Content</span></span> | <span data-ttu-id="37e9e-125">Удаляет указанное действие для этого пользователя из приложения.</span><span class="sxs-lookup"><span data-stu-id="37e9e-125">Deletes the specified activity for that user from your app.</span></span>|
|[<span data-ttu-id="37e9e-126">Получение действий</span><span class="sxs-lookup"><span data-stu-id="37e9e-126">Get activities</span></span>](../api/projectrome-get-activities.md) | <span data-ttu-id="37e9e-127">Коллекция [действий](projectrome-activity.md)</span><span class="sxs-lookup"><span data-stu-id="37e9e-127">Collection of [activities](projectrome-activity.md)</span></span> | <span data-ttu-id="37e9e-128">Возвращает действия для вашего приложения для определенного пользователя.</span><span class="sxs-lookup"><span data-stu-id="37e9e-128">Gets the activities for your app for a given user.</span></span>|
|[<span data-ttu-id="37e9e-129">Получение последних действий</span><span class="sxs-lookup"><span data-stu-id="37e9e-129">Get recent activities</span></span>](../api/projectrome-get-recent-activities.md) | <span data-ttu-id="37e9e-130">Коллекция [действий](projectrome-activity.md)</span><span class="sxs-lookup"><span data-stu-id="37e9e-130">Collection of [activities](projectrome-activity.md)</span></span> | <span data-ttu-id="37e9e-131">Получает последние действия для приложения для определенного пользователя, отсортированные и основанные на недавно созданном или обновленном [historyitem](projectrome-historyitem.md).</span><span class="sxs-lookup"><span data-stu-id="37e9e-131">Gets the most recent activities for your app for a given user, sorted and based on the most recently created or updated [historyItems](projectrome-historyitem.md).</span></span>|

## <a name="properties"></a><span data-ttu-id="37e9e-132">Свойства</span><span class="sxs-lookup"><span data-stu-id="37e9e-132">Properties</span></span>

|<span data-ttu-id="37e9e-133">Имя</span><span class="sxs-lookup"><span data-stu-id="37e9e-133">Name</span></span> | <span data-ttu-id="37e9e-134">Тип</span><span class="sxs-lookup"><span data-stu-id="37e9e-134">Type</span></span> | <span data-ttu-id="37e9e-135">Описание</span><span class="sxs-lookup"><span data-stu-id="37e9e-135">Description</span></span>|
|:----|:-----|:-----------|
|<span data-ttu-id="37e9e-136">Усертимезоне</span><span class="sxs-lookup"><span data-stu-id="37e9e-136">userTimezone</span></span> | <span data-ttu-id="37e9e-137">String</span><span class="sxs-lookup"><span data-stu-id="37e9e-137">String</span></span> | <span data-ttu-id="37e9e-138">Необязательное свойство.</span><span class="sxs-lookup"><span data-stu-id="37e9e-138">Optional.</span></span> <span data-ttu-id="37e9e-139">Часовой пояс, в котором устройство пользователя, используемое для создания действия, было размещено во время создания действия; значения, предоставляемые как идентификаторы Олсона для поддержки представления на нескольких платформах.</span><span class="sxs-lookup"><span data-stu-id="37e9e-139">The timezone in which the user's device used to generate the activity was located at activity creation time; values supplied as Olson IDs in order to support cross-platform representation.</span></span>|
|<span data-ttu-id="37e9e-140">createdDateTime</span><span class="sxs-lookup"><span data-stu-id="37e9e-140">createdDateTime</span></span> | <span data-ttu-id="37e9e-141">DateTimeOffset</span><span class="sxs-lookup"><span data-stu-id="37e9e-141">DateTimeOffset</span></span> | <span data-ttu-id="37e9e-142">Задается сервером.</span><span class="sxs-lookup"><span data-stu-id="37e9e-142">Set by the server.</span></span> <span data-ttu-id="37e9e-143">Дата и время в формате UTC, когда объект был создан на сервере.</span><span class="sxs-lookup"><span data-stu-id="37e9e-143">DateTime in UTC when the object was created on the server.</span></span> |
|<span data-ttu-id="37e9e-144">lastModifiedDateTime</span><span class="sxs-lookup"><span data-stu-id="37e9e-144">lastModifiedDateTime</span></span> | <span data-ttu-id="37e9e-145">DateTimeOffset</span><span class="sxs-lookup"><span data-stu-id="37e9e-145">DateTimeOffset</span></span> | <span data-ttu-id="37e9e-146">Задается сервером.</span><span class="sxs-lookup"><span data-stu-id="37e9e-146">Set by the server.</span></span> <span data-ttu-id="37e9e-147">Дата и время в формате UTC, когда объект был изменен на сервере.</span><span class="sxs-lookup"><span data-stu-id="37e9e-147">DateTime in UTC when the object was modified on the server.</span></span> |
|<span data-ttu-id="37e9e-148">id</span><span class="sxs-lookup"><span data-stu-id="37e9e-148">id</span></span> | <span data-ttu-id="37e9e-149">Строка</span><span class="sxs-lookup"><span data-stu-id="37e9e-149">String</span></span> | <span data-ttu-id="37e9e-150">Идентификатор, созданный сервером, используемый для адресации URL-адресов.</span><span class="sxs-lookup"><span data-stu-id="37e9e-150">Server-generated ID used for URL addressing.</span></span>|
|<span data-ttu-id="37e9e-151">Аппактивитид</span><span class="sxs-lookup"><span data-stu-id="37e9e-151">appActivityId</span></span> | <span data-ttu-id="37e9e-152">String</span><span class="sxs-lookup"><span data-stu-id="37e9e-152">String</span></span> | <span data-ttu-id="37e9e-153">Обязательный.</span><span class="sxs-lookup"><span data-stu-id="37e9e-153">Required.</span></span> <span data-ttu-id="37e9e-154">Уникальный идентификатор действия в контексте приложения, предоставленного вызывающим и неизменяемым после этого.</span><span class="sxs-lookup"><span data-stu-id="37e9e-154">The unique activity ID in the context of the app - supplied by caller and immutable thereafter.</span></span>|
|<span data-ttu-id="37e9e-155">Активитисаурцехост</span><span class="sxs-lookup"><span data-stu-id="37e9e-155">activitySourceHost</span></span> | <span data-ttu-id="37e9e-156">String</span><span class="sxs-lookup"><span data-stu-id="37e9e-156">String</span></span> | <span data-ttu-id="37e9e-157">Обязательный.</span><span class="sxs-lookup"><span data-stu-id="37e9e-157">Required.</span></span> <span data-ttu-id="37e9e-158">URL-адрес домена, представляющий сопоставление удостоверений между платформами для приложения.</span><span class="sxs-lookup"><span data-stu-id="37e9e-158">URL for the domain representing the cross-platform identity mapping for the app.</span></span> <span data-ttu-id="37e9e-159">Сопоставление хранится в виде JSON-файла, размещенного в домене или настраиваемого через центр разработки для Windows.</span><span class="sxs-lookup"><span data-stu-id="37e9e-159">Mapping is stored either as a JSON file hosted on the domain or configurable via Windows Dev Center.</span></span> <span data-ttu-id="37e9e-160">JSON-файл называется Cross-Platform-App-Identifiers и размещается в корне домена HTTPS в домене верхнего уровня или включает поддомен.</span><span class="sxs-lookup"><span data-stu-id="37e9e-160">The JSON file is named cross-platform-app-identifiers and is hosted at root of your HTTPS domain, either at the top level domain or include a sub domain.</span></span> <span data-ttu-id="37e9e-161">Примеры: https://contoso.com или https://myapp.contoso.com, но НЕ https://myapp.contoso.com/somepath.</span><span class="sxs-lookup"><span data-stu-id="37e9e-161">For example: https://contoso.com or https://myapp.contoso.com but NOT https://myapp.contoso.com/somepath.</span></span> <span data-ttu-id="37e9e-162">Для удостоверения приложения на нескольких платформах необходимо наличие уникального файла и домена (или дочернего домена).</span><span class="sxs-lookup"><span data-stu-id="37e9e-162">You must have a unique file and domain (or sub domain) per cross-platform app identity.</span></span> <span data-ttu-id="37e9e-163">Например, для Word и PowerPoint требуется отдельный файл и домен.</span><span class="sxs-lookup"><span data-stu-id="37e9e-163">For example, a separate file and domain is needed for Word vs. PowerPoint.</span></span>|
|<span data-ttu-id="37e9e-164">appDisplayName</span><span class="sxs-lookup"><span data-stu-id="37e9e-164">appDisplayName</span></span> | <span data-ttu-id="37e9e-165">String</span><span class="sxs-lookup"><span data-stu-id="37e9e-165">String</span></span> | <span data-ttu-id="37e9e-166">Необязательное свойство.</span><span class="sxs-lookup"><span data-stu-id="37e9e-166">Optional.</span></span> <span data-ttu-id="37e9e-167">Краткое текстовое описание приложения, которое используется для создания действия для использования в случаях, когда приложение не установлено на локальном устройстве пользователя.</span><span class="sxs-lookup"><span data-stu-id="37e9e-167">Short text description of the app used to generate the activity for use in cases when the app is not installed on the user’s local device.</span></span>|
|<span data-ttu-id="37e9e-168">Активатионурл</span><span class="sxs-lookup"><span data-stu-id="37e9e-168">activationUrl</span></span> | <span data-ttu-id="37e9e-169">String</span><span class="sxs-lookup"><span data-stu-id="37e9e-169">String</span></span> | <span data-ttu-id="37e9e-170">Обязательный.</span><span class="sxs-lookup"><span data-stu-id="37e9e-170">Required.</span></span> <span data-ttu-id="37e9e-171">URL-адрес, используемый для запуска действия в оптимальном собственном интерфейсе, представленном appId.</span><span class="sxs-lookup"><span data-stu-id="37e9e-171">URL used to launch the activity in the best native experience represented by the appId.</span></span> <span data-ttu-id="37e9e-172">Может запустить веб-приложение, если не существует собственного приложения.</span><span class="sxs-lookup"><span data-stu-id="37e9e-172">Might launch a web-based app if no native app exists.</span></span>|
|<span data-ttu-id="37e9e-173">Фаллбаккурл</span><span class="sxs-lookup"><span data-stu-id="37e9e-173">fallbackUrl</span></span> | <span data-ttu-id="37e9e-174">String</span><span class="sxs-lookup"><span data-stu-id="37e9e-174">String</span></span> | <span data-ttu-id="37e9e-175">Необязательное свойство.</span><span class="sxs-lookup"><span data-stu-id="37e9e-175">Optional.</span></span> <span data-ttu-id="37e9e-176">URL-адрес, используемый для запуска действия в веб-приложении, если оно доступно.</span><span class="sxs-lookup"><span data-stu-id="37e9e-176">URL used to launch the activity in a web-based app, if available.</span></span>|
|<span data-ttu-id="37e9e-177">contentUrl</span><span class="sxs-lookup"><span data-stu-id="37e9e-177">contentUrl</span></span> | <span data-ttu-id="37e9e-178">String</span><span class="sxs-lookup"><span data-stu-id="37e9e-178">String</span></span> | <span data-ttu-id="37e9e-179">Необязательное свойство.</span><span class="sxs-lookup"><span data-stu-id="37e9e-179">Optional.</span></span> <span data-ttu-id="37e9e-180">Используется в событии, когда содержимое может отображаться за преработкой в собственном или веб-интерфейсе веб-приложения (например, указатель на элемент в RSS-канале).</span><span class="sxs-lookup"><span data-stu-id="37e9e-180">Used in the event the content can be rendered outside of a native or web-based app experience (for example, a pointer to an item in an RSS feed).</span></span>|
|<span data-ttu-id="37e9e-181">Висуалелементс</span><span class="sxs-lookup"><span data-stu-id="37e9e-181">visualElements</span></span>| [<span data-ttu-id="37e9e-182">Висуалинфо</span><span class="sxs-lookup"><span data-stu-id="37e9e-182">visualInfo</span></span>](../resources/projectrome-visualinfo.md) | <span data-ttu-id="37e9e-183">Обязательно.</span><span class="sxs-lookup"><span data-stu-id="37e9e-183">Required.</span></span> <span data-ttu-id="37e9e-184">Объект, содержащий информацию для отображения действий в пользовательском интерфейсе.</span><span class="sxs-lookup"><span data-stu-id="37e9e-184">The object containing information to render the activity in the UX.</span></span>|
|<span data-ttu-id="37e9e-185">Контентинфо</span><span class="sxs-lookup"><span data-stu-id="37e9e-185">contentInfo</span></span> | <span data-ttu-id="37e9e-186">Нетипизированный объект JSON</span><span class="sxs-lookup"><span data-stu-id="37e9e-186">Untyped JSON object</span></span> | <span data-ttu-id="37e9e-187">Необязательно.</span><span class="sxs-lookup"><span data-stu-id="37e9e-187">Optional.</span></span> <span data-ttu-id="37e9e-188">Настраиваемая часть расширяемого описания содержимого Data – JSON – LD в соответствии с синтаксисом [Schema.org](https://schema.org) .</span><span class="sxs-lookup"><span data-stu-id="37e9e-188">A custom piece of data - JSON-LD extensible description of content according to [schema.org](https://schema.org) syntax.</span></span>|
|<span data-ttu-id="37e9e-189">expirationDateTime</span><span class="sxs-lookup"><span data-stu-id="37e9e-189">expirationDateTime</span></span> | <span data-ttu-id="37e9e-190">DateTimeOffset</span><span class="sxs-lookup"><span data-stu-id="37e9e-190">DateTimeOffset</span></span> | <span data-ttu-id="37e9e-191">Задается сервером.</span><span class="sxs-lookup"><span data-stu-id="37e9e-191">Set by the server.</span></span> <span data-ttu-id="37e9e-192">DateTime в формате UTC, когда истечет срок действия объекта на сервере.</span><span class="sxs-lookup"><span data-stu-id="37e9e-192">DateTime in UTC when the object expired on the server.</span></span>|
|<span data-ttu-id="37e9e-193">status</span><span class="sxs-lookup"><span data-stu-id="37e9e-193">status</span></span> | <span data-ttu-id="37e9e-194">status</span><span class="sxs-lookup"><span data-stu-id="37e9e-194">status</span></span> | <span data-ttu-id="37e9e-195">Задается сервером.</span><span class="sxs-lookup"><span data-stu-id="37e9e-195">Set by the server.</span></span> <span data-ttu-id="37e9e-196">Код состояния, используемый для идентификации допустимых объектов.</span><span class="sxs-lookup"><span data-stu-id="37e9e-196">A status code used to identify valid objects.</span></span> <span data-ttu-id="37e9e-197">Значения: активные, обновленные, удаленные, проигнорированы.</span><span class="sxs-lookup"><span data-stu-id="37e9e-197">Values: active, updated, deleted, ignored.</span></span>|

## <a name="relationships"></a><span data-ttu-id="37e9e-198">Отношения</span><span class="sxs-lookup"><span data-stu-id="37e9e-198">Relationships</span></span>

|<span data-ttu-id="37e9e-199">Отношение</span><span class="sxs-lookup"><span data-stu-id="37e9e-199">Relationship</span></span> | <span data-ttu-id="37e9e-200">Тип</span><span class="sxs-lookup"><span data-stu-id="37e9e-200">Type</span></span> | <span data-ttu-id="37e9e-201">Описание</span><span class="sxs-lookup"><span data-stu-id="37e9e-201">Description</span></span>|
|:------------|:-----|:-----------|
|<span data-ttu-id="37e9e-202">Historyitem</span><span class="sxs-lookup"><span data-stu-id="37e9e-202">historyItems</span></span>| <span data-ttu-id="37e9e-203">Коллекция [активитихисторитем](../resources/projectrome-historyitem.md)</span><span class="sxs-lookup"><span data-stu-id="37e9e-203">[activityHistoryItem](../resources/projectrome-historyitem.md) collection</span></span> | <span data-ttu-id="37e9e-204">Необязательно.</span><span class="sxs-lookup"><span data-stu-id="37e9e-204">Optional.</span></span> <span data-ttu-id="37e9e-205">Свойство NavigationProperty/вложение; свойство навигации для Historyitem действия.</span><span class="sxs-lookup"><span data-stu-id="37e9e-205">NavigationProperty/Containment; navigation property to the activity's historyItems.</span></span>|

## <a name="json-representation"></a><span data-ttu-id="37e9e-206">Представление JSON</span><span class="sxs-lookup"><span data-stu-id="37e9e-206">JSON representation</span></span>

<span data-ttu-id="37e9e-207">Ниже представлено описание ресурса в формате JSON.</span><span class="sxs-lookup"><span data-stu-id="37e9e-207">Here is a JSON representation of the resource.</span></span>

<!-- {
  "blockType": "resource",
  "optionalProperties": [
    "userTimezone",
    "appDisplayName",
    "fallbackUrl",
    "contentUrl",
    "contentInfo",
    "visualElements",
    "historyItems"
  ],
  "baseType": "microsoft.graph.entity",
  "@odata.type": "microsoft.graph.userActivity",
  "@odata.annotations": [
    {
      "capabilities": {
        "countable": false,
        "selectable": false,
        "skippable": false
      }
    }
  ]
}-->

```json
{
    "appActivityId": "String",
    "activitySourceHost": "String (host name/domain/URL)",
    "userTimezone": "String",
    "appDisplayName": "String",
    "activationUrl": "String (URL)",
    "contentUrl": "String (URL)",
    "fallbackUrl": "String (URL)",
    "createdDateTime": "DateTimeOffset",
    "lastModifiedDateTime": "DateTimeOffset",
    "expirationDateTime": "DateTimeOffset",
    "id": "String",
    "status": "active | updated | deleted | ignored",
    "contentInfo": { "@odata.type": "microsoft.graph.Json" },
    "visualElements": { "@odata.type": "microsoft.graph.visualInfo" },
    "historyItems": [{ "@odata.type": "microsoft.graph.activityHistoryItem" }]
}
```

<!-- uuid: 8fcb5dbc-d5aa-4681-8e31-b001d5168d79
2017-06-07 14:57:30 UTC -->
<!-- {
  "type": "#page.annotation",
  "description": "activity resource",
  "keywords": "",
  "section": "documentation",
  "tocPath": ""
}-->
