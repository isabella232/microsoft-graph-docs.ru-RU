---
title: Обновление объекта tiIndicator
description: Обновление свойств объекта Тииндикатор.
localization_priority: Normal
author: preetikr
ms.prod: security
ms.openlocfilehash: 55459b9d095738471d8e1f6b91244752b086b238
ms.sourcegitcommit: c0df90d66cb2072848d4bb0bf730c47a601b99ce
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/29/2019
ms.locfileid: "34536462"
---
# <a name="update-tiindicator"></a>Обновление объекта tiIndicator

[!INCLUDE [beta-disclaimer](../../includes/beta-disclaimer.md)]

Обновление свойств объекта [тииндикатор](../resources/tiindicator.md) .

## <a name="permissions"></a>Разрешения

Для вызова этого API требуется одно из указанных ниже разрешений. Дополнительные сведения, включая сведения о том, как выбрать разрешения, см. в статье [Разрешения](/graph/permissions-reference).

| Тип разрешения                        | Разрешения (в порядке повышения привилегий) |
|:---------------------------------------|:--------------------------------------------|
| Делегированные (рабочая или учебная учетная запись)     | ThreatIndicators.ReadWrite.OwnedBy |
| Делегированные (личная учетная запись Майкрософт) | Не поддерживается. |
| Для приложений                            | ThreatIndicators.ReadWrite.OwnedBy |

## <a name="http-request"></a>HTTP-запрос

<!-- { "blockType": "ignored" } -->

```http
PATCH /security/tiIndicators/{id}
```

## <a name="request-headers"></a>Заголовки запросов

| Имя       | Описание|
|:-----------|:-----------|
| Авторизация | **Необходим** носитель {код} |
|Prefer | Возврат = представление |

## <a name="request-body"></a>Текст запроса

В тексте запроса укажите значения для соответствующих полей, которые необходимо обновить. Предыдущие значения существующих свойств, не включенных в текст запроса, останутся прежними или будут повторно вычислены с учетом измененных значений других свойств. Для достижения оптимальной производительности не включайте существующие значения, которые не изменились.

| Свойство     | Тип        | Описание |
|:-------------|:------------|:------------|
|action|string| Действие, которое необходимо применить, если индикатор сопоставлен с помощью средства безопасности Таржетпродукт. Возможные значения: `unknown`, `allow`, `block`, `alert`.|
|Активитиграупнамес|Коллекция строк|Имя (-ы) логики операций с угрозами кибератак для сторон, ответственных за вредоносные действия, охваченные индикатором угроз.|
|Аддитионалинформатион|String|Область общего пользования, в которую могут быть размещены дополнительные данные из индикатора, не охваченные другими свойствами Тииндикатор. Данные, помещаемые в Аддитионалинформатион, обычно не используются средством безопасности Таржетпродукт.|
|confidence|Int32|Целое число, представляющее достоверность, с помощью которой данные в индикаторе точно определяют вредоносное поведение. Допустимые значения: 0 – 100 с 100 по убыванию.|
|description|String|Краткое описание угрозы, представленное индикатором (100 символов или меньше).|
|Диамондмодел|[Диамондмодел](#diamondmodel-values)|Область модели ромба, в которой существует этот индикатор. Возможные значения: `unknown`, `adversary`, `capability`, `infrastructure`, `victim`.|
|expirationDateTime|DateTimeOffset| Строка DateTime, указывающая, когда истечет срок действия индикатора. Все индикаторы должны иметь дату истечения срока действия, чтобы не допустить устаревших показателей в системе. Тип Timestamp представляет сведения о времени и дате с использованием формата ISO 8601 (всегда применяется формат UTC). Например, значение полуночи 1 января 2014 г. в формате UTC выглядит так: `2014-01-01T00:00:00Z`.|
|externalId|String|Идентификационный номер, который привязывает индикатор к системе поставщика индикаторов (например, внешнему ключу).|
|isActive|Boolean|Используется для отключения индикаторов в системе. По умолчанию все отправленные индикаторы задаются как активные. Однако поставщики могут отсылать существующие индикаторы с этим набором в значение false, чтобы отключить индикаторы в системе.|
|Киллчаин|Коллекция [киллчаин](#killchain-values)|Массив строк JSON, указывающий, какая точка или точки в цепочке аннулирования этот индикатор. Точные значения приведены в разделе "значения Киллчаин".|
|Кновнфалсепоситивес|String|Сценарии, в которых индикатор может вызывать ложные срабатывания. Это должен быть понятный для человека текст.|
|lastReportedDateTime|DateTimeOffset|Время последнего рассмотрения индикатора. Тип Timestamp представляет сведения о дате и времени с использованием формата ISO 8601, причем всегда используется время в формате UTC. Например, значение полуночи 1 января 2014 г. в формате UTC выглядит так: `2014-01-01T00:00:00Z`.|
|Малварефамилинамес|Коллекция строк|Имя семейства вредоносных программ, связанное с индикатором, если оно существует. Корпорация Майкрософт применяет имя семейства вредоносных программ (Майкрософт), если это возможно, то, что можно [](https://www.microsoft.com/wdsi/threats)найти с помощью энциклопедии по системе безопасности защитника Windows.|
|Пассивеонли|Boolean|Определяет, должен ли индикатор инициировать событие, видимое конечному пользователю. Если задано значение true, средства безопасности не уведомляют конечного пользователя о выполнении "попадания". Чаще всего это рассматривается как аудит или тихий режим по продуктам безопасности, в котором они просто зарегистрируются, но не будут выполнять действие. Значение по умолчанию − ложь.|
|severity|Int32|Целое число, представляющее серьезность вредоносного поведения, идентифицируемого данными в индикаторе. Допустимые значения: 0 – 5, где 5 — самый серьезный, а ноль — нет. Значение по умолчанию — 3.|
|tags|Коллекция String|Массив строк JSON, в котором хранятся произвольные Теги и ключевые слова.|
|Тлплевел|[Тлплевел](#tlplevel-values)| Значение протокола светофора для индикатора. Возможные значения: `unknown`, `white`, `green`, `amber`, `red`.|

### <a name="diamondmodel-values"></a>значения Диамондмодел

Сведения об этой модели можно найти [в разделе Модель ромба](http://diamondmodel.org).

| Значения | Описание |
|:-------|:------------|
|Злоумышленник|Индикатор описывает.|
|поставлен|Индикатор является возможностью злоумышленника.|
|инфраструктур|Индикатор описывает инфраструктуру злоумышленника.|
|стала|Индикатор описывает жертвой злоумышленника.|

### <a name="killchain-values"></a>значения Киллчаин

| Значения | Описание |
|:-------|:------------|
|Действия|Представляет "действия по целям". Злоумышленник получает такие действия, как распределенная атака типа "отказ в обслуживании".|
|C2|Представляет канал управления, с которым работает скомпрометированная система.|
|Delivery|Процесс распространения кода эксплойта для жертв (например, USB, электронной почты, веб-сайтов).|
|Опасность|Код эксплойта использует преимущества уязвимостей (например, выполнение кода).|
|Установка|Установка вредоносных программ после использования уязвимости.|
|Реконнаиссанце|Индикатор — это свидетельство того, что Группа действий получает сведения, которые будут использоваться при следующей атаке.|
|Веапонизатион|Включение уязвимости в код эксплойта (например, вредоносные программы).|

### <a name="tlplevel-values"></a>значения Тлплевел

При отправке каждого индикатора должен быть задано значение протокола светофора (ТЛП). Это значение представляет собой чувствительность и область общего доступа к заданному индикатору.

| Значения | Описание |
|:-------|:------------|
|Белый| Область общего доступа: unlimited. Индикаторы могут быть предоставлены бесплатно, без ограничений.|
|Зеленый| Область общего доступа: сообщество. С помощью сообщества безопасности можно предоставить доступ к индикаторам.|
|Оранжевого| Область общего доступа: ограничена. Это параметр по умолчанию для индикаторов и разрешает совместное использование только тем, у которых есть ненужные: 1) службы и операторы служб, реализующие логику операций с угрозами; 2) клиенты, чьи системы соответствуют поведению с индикатором.|
|Красный| Область общего доступа: личная. Эти индикаторы предназначены только для предоставления доступа напрямую и, желательно, в случае человека. Как правило, ТЛП красные индикаторы не отправляются из-за ограничений, заданных ранее. Если отправляются красные индикаторы ТЛП, свойству **пассивеонли** следует присвоить значение `True` также. |

## <a name="response"></a>Ответ

В случае успешного выполнения этот метод возвращает код отклика `204 No Content`.

Если используется заголовок необязательного запроса, метод возвращает код `200 OK` отклика и обновленный объект [тииндикатор](../resources/tiindicator.md) в тексте отклика.

## <a name="examples"></a>Примеры

### <a name="example-1-request-without-prefer-header"></a>Пример 1: запрос без верхнего колонтитула

#### <a name="request"></a>Запрос

Ниже приведен пример запроса без `Prefer` заголовка.
<!-- {
  "blockType": "request",
  "name": "update_tiIndicator"
}-->

```http
PATCH https://graph.microsoft.com/beta/security/tiIndicators/{id}
Content-type: application/json

{
  "description": "description-updated",
}
```

#### <a name="response"></a>Отклик

Ниже приведен пример отклика.

<!-- {
  "blockType": "response",
  "truncated": true,
  "@odata.type": "microsoft.graph.tiIndicator"
} -->

```http
HTTP/1.1 204 No Content
```
#### <a name="sdk-sample-code"></a>Пример кода SDK
# <a name="ctabcs"></a>[C#](#tab/cs)
[!INCLUDE [sample-code](../includes/update_tiIndicator-Cs-snippets.md)]

# <a name="javascripttabjavascript"></a>[Javascript](#tab/javascript)
[!INCLUDE [sample-code](../includes/update_tiIndicator-Javascript-snippets.md)]

---

[!INCLUDE [sdk-documentation](../includes/snippets_sdk_documentation_link.md)]

### <a name="example-2-request-with-prefer-header"></a>Пример 2: запрос с заголовком предпочтения

#### <a name="request"></a>Запрос

Ниже приведен пример запроса, включающего `Prefer` заголовок.

<!-- {
  "blockType": "request",
  "name": "update_tiIndicator"
}-->

```http
PATCH https://graph.microsoft.com/beta/security/tiIndicators/{id}
Content-type: application/json
Prefer: return=representation

{
  "additionalInformation": "additionalInformation-after-update",
  "confidence": 42,
  "description": "description-after-update",
}
```

#### <a name="response"></a>Отклик

Ниже приведен пример ответа.

> [!NOTE]
> Объект Response, показанный здесь, может быть укорочен для удобочитаемости. При фактическом вызове будут возвращены все свойства.

<!-- {
  "blockType": "response",
  "truncated": true,
  "@odata.type": "microsoft.graph.tiIndicator"
} -->

```http
HTTP/1.1 200 OK
Content-type: application/json

{
    "@odata.context": "https://graph.microsoft.com/beta/$metadata#Security/tiIndicators/$entity",
    "id": "e58c072b-c9bb-a5c4-34ce-eb69af44fb1e",
    "azureTenantId": "XXXXXXXXXXXXXXXXXXXXXXXXX",
    "action": null,
    "additionalInformation": "additionalInformation-after-update",
    "activityGroupNames": [],
    "confidence": 42,
    "description": "description-after-update",
}
```

<!-- uuid: 16cd6b66-4b1a-43a1-adaf-3a886856ed98
2019-02-04 14:57:30 UTC -->
<!-- {
  "type": "#page.annotation",
  "description": "Update tiIndicator",
  "keywords": "",
  "section": "documentation",
  "tocPath": "",
  "suppressions": [
    "Error: /api-reference/beta/api/tiindicator-update.md:\r\n      BookmarkMissing: '[#tab/cs](C#)'. Did you mean: #c (score: 5)",
    "Error: /api-reference/beta/api/tiindicator-update.md:\r\n      BookmarkMissing: '[#tab/javascript](Javascript)'. Did you mean: #javascript (score: 4)",
    "Error: /api-reference/beta/api/tiindicator-update.md:\r\n      BookmarkMissing: '[#tab/cs](C#)'. Did you mean: #c (score: 5)",
    "Error: /api-reference/beta/api/tiindicator-update.md:\r\n      BookmarkMissing: '[#tab/javascript](Javascript)'. Did you mean: #javascript (score: 4)"
  ]
}-->
