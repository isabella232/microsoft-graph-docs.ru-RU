---
title: Использование интерфейса API REST планировщик работы
description: В Microsoft Graph можно использовать планировщик работы API для создания задачи и назначения их для пользователей в группу в Office 365.
ms.openlocfilehash: 264a196a24dde21b57ff3627c7c39c1951a02ce6
ms.sourcegitcommit: 334e84b4aed63162bcc31831cffd6d363dafee02
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/29/2018
ms.locfileid: "27074783"
---
# <a name="use-the-planner-rest-api"></a><span data-ttu-id="ee8f2-103">Использование интерфейса API REST планировщик работы</span><span class="sxs-lookup"><span data-stu-id="ee8f2-103">Use the Planner REST API</span></span>

> <span data-ttu-id="ee8f2-104">**Важно!** API бета-версии (/beta) в Microsoft Graph проходят тестирование и могут быть изменены.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-104">**Important:** APIs under the /beta version in Microsoft Graph are in preview and are subject to change.</span></span> <span data-ttu-id="ee8f2-105">Использование этих API в производственных приложениях не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-105">Use of these APIs in production applications is not supported.</span></span>

<span data-ttu-id="ee8f2-106">В Microsoft Graph можно использовать планировщик работы API для создания задачи и назначения их для пользователей в группу в Office 365.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-106">You can use the Planner API in Microsoft Graph to create tasks and assign them to users in a group in Office 365.</span></span>

<span data-ttu-id="ee8f2-107">Перед началом работы с API планировщик работы, стоит Общие сведения о связи основные объекты с друг другу, а также как, чтобы группы Office 365.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-107">Before you get started with Planner API, it is worth understanding how the main objects relate to each other as well as to Office 365 groups.</span></span>

## <a name="groups"></a><span data-ttu-id="ee8f2-108">Groups</span><span class="sxs-lookup"><span data-stu-id="ee8f2-108">Groups</span></span>

<span data-ttu-id="ee8f2-109">Группы Office 365 — это владельцев планы в API планировщик работы.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-109">Office 365 groups are the owners of the plans in the Planner API.</span></span>
<span data-ttu-id="ee8f2-110">[Получение планы, владельцем которого в группу](../api/plannergroup-list-plans.md)чтобы следующие HTTP-запроса.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-110">To [get the plans owned by a group](../api/plannergroup-list-plans.md), make the following HTTP request.</span></span>

``` http
GET /groups/{id}/planner/plans
```

<span data-ttu-id="ee8f2-111">При [Создание нового плана](../api/planner-post-plans.md), установите плана владелец группы, задав `owner` свойство объекта плана.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-111">When [creating a new plan](../api/planner-post-plans.md), give the plan a group owner by setting the `owner` property on a plan object.</span></span> <span data-ttu-id="ee8f2-112">План должен принадлежать группе.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-112">A plan must be owned by a group.</span></span> <span data-ttu-id="ee8f2-113">Группа может иметь собственные несколько планов.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-113">A group can own multiple plans.</span></span>

><span data-ttu-id="ee8f2-114">**Примечание:** Пользователя, создающего план должен быть членом группы, который будет владельцем плана.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-114">**Note:** The user who is creating the plan must be a member of the group that will own the plan.</span></span> <span data-ttu-id="ee8f2-115">При создании новой группы с помощью [Создать группу](../api/group-post-groups.md), вы не добавляются в группу как члена группы.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-115">When you create a new group by using [Create group](../api/group-post-groups.md), you are not added to the group as a member.</span></span> <span data-ttu-id="ee8f2-116">После создания группы добавьте себя в качестве члена с помощью [учета членов группы](../api/group-post-members.md).</span><span class="sxs-lookup"><span data-stu-id="ee8f2-116">After the group is created, add yourself as a member by using [group post members](../api/group-post-members.md).</span></span>

## <a name="plans"></a><span data-ttu-id="ee8f2-117">Планы</span><span class="sxs-lookup"><span data-stu-id="ee8f2-117">Plans</span></span>

<span data-ttu-id="ee8f2-118">[Планы](plannerplan.md) — это контейнеры [задачи](plannertask.md).</span><span class="sxs-lookup"><span data-stu-id="ee8f2-118">[Plans](plannerplan.md) are the containers of [tasks](plannertask.md).</span></span> <span data-ttu-id="ee8f2-119">[Создание задачи в плане](../api/planner-post-tasks.md), задайте `planId` свойство объекта задач в идентификатор плана при создании задачи.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-119">To [create a task in a plan](../api/planner-post-tasks.md), set the `planId` property on the task object to the ID of the plan while creating the task.</span></span>
<span data-ttu-id="ee8f2-120">В настоящее время не создаются задачи без планы.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-120">Tasks currently cannot be created without plans.</span></span>
<span data-ttu-id="ee8f2-121">Для [получения задачи в плане](../api/plannerplan-list-tasks.md)внесите следующие HTTP-запроса.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-121">To [retrieve the tasks in a plan](../api/plannerplan-list-tasks.md), make the following HTTP request.</span></span>

``` http
GET /planner/plans/{id}/tasks
```

## <a name="tasks"></a><span data-ttu-id="ee8f2-122">Задачи</span><span class="sxs-lookup"><span data-stu-id="ee8f2-122">Tasks</span></span>

<span data-ttu-id="ee8f2-p106">Задачу можно назначить пользователю, добавив [назначение](plannerassignment.md) в свойстве [assignments](plannerassignments.md) объекта задачи. Идентификатор исполнителя задачи — это имя открытого свойства `assignments`, необходимо также указать свойство `orderHint` назначения.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-p106">Each task can be assigned to a user by adding an [assignment](plannerassignment.md) in the [assignments](plannerassignments.md) property on the task object. The ID of the user to assign the task is the name of the open property on `assignments`, and the `orderHint` property on the assignment must be specified.</span></span>

## <a name="task-and-plan-details"></a><span data-ttu-id="ee8f2-125">Данные задач и плана</span><span class="sxs-lookup"><span data-stu-id="ee8f2-125">Task and plan details</span></span> 

<span data-ttu-id="ee8f2-126">Планировщик работы ресурсы будут расположены в основные задачи и планирование и сведений о задач и планирование объекты.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-126">Planner resources are arranged into basic task and plan objects and detail task and plan objects.</span></span> <span data-ttu-id="ee8f2-127">Основные объекты предоставляют доступ к общих свойств ресурсы подходит для представления списка, а объекты сведений обеспечивают доступ к свойствам больших ресурсов, подходящего для детализированным представлений.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-127">Basic objects provide access to common properties of the resources, suitable for list views, while the detail objects provide access to large properties of the resources suitable for drill down views.</span></span>

## <a name="visualization"></a><span data-ttu-id="ee8f2-128">Визуализация</span><span class="sxs-lookup"><span data-stu-id="ee8f2-128">Visualization</span></span>

<span data-ttu-id="ee8f2-p108">Помимо данных задач и плана, API Планировщика предоставляет ресурсы для общей визуализации данных по клиентам. Для перечисленных ниже задач доступны несколько типов визуализации данных.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-p108">Aside from task and plan data, the Planner API also provides resources to provide common visualization of data across clients. Several types of visualization data are available for tasks:</span></span>

| <span data-ttu-id="ee8f2-131">Способ представления задач</span><span class="sxs-lookup"><span data-stu-id="ee8f2-131">Tasks are shown as</span></span>                                                                        | <span data-ttu-id="ee8f2-132">Источник информации для упорядочивания задач</span><span class="sxs-lookup"><span data-stu-id="ee8f2-132">Tasks are ordered with information from</span></span>                                         |
| :---------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------ |
| <span data-ttu-id="ee8f2-133">Простой список (задачи в плане)</span><span class="sxs-lookup"><span data-stu-id="ee8f2-133">Flat list (tasks in a plan)</span></span>                                                               | <span data-ttu-id="ee8f2-134">Свойство `orderHint` задач</span><span class="sxs-lookup"><span data-stu-id="ee8f2-134">`orderHint` property on tasks</span></span>                                                   |
| <span data-ttu-id="ee8f2-135">Простой список (задачи, назначенные пользователю)</span><span class="sxs-lookup"><span data-stu-id="ee8f2-135">Flat list (tasks assigned to a user)</span></span>                                                      | <span data-ttu-id="ee8f2-136">Свойство `assigneePriority` задач</span><span class="sxs-lookup"><span data-stu-id="ee8f2-136">`assigneePriority` property on tasks</span></span>                                            |
| <span data-ttu-id="ee8f2-137">Доска со столбцами для исполнителей (доска задач "Кому назначено")</span><span class="sxs-lookup"><span data-stu-id="ee8f2-137">Board view with columns for assignees (assigned to task board)</span></span>                            | <span data-ttu-id="ee8f2-138">Объект [assignedToTaskBoardTaskFormat](plannerassignedtotaskboardtaskformat.md)</span><span class="sxs-lookup"><span data-stu-id="ee8f2-138">[assignedToTaskBoardTaskFormat](plannerassignedtotaskboardtaskformat.md) object</span></span> |
| <span data-ttu-id="ee8f2-139">Доска со столбцами для хода выполнения задачи (доска задач "Ход выполнения")</span><span class="sxs-lookup"><span data-stu-id="ee8f2-139">Board view with columns for progress of the task towards completion (progress task board)</span></span> | <span data-ttu-id="ee8f2-140">Объект [progressTaskBoardTaskFormat](plannerprogresstaskboardtaskformat.md)</span><span class="sxs-lookup"><span data-stu-id="ee8f2-140">[progressTaskBoardTaskFormat](plannerprogresstaskboardtaskformat.md) object</span></span>     |
| <span data-ttu-id="ee8f2-141">Доска с настраиваемыми столбцами задач (доска задач "Сегменты"):</span><span class="sxs-lookup"><span data-stu-id="ee8f2-141">Board view with custom columns of tasks (bucket task board):</span></span>                              | <span data-ttu-id="ee8f2-142">Объект [bucketTaskBoardTaskFormat](plannerbuckettaskboardtaskformat.md)</span><span class="sxs-lookup"><span data-stu-id="ee8f2-142">[bucketTaskBoardTaskFormat](plannerbuckettaskboardtaskformat.md) object</span></span>         |

<span data-ttu-id="ee8f2-143">Настраиваемые столбцы на доске задач "Сегменты" представлены объектами [сегмент](plannerbucket.md), а их порядок — свойством `orderHint` объекта.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-143">The custom columns in the bucket task board are represented by [bucket](plannerbucket.md) objects, and their order by `orderHint` property on the object.</span></span>

<span data-ttu-id="ee8f2-144">Принципы упорядочивания определены в статье [Использование указаний по упорядочиванию в Планировщике](planner-order-hint-format.md).</span><span class="sxs-lookup"><span data-stu-id="ee8f2-144">All the ordering is controlled by the principles identified in [Planner order hints](planner-order-hint-format.md).</span></span>

## <span data-ttu-id="ee8f2-145"><a name="delta">Отслеживание изменений с помощью запроса дельты</a></span><span class="sxs-lookup"><span data-stu-id="ee8f2-145"><a name="delta">Track changes using delta query</a></span></span>

<span data-ttu-id="ee8f2-146">Планировщик работы пользователя дельты запросов поддерживает запросы к объектам, которые подписан пользователь.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-146">Planner's delta query supports querying objects that the user is subscribed to.</span></span>

<span data-ttu-id="ee8f2-147">Пользователи подписаны следующие объекты.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-147">Users are subscribed to the following objects.</span></span>

| <span data-ttu-id="ee8f2-148">Тип ресурса планировщик работы</span><span class="sxs-lookup"><span data-stu-id="ee8f2-148">Planner resource type</span></span> | <span data-ttu-id="ee8f2-149">Подписанный экземпляры</span><span class="sxs-lookup"><span data-stu-id="ee8f2-149">Subscribed instances</span></span>                                                                                                                                                                                    |
| :-------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| <span data-ttu-id="ee8f2-150">Задачи</span><span class="sxs-lookup"><span data-stu-id="ee8f2-150">Tasks</span></span>                 | <ul><li><span data-ttu-id="ee8f2-151">Создаваемые пользователем</span><span class="sxs-lookup"><span data-stu-id="ee8f2-151">Created by the user</span></span></li><li><span data-ttu-id="ee8f2-152">Назначенные пользователю</span><span class="sxs-lookup"><span data-stu-id="ee8f2-152">Assigned to the user</span></span></li><li><span data-ttu-id="ee8f2-153">Принадлежит планирование, которому принадлежит пользователь</span><span class="sxs-lookup"><span data-stu-id="ee8f2-153">Belong to a plan that the user owns</span></span></li><li><span data-ttu-id="ee8f2-154">В план совместно с пользователем с помощью коллекции **SharedWith** плана</span><span class="sxs-lookup"><span data-stu-id="ee8f2-154">Contained in a plan shared with the user through the plan's **SharedWith** collection</span></span></li> |
| <span data-ttu-id="ee8f2-155">Планы</span><span class="sxs-lookup"><span data-stu-id="ee8f2-155">Plans</span></span>                 | <ul><li><span data-ttu-id="ee8f2-156">Совместно с пользователем с помощью коллекции **SharedWith** плана</span><span class="sxs-lookup"><span data-stu-id="ee8f2-156">Shared with the user through the plan's **SharedWith** collection</span></span></li></ul>                                                                                                                     |
| <span data-ttu-id="ee8f2-157">Контейнеры</span><span class="sxs-lookup"><span data-stu-id="ee8f2-157">Buckets</span></span>               | <ul><li><span data-ttu-id="ee8f2-158">В план совместно с пользователем с помощью коллекции **SharedWith** плана</span><span class="sxs-lookup"><span data-stu-id="ee8f2-158">Contained in a plan shared with the user through the plan's **SharedWith** collection</span></span></li></ul>                                                                                                 |  |

### <span data-ttu-id="ee8f2-159"><a name="objectcache">Заполнение кэша объектов для запросов дельты</a></span><span class="sxs-lookup"><span data-stu-id="ee8f2-159"><a name="objectcache">Populate the object cache for delta queries</a></span></span>

<span data-ttu-id="ee8f2-160">Если вы хотите использовать планировщик работы дельты запрос API, Ведение локальный кэш объектов, что пользователь заинтересована в наблюдения для применения изменений из веб-канал ответа дельты.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-160">If you want to use the Planner delta query API, maintain a local cache of objects that the user is interested in observing in order to apply the changes from the delta response feed.</span></span>

<span data-ttu-id="ee8f2-161">Объекты дельты полезных данных, которые в настоящее время может возвратить запрос дельты планировщик работы как из следующих типов:</span><span class="sxs-lookup"><span data-stu-id="ee8f2-161">The delta payload objects that the Planner delta query can currently return will be of the following types:</span></span>

* <span data-ttu-id="ee8f2-162">[plannerTask](plannertask.md);</span><span class="sxs-lookup"><span data-stu-id="ee8f2-162">[plannerTask](plannertask.md)</span></span>
* <span data-ttu-id="ee8f2-163">[plannerTaskDetails](plannertaskdetails.md);</span><span class="sxs-lookup"><span data-stu-id="ee8f2-163">[plannerTaskDetails](plannertaskdetails.md)</span></span>
* <span data-ttu-id="ee8f2-164">[plannerPlan](plannerplan.md);</span><span class="sxs-lookup"><span data-stu-id="ee8f2-164">[plannerPlan](plannerplan.md)</span></span>
* <span data-ttu-id="ee8f2-165">[plannerPlanDetails](plannerplandetails.md);</span><span class="sxs-lookup"><span data-stu-id="ee8f2-165">[plannerPlanDetails](plannerplandetails.md)</span></span>
* <span data-ttu-id="ee8f2-166">[plannerBucket](plannerbucket.md);</span><span class="sxs-lookup"><span data-stu-id="ee8f2-166">[plannerBucket](plannerbucket.md)</span></span>
* <span data-ttu-id="ee8f2-167">[plannerAssignedToTaskBoardTaskFormat](plannerassignedtotaskboardtaskformat.md);</span><span class="sxs-lookup"><span data-stu-id="ee8f2-167">[plannerAssignedToTaskBoardTaskFormat](plannerassignedtotaskboardtaskformat.md)</span></span>
* <span data-ttu-id="ee8f2-168">[plannerBucketTaskBoardTaskFormat](plannerbuckettaskboardtaskformat.md);</span><span class="sxs-lookup"><span data-stu-id="ee8f2-168">[plannerBucketTaskBoardTaskFormat](plannerbuckettaskboardtaskformat.md)</span></span>
* <span data-ttu-id="ee8f2-169">[plannerAssignedToTaskBoardTaskFormat](plannerassignedtotaskboardtaskformat.md);</span><span class="sxs-lookup"><span data-stu-id="ee8f2-169">[plannerAssignedToTaskBoardTaskFormat](plannerassignedtotaskboardtaskformat.md)</span></span>

<span data-ttu-id="ee8f2-170">Используйте соответствующий `GET` методы на ресурс для получения исходное состояние объектов, которые следует добавить в локальный кэш.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-170">Use the corresponding `GET` methods on the resource to obtain the initial state of objects to be populated into the local cache.</span></span>

### <a name="differentiating-between-object-creation-and-object-modification"></a><span data-ttu-id="ee8f2-171">Различие объектов создания и изменения объектов</span><span class="sxs-lookup"><span data-stu-id="ee8f2-171">Differentiating between object creation and object modification</span></span>

<span data-ttu-id="ee8f2-172">В некоторых сценариях Звонящий может потребоваться различать объект создания и изменения объектов в запросе дельты планировщик работы по веб-канала.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-172">In certain scenarios, the caller might want to distinguish between object creation and object modification within Planner's delta query feed.</span></span>

<span data-ttu-id="ee8f2-173">Эти руководства можно использовать для создания объектов:</span><span class="sxs-lookup"><span data-stu-id="ee8f2-173">These guidelines can be used to infer object creation:</span></span>

* <span data-ttu-id="ee8f2-174">`createdBy` Свойство отображается только для только что созданный объектов.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-174">The `createdBy` property will only appear on newly created objects.</span></span>
* <span data-ttu-id="ee8f2-175">Только что созданным `plannerTask` объекта будет следовать соответствующим `plannerTaskDetails` объекта.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-175">A newly created `plannerTask` object will be followed by its corresponding `plannerTaskDetails` object.</span></span>
* <span data-ttu-id="ee8f2-176">Только что созданным `plannerPlan` объекта будет следовать соответствующим `plannerPlanDetails` объекта.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-176">A newly created `plannerPlan` object will be followed by its corresponding `plannerPlanDetails` object.</span></span>

### <a name="usage"></a><span data-ttu-id="ee8f2-177">Применение</span><span class="sxs-lookup"><span data-stu-id="ee8f2-177">Usage</span></span>

<span data-ttu-id="ee8f2-178">Вызывающего должен иметь кэша, содержащего подписанный объекты.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-178">The caller is expected to have a cache containing subscribed objects.</span></span> <span data-ttu-id="ee8f2-179">Для получения дополнительных сведений о том, как для заполнения локальный кэш объектов, подписанный видеть [заполнить кэша объектов для запросов дельты](#populate-the-object-cache-for-delta-queries).</span><span class="sxs-lookup"><span data-stu-id="ee8f2-179">For details about how to fill the local cache of subscribed objects, see [Populate the object cache for delta queries](#populate-the-object-cache-for-delta-queries).</span></span>

<span data-ttu-id="ee8f2-180">Поток вызовов запроса дельты планировщик работы выглядит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="ee8f2-180">Planner's delta query call flow is as follows:</span></span>

1. <span data-ttu-id="ee8f2-181">Звонящий инициирует запрос синхронизации дельты получение `nextLink` и пустую коллекцию изменений.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-181">The caller initiates a delta sync query, obtaining a `nextLink` and an empty collection of changes.</span></span>
2. <span data-ttu-id="ee8f2-182">Вызывающий объект должен в [заполнения кэша объектов для запросов дельты](#populate-the-object-cache-for-delta-queries) объектов, что пользователь подписан, обновление кэша.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-182">The caller must [populate the object cache for delta queries](#populate-the-object-cache-for-delta-queries) with objects that the user is subscribed to, updating its cache.</span></span>
3. <span data-ttu-id="ee8f2-183">Исходя из вызывающего `nextLink` в начальной дельты синхронизации запроса для получения нового `deltaLink` для изменения с момента предыдущем шаге.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-183">The caller follows the `nextLink` provided in the initial delta sync query to obtain a new `deltaLink` to any changes since previous step.</span></span>
4. <span data-ttu-id="ee8f2-184">Вызывающего применяет изменения в ответе возвращенные дельты к объектам в кэше.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-184">The caller applies the changes in the returned delta response to the objects in its cache.</span></span>
5. <span data-ttu-id="ee8f2-185">Вызывающего следуют новые deltaLink для получения следующей deltaLink и изменения со времени текущего `deltaLink` был создан.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-185">The caller follows the new deltaLink to obtain the next deltaLink and changes since the current `deltaLink` was generated.</span></span>
6. <span data-ttu-id="ee8f2-186">Вызывающего применяет изменения (при их наличии) и ожидает короткое время, прежде, чем перезапустить и предыдущий шаг и это действие.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-186">The caller applies the changes (if any) and waits a short time before rerunning the previous step and this step.</span></span>

## <a name="planner-resource-versioning"></a><span data-ttu-id="ee8f2-187">Версии ресурсов в Планировщике</span><span class="sxs-lookup"><span data-stu-id="ee8f2-187">Planner resource versioning</span></span>

<span data-ttu-id="ee8f2-188">Планировщик работы версий все ресурсы с помощью **теги eTag**.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-188">Planner versions all resources using **etags**.</span></span> <span data-ttu-id="ee8f2-189">Эти **теги eTag** возвращаются с `@odata.etag` свойства для каждого ресурса.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-189">These **etags** are returned with `@odata.etag` property on each resource.</span></span> <span data-ttu-id="ee8f2-190">`PATCH`и `DELETE` запросов требуется последнего **etag** , известные клиентом для указанных с `If-Match` заголовка.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-190">`PATCH` and `DELETE` requests require the last **etag** known by the client to be specified with a `If-Match` header.</span></span>
<span data-ttu-id="ee8f2-191">Планировщик работы позволяет изменений в старых версиях ресурсы, если предполагаемая изменений не конфликтует с новой изменения обслуживаемые службой Планировщик работы на тот же ресурс.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-191">Planner allows changes to older versions of resources if the intended change does not conflict with newer changes accepted by the Planner service on the same resource.</span></span> <span data-ttu-id="ee8f2-192">Клиенты могут определять, какие **etag** для тот же ресурс новее с помощью вычисления значение **etag** , которое больше в порядковый номер строковое сравнение.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-192">The clients can identify which **etag** for the same resource is newer by calculating which **etag** value is greater in ordinal string comparison.</span></span> <span data-ttu-id="ee8f2-193">Каждый ресурс имеет уникальный **etag**.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-193">Each resource has a unique **etag**.</span></span> <span data-ttu-id="ee8f2-194">Нельзя сравнивать значений тегов eTag для различных ресурсов, в том числе с отношениями содержания.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-194">Etag values for different resources, including those with containment relationships, cannot be compared.</span></span>
<span data-ttu-id="ee8f2-195">Клиентские приложения должны обрабатывать управление версиями и связанные с [коды ошибок](/graph/errors) **409** **412** путем чтения последней версии элемента и разрешение конфликтующих изменений.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-195">The client apps are expected to handle versioning related [error codes](/graph/errors) **409** and **412** by reading the latest version of the item and resolving the conflicting changes.</span></span>

## <a name="common-planner-error-conditions"></a><span data-ttu-id="ee8f2-196">Основные ошибки Планировщика</span><span class="sxs-lookup"><span data-stu-id="ee8f2-196">Common Planner error conditions</span></span>

<span data-ttu-id="ee8f2-197">В дополнение к [общим ошибкам](/graph/errors) Microsoft Graph, некоторые ошибки относятся только к API Планировщика.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-197">In addition to [general errors](/graph/errors) that apply to Microsoft Graph, some error conditions are specific to the Planner API.</span></span>

### <a name="400-bad-request"></a><span data-ttu-id="ee8f2-198">400 (неправильный запрос)</span><span class="sxs-lookup"><span data-stu-id="ee8f2-198">400 Bad request</span></span>

<span data-ttu-id="ee8f2-p111">В некоторых случаях на запросы `POST` и `PATCH` может быть получен код состояния 400. Ниже перечислены основные проблемы.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-p111">There are several common cases where the `POST` and `PATCH` requests can get a 400 status code. Common problems include:</span></span>

* <span data-ttu-id="ee8f2-201">Открытые свойства типа не правильный типов.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-201">Open Type properties are not of correct types.</span></span>
* <span data-ttu-id="ee8f2-202">Тип не указан.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-202">The type isn't specified.</span></span>
* <span data-ttu-id="ee8f2-203">Запрос не содержит какие-либо свойства.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-203">The request does not contain any properties.</span></span>

#### <a name="example"></a><span data-ttu-id="ee8f2-204">Пример</span><span class="sxs-lookup"><span data-stu-id="ee8f2-204">Example</span></span>

<span data-ttu-id="ee8f2-205">свойства [plannerAssignments](plannerassignments.md) со сложными необходимости объявлять `@odata.type` свойство со значением `microsoft.graph.plannerAssignment`.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-205">[plannerAssignments](plannerassignments.md) properties with complex values need to declare `@odata.type` property with value `microsoft.graph.plannerAssignment`.</span></span>

* <span data-ttu-id="ee8f2-206">Порядок подсказку значения не имеют в [правильном формате](planner-order-hint-format.md).</span><span class="sxs-lookup"><span data-stu-id="ee8f2-206">Order hint values do not have the [correct format](planner-order-hint-format.md).</span></span>

   <span data-ttu-id="ee8f2-207">Например значение подсказки устанавливается непосредственно на значение, возвращаемое клиенту.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-207">For example, an order hint value is being set directly to the value returned to the client.</span></span>

* <span data-ttu-id="ee8f2-208">Данные являются логически неправильное.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-208">The data is logically inconsistent.</span></span>

   <span data-ttu-id="ee8f2-209">Например, Дата начала задачи позже из-за Дата задачи.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-209">For example, start date of task is later than due date of the task.</span></span>

### <a name="planner-error-status-codes"></a><span data-ttu-id="ee8f2-210">Коды ошибок состояние планировщик работы</span><span class="sxs-lookup"><span data-stu-id="ee8f2-210">Planner error status codes</span></span>

<span data-ttu-id="ee8f2-211">В дополнение к коды состояния Общая ошибка планировщик работы указывает специальных ошибок, возвращая следующие коды.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-211">In addition to general error status codes, Planner indicates special error conditions by returning the following codes.</span></span>

#### <a name="403-forbidden"></a><span data-ttu-id="ee8f2-212">403 (доступ запрещен)</span><span class="sxs-lookup"><span data-stu-id="ee8f2-212">403 Forbidden</span></span>

<span data-ttu-id="ee8f2-213">Планировщик работы API возвращает код состояния **403** при превышении ограничений, определенные службы.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-213">The Planner API returns the **403** status code when a service-defined limit has been exceeded.</span></span> <span data-ttu-id="ee8f2-214">В этом случае `code` свойства типа ресурсов ошибки указывает тип предел в запросе.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-214">In this case, the `code` property on the error resource type indicates the type of the limit exceeded by the request.</span></span>
<span data-ttu-id="ee8f2-215">Возможные значения для типов ограничений:</span><span class="sxs-lookup"><span data-stu-id="ee8f2-215">The possible values for the limit types include:</span></span>

| <span data-ttu-id="ee8f2-216">Значение</span><span class="sxs-lookup"><span data-stu-id="ee8f2-216">Value</span></span>                         | <span data-ttu-id="ee8f2-217">Описание</span><span class="sxs-lookup"><span data-stu-id="ee8f2-217">Description</span></span>                                                                                                                                                                                              |
| :---------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="ee8f2-218">MaximumProjectsOwnedByUser</span><span class="sxs-lookup"><span data-stu-id="ee8f2-218">MaximumProjectsOwnedByUser</span></span>    | <span data-ttu-id="ee8f2-p113">Превышено максимальное количество планов, принадлежащих группе. Это ограничение основано на свойстве `owner` ресурса [plannerPlan](plannerplan.md).</span><span class="sxs-lookup"><span data-stu-id="ee8f2-p113">The maximum number of Plans owned by a group limit has been exceeded. This limit is based on the `owner` property on the [plannerPlan](plannerplan.md) resource.</span></span>                                         |
| <span data-ttu-id="ee8f2-221">MaximumProjectsSharedWithUser</span><span class="sxs-lookup"><span data-stu-id="ee8f2-221">MaximumProjectsSharedWithUser</span></span> | <span data-ttu-id="ee8f2-p114">Пользователю предоставлен доступ к максимальному количеству планов.  Это ограничение основано на свойстве `sharedWith` ресурса [plannerPlanDetails](plannerplandetails.md).</span><span class="sxs-lookup"><span data-stu-id="ee8f2-p114">The maximum number of Plans shared with a user limit has been exceeded.  This limit is based on the `sharedWith` property on the [plannerPlanDetails](plannerplandetails.md) resource.</span></span>                   |
| <span data-ttu-id="ee8f2-224">MaximumTasksCreatedByUser</span><span class="sxs-lookup"><span data-stu-id="ee8f2-224">MaximumTasksCreatedByUser</span></span>     | <span data-ttu-id="ee8f2-p115">Пользователь создал максимальное количество задач. Это ограничение основано на свойстве `createdBy` ресурса [plannerTask](plannertask.md).</span><span class="sxs-lookup"><span data-stu-id="ee8f2-p115">The maximum number of Tasks created by a user limit has been exceeded. This limit is based on the `createdBy` property on the [plannerTask](plannertask.md) resource.</span></span>                                    |
| <span data-ttu-id="ee8f2-227">MaximumTasksAssignedToUser</span><span class="sxs-lookup"><span data-stu-id="ee8f2-227">MaximumTasksAssignedToUser</span></span>    | <span data-ttu-id="ee8f2-p116">Пользователю назначено максимальное количество задач. Это ограничение основано на свойстве `assignments` ресурса [plannerTask](plannertask.md).</span><span class="sxs-lookup"><span data-stu-id="ee8f2-p116">The maximum number of Tasks assigned to a user limit has been exceeded. This limit is based on the `assignments` property on the [plannerTask](plannertask.md) resource.</span></span>                                 |
| <span data-ttu-id="ee8f2-230">MaximumTasksInProject</span><span class="sxs-lookup"><span data-stu-id="ee8f2-230">MaximumTasksInProject</span></span>         | <span data-ttu-id="ee8f2-p117">Превышено максимальное количество задач в плане. Это ограничение основано на свойстве `planId` ресурса [plannerTask](plannertask.md).</span><span class="sxs-lookup"><span data-stu-id="ee8f2-p117">The maximum number of Tasks in a Plan limit has been exceeded. This limit is based on the `planId` property on the [plannerTask](plannertask.md) resource.</span></span>                                               |
| <span data-ttu-id="ee8f2-233">MaximumActiveTasksInProject</span><span class="sxs-lookup"><span data-stu-id="ee8f2-233">MaximumActiveTasksInProject</span></span>   | <span data-ttu-id="ee8f2-p118">Превышено максимальное количество невыполненных задач в плане. Это ограничение основано на свойствах `planId` и `percentComplete` ресурса [plannerTask](plannertask.md).</span><span class="sxs-lookup"><span data-stu-id="ee8f2-p118">The maximum number of Tasks that aren't completed in a Plan limit has been exceeded. This limit is based on the `planId` and `percentComplete` properties on the [plannerTask](plannertask.md) resource.</span></span> |
| <span data-ttu-id="ee8f2-236">MaximumBucketsInProject</span><span class="sxs-lookup"><span data-stu-id="ee8f2-236">MaximumBucketsInProject</span></span>       | <span data-ttu-id="ee8f2-p119">Превышено максимальное количество сегментов в плане. Это ограничение основано на свойстве `planId` ресурса [plannerBucket](plannerbucket.md).</span><span class="sxs-lookup"><span data-stu-id="ee8f2-p119">The maximum number of Buckets in a Plan limit has been exceeded. This limit is based on the `planId` property on the [plannerBucket](plannerbucket.md) resource.</span></span>                                         |
| <span data-ttu-id="ee8f2-239">MaximumUsersSharedWithProject</span><span class="sxs-lookup"><span data-stu-id="ee8f2-239">MaximumUsersSharedWithProject</span></span> | <span data-ttu-id="ee8f2-240">Свойство `sharedWith` ресурса [plannerPlanDetails](plannerplandetails.md) содержит слишком много значений.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-240">The `sharedWith` property on the [plannerPlanDetails](plannerplandetails.md) resource contains too many values.</span></span>                                                                                          |
| <span data-ttu-id="ee8f2-241">MaximumReferencesOnTask</span><span class="sxs-lookup"><span data-stu-id="ee8f2-241">MaximumReferencesOnTask</span></span>       | <span data-ttu-id="ee8f2-242">Свойство `references` ресурса [plannerTaskDetails](plannertaskdetails.md) содержит слишком много значений.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-242">The `references` property on the [plannerTaskDetails](plannertaskdetails.md) resource contains too many values.</span></span>                                                                                          |
| <span data-ttu-id="ee8f2-243">MaximumChecklistItemsOnTask</span><span class="sxs-lookup"><span data-stu-id="ee8f2-243">MaximumChecklistItemsOnTask</span></span>   | <span data-ttu-id="ee8f2-244">Свойство `checklist` ресурса [plannerTaskDetails](plannertaskdetails.md) содержит слишком много значений.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-244">The `checklist` property on the [plannerTaskDetails](plannertaskdetails.md) resource contains too many values.</span></span>                                                                                           |
| <span data-ttu-id="ee8f2-245">MaximumAssigneesInTasks</span><span class="sxs-lookup"><span data-stu-id="ee8f2-245">MaximumAssigneesInTasks</span></span>       | <span data-ttu-id="ee8f2-246">Свойство `assignments` ресурса [plannerTask](plannertask.md) содержит слишком много значений.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-246">The `assignments` property on the [plannerTask](plannertask.md) resource contains too many values.</span></span>                                                                                                       |
| <span data-ttu-id="ee8f2-247">MaximumFavoritePlansForUser</span><span class="sxs-lookup"><span data-stu-id="ee8f2-247">MaximumFavoritePlansForUser</span></span>   | <span data-ttu-id="ee8f2-248">`favoritePlanReferences` Свойство ресурса [plannerUser](planneruser.md) содержит слишком много значений.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-248">The `favoritePlanReferences` property on the [plannerUser](planneruser.md) resource contains too many values.</span></span>                                                                                            |
| <span data-ttu-id="ee8f2-249">MaximumRecentPlansForUser</span><span class="sxs-lookup"><span data-stu-id="ee8f2-249">MaximumRecentPlansForUser</span></span>     | <span data-ttu-id="ee8f2-250">`recentPlanReferences` Свойство ресурса [plannerUser](planneruser.md) содержит слишком много значений.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-250">The `recentPlanReferences` property on the [plannerUser](planneruser.md) resource contains too many values.</span></span>                                                                                              |
| <span data-ttu-id="ee8f2-251">MaximumContextsOnPlan</span><span class="sxs-lookup"><span data-stu-id="ee8f2-251">MaximumContextsOnPlan</span></span>         | <span data-ttu-id="ee8f2-252">`contexts` Свойство ресурса [plannerPlan](plannerplan.md) содержит слишком много значений.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-252">The `contexts` property on the [plannerPlan](plannerplan.md) resource contains too many values.</span></span>                                                                                                          |

#### <a name="412-precondition-failed"></a><span data-ttu-id="ee8f2-253">412 (необходимое условие не выполнено)</span><span class="sxs-lookup"><span data-stu-id="ee8f2-253">412 Precondition Failed</span></span>

<span data-ttu-id="ee8f2-p120">Во всех запросах `POST`, `PATCH` и `DELETE` в API Планировщика заголовок `If-Match` необходимо указывать с последним известным значением тега etag ресурса. Кроме того, код состояния 412 может быть возвращен, если значение тега etag, указанное в запросе, больше не соответствует версии ресурса в службе. В этом случае клиентам следует прочитать ресурс еще раз и получить новый тег etag.</span><span class="sxs-lookup"><span data-stu-id="ee8f2-p120">All `POST`, `PATCH` and `DELETE` requests in Planner API require `If-Match` header to be specified with the last etag value seen of the resource that is subject to the request. Additionally, 412 status code can be returned if the etag value specified in the request no longer matches a version of the resource in the service. In this case, the clients should read the resource again and obtain a new etag.</span></span>

