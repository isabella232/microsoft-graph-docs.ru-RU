---
title: Отслеживание изменений в данных Microsoft Graph с помощью разностного запроса
description: Запросы изменений позволяют приложениям обнаруживать новые, обновленные и удаленные сущности, не считывая целевой ресурс полностью при каждом запросе. Приложения Microsoft Graph могут использовать запросы изменений, чтобы эффективно синхронизировать изменения с локальным хранилищем данных.
author: piotrci
localization_priority: Priority
ms.custom: graphiamtop20
ms.openlocfilehash: a74645d8f5b579a28059124eabdf8ccfdb967c4e
ms.sourcegitcommit: 66ceeb5015ea4e92dc012cd48eee84b2bbe8e7b4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/20/2019
ms.locfileid: "37054083"
---
# <a name="use-delta-query-to-track-changes-in-microsoft-graph-data"></a><span data-ttu-id="fc1a9-104">Отслеживание изменений в данных Microsoft Graph с помощью разностного запроса</span><span class="sxs-lookup"><span data-stu-id="fc1a9-104">Use delta query to track changes in Microsoft Graph data</span></span>

<span data-ttu-id="fc1a9-p102">Запросы изменений позволяют приложениям обнаруживать новые, обновленные и удаленные сущности, не считывая целевой ресурс полностью при каждом запросе. Приложения Microsoft Graph могут использовать запросы изменений, чтобы эффективно синхронизировать изменения с локальным хранилищем данных.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-p102">Delta query enables applications to discover newly created, updated, or deleted entities without performing a full read of the target resource with every request. Microsoft Graph applications can use delta query to efficiently synchronize changes with a local data store.</span></span>

## <a name="use-delta-query-to-track-changes-in-a-resource-collection"></a><span data-ttu-id="fc1a9-107">Отслеживание изменений в коллекции ресурсов с помощью запроса изменений</span><span class="sxs-lookup"><span data-stu-id="fc1a9-107">Use delta query to track changes in a resource collection</span></span>

<span data-ttu-id="fc1a9-108">Ниже представлен типичный шаблон вызова.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-108">The typical call pattern is as follows:</span></span>

1. <span data-ttu-id="fc1a9-109">Для начала приложение выполняет запрос GET с функцией delta для нужного ресурса.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-109">The application begins by calling a GET request with the delta function on the desired resource.</span></span>
2. <span data-ttu-id="fc1a9-110">Microsoft Graph отправит ответ, содержащий нужный ресурс и [маркер состояния](#state-tokens).</span><span class="sxs-lookup"><span data-stu-id="fc1a9-110">Microsoft Graph sends a response containing the requested resource and a [state token](#state-tokens).</span></span>

     <span data-ttu-id="fc1a9-p103">-  Если возвращается URL-адрес `nextLink`, это означает, что во время сеанса могли быть получены не все страницы данных. Для получения всех страниц данных приложение продолжает отправлять запросы, используя URL-адрес `nextLink`, пока в отклик не будет включен URL-адрес `deltaLink`.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-p103">a.  If a `nextLink` URL is returned, there may be additional pages of data to be retrieved in the session. The application continues making requests using the `nextLink` URL to retrieve all pages of data until a `deltaLink` URL is returned in the response.</span></span>

     <span data-ttu-id="fc1a9-p104">- Если возвращается URL-адрес `deltaLink`, это означает, что больше нет данных о текущем состоянии ресурса. В последующих запросах приложение использует URL-адрес `deltaLink`, чтобы узнавать об изменениях ресурса.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-p104">b.  If a `deltaLink` URL is returned, there is no more data about the existing state of the resource to be returned. For future requests, the application uses the `deltaLink` URL to learn about changes to the resource.</span></span>

3. <span data-ttu-id="fc1a9-p105">Когда приложению требуется узнать об изменениях ресурса, оно совершает новый запрос, используя URL-адрес `deltaLink`, полученный на шаге 2. Этот запрос *может* быть совершен сразу по завершении шага 2 или когда приложение проверяет наличие изменений.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-p105">When the application needs to learn about changes to the resource, it makes a new request using the `deltaLink` URL received in step 2. This request *may* be made immediately after completing step 2 or when the application checks for changes.</span></span>
4. <span data-ttu-id="fc1a9-119">Microsoft Graph возвращает описание изменений ресурса с момента последнего запроса вместе с URL-адресом `nextLink` или `deltaLink`.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-119">Microsoft Graph returns a response describing changes to the resource since the previous request, and either a `nextLink` URL or a `deltaLink` URL.</span></span>

><span data-ttu-id="fc1a9-120">**Примечание.** Ресурсы, хранящиеся в Azure Active Directory (например, пользователи и группы), поддерживают сценарии "синхронизировать с этого момента".</span><span class="sxs-lookup"><span data-stu-id="fc1a9-120">**Note:** Resources stored in Azure Active Directory (such as users and groups) support "sync from now" scenarios.</span></span> <span data-ttu-id="fc1a9-121">Это позволяет пропустить шаги 1 и 2, описанные выше (если вы не заинтересованы в получении полного состояния ресурса) и вместо этого запросить самую новую ссылку `deltaLink`.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-121">This allows you to skip steps 1 and 2 above (if you are not interested in retrieving the full state of the resource) and ask for the latest `deltaLink` instead.</span></span> <span data-ttu-id="fc1a9-122">Добавьте `$deltaToken=latest` к функции `delta`, и ответ будет содержать ссылку `deltaLink`, но не будет содержать данные ресурсов.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-122">Append `$deltaToken=latest` to the `delta` function and the response will contain a `deltaLink` and no resource data.</span></span>

### <a name="state-tokens"></a><span data-ttu-id="fc1a9-123">Маркеры состояния</span><span class="sxs-lookup"><span data-stu-id="fc1a9-123">State tokens</span></span>

<span data-ttu-id="fc1a9-p107">Ответ GET на запрос изменений всегда включает URL-адрес, указанный в заголовке `nextLink` или `deltaLink`. URL-адрес `nextLink` включает маркер _skipToken_, а URL-адрес `deltaLink` — _deltaToken_.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-p107">A delta query GET response always includes a URL specified in a `nextLink` or `deltaLink` response header. The `nextLink` URL includes a _skipToken_, and a `deltaLink` URL includes a _deltaToken_.</span></span>

<span data-ttu-id="fc1a9-p108">Эти маркеры непрозрачны для клиента. Вот что вам нужно знать о них:</span><span class="sxs-lookup"><span data-stu-id="fc1a9-p108">These tokens are opaque to the client. The following details are what you need to know about them:</span></span>

- <span data-ttu-id="fc1a9-128">Каждый маркер отражает состояние и представляет моментальный снимок ресурса в этом цикле отслеживания изменений.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-128">Each token reflects the state and represents a snapshot of the resource in that round of change tracking.</span></span>

- <span data-ttu-id="fc1a9-p109">Маркеры состояния также кодируют и включают другие параметры запроса (такие как `$select`), указанные в исходном запросе изменений. Таким образом, не обязательно повторять их в последующих запросах изменений.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-p109">The state tokens also encode and include other query parameters (such as `$select`) specified in the initial delta query request. Therefore, it's not required to repeat them in subsequent delta query requests.</span></span>

- <span data-ttu-id="fc1a9-131">Совершая запрос изменений, вы можете скопировать и применить URL-адрес `nextLink` или `deltaLink` при следующем вызове функции **delta**, не проверяя содержимое URL-адреса, в том числе маркер состояния.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-131">When carrying out delta query, you can copy and apply the `nextLink` or `deltaLink` URL to the next **delta** function call without having to inspect the contents of the URL, including its state token.</span></span>

### <a name="optional-query-parameters"></a><span data-ttu-id="fc1a9-132">Необязательные параметры запросов</span><span class="sxs-lookup"><span data-stu-id="fc1a9-132">Optional query parameters</span></span>

<span data-ttu-id="fc1a9-p110">Если клиент использует параметр запроса, он должен быть указан в исходном запросе. Microsoft Graph автоматически кодирует указанный параметр в ссылке `nextLink` или `deltaLink`, указанной в ответе. Вызывающему приложению достаточно один раз указать параметры запроса. Microsoft Graph автоматически добавляет указанные параметры для всех последующих запросов.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-p110">If a client uses a query parameter, it must be specified in the initial request. Microsoft Graph automatically encodes the specified parameter into the `nextLink` or `deltaLink` provided in the response. The calling application only needs to specify their desired query parameters once upfront. Microsoft Graph adds the specified parameters automatically for all subsequent requests.</span></span>

<span data-ttu-id="fc1a9-137">Обратите внимание на следующие аспекты, связанные с необязательными параметрами запросов.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-137">Note the following regarding optional query parameters:</span></span>

- <span data-ttu-id="fc1a9-138">`$orderby` не поддерживается в разностных запросах.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-138">`$orderby` is not a supported for delta queries.</span></span>
     - <span data-ttu-id="fc1a9-139">Не считайте, что разностный запрос возвращает определенную последовательность ответов.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-139">Do not assume a specific sequence of the responses returned from a delta query.</span></span> <span data-ttu-id="fc1a9-140">Предполагайте, что один и тот же элемент может встречаться в любом месте последовательности `nextLink`, и учитывайте это в логике объединения.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-140">Assume that the same group could show up anywhere in the `nextLink` sequence and handle that in your merge logic.</span></span>
- <span data-ttu-id="fc1a9-141">`$top` не поддерживается в разностных запросах, а число объектов на каждой странице может зависеть от типа ресурса и типа изменений, внесенных в ресурс.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-141">`$top` is not supported for delta queries, and the number of objects in each page can vary depending on the resource type and the type of changes made to the resource.</span></span>

<span data-ttu-id="fc1a9-142">Для пользователей и групп применяются следующие ограничения на использование некоторых параметров запросов.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-142">For users and groups, the following restrictions apply to using using some query parameters:</span></span>

<span data-ttu-id="fc1a9-143">Для пользователей и групп действуют ограничения на применение некоторых параметров запросов:</span><span class="sxs-lookup"><span data-stu-id="fc1a9-143">For users and groups, there are restrictions on using some query parameters:</span></span>

- <span data-ttu-id="fc1a9-p112">Если используется параметр запроса `$select`, это означает, что клиент предпочитает отслеживать изменения только для тех свойств или связей, которые указаны в операторе `$select`. При изменении свойства, которое не было выбрано, соответствующий ресурс не появится в отклике с различиями при последующем запросе.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-p112">If a `$select` query parameter is used, the parameter indicates that the client prefers to only track changes on the properties or relationships specified in the `$select` statement. If a change occurs to a property that is not selected, the resource for which that property changed does not appear in the delta response after a subsequent request.</span></span>
- <span data-ttu-id="fc1a9-146">`$expand` поддерживается только для навигационных свойств `manager` и `members` для пользователей и групп соответственно.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-146">`$expand` is only supported for the `manager` and `members` navigational property for users and groups respectively.</span></span>

- <span data-ttu-id="fc1a9-147">Фильтры области позволяют отслеживать изменения одного или нескольких конкретных пользователей или групп с помощью идентификатора объекта.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-147">Scoping filters allow you to track changes to one or more specific users or groups by objectId.</span></span> <span data-ttu-id="fc1a9-148">Например, следующий запрос возвращает изменения для групп, соответствующих идентификаторам, указанным в фильтре запроса.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-148">For example, the following request: $filter= id eq '477e9fc6-5de7-4406-bb2a-7e5c83c9ae5f' or id eq '004d6a07-fe70-4b92-add5-e6e37b8acd8e' returns changes for the groups matching the ids specified in the query filter.</span></span> 

<!-- {
  "blockType": "request",
  "name": "group_delta"
}-->
```http
https://graph.microsoft.com/beta/groups/delta/?$filter=id eq '477e9fc6-5de7-4406-bb2a-7e5c83c9ae5f' or id eq '004d6a07-fe70-4b92-add5-e6e37b8acd8e' 
```

## <a name="resource-representation-in-the-delta-query-response"></a><span data-ttu-id="fc1a9-149">Представление ресурсов в отклике на разностный запрос</span><span class="sxs-lookup"><span data-stu-id="fc1a9-149">Resource representation in the delta query response</span></span>

- <span data-ttu-id="fc1a9-150">Новые экземпляры поддерживаемого ресурса представлены в ответе на запрос изменений с помощью стандартных свойств.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-150">Newly created instances of a supported resource are represented in the delta query response using their standard representation.</span></span>

- <span data-ttu-id="fc1a9-151">Обновленные экземпляры представлены **id** и *по крайней мере* обновленными свойствами, но могут быть включены и другие свойства.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-151">Updated instances are represented by their **id** with *at least* the properties that have been updated, but additional properties may be included.</span></span>

- <span data-ttu-id="fc1a9-p114">Связи между пользователями и группами представлены в виде заметок к стандартному представлению ресурса. Эти заметки представлены в формате `propertyName@delta`. Они включаются в отклик на исходный разностный запрос.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-p114">Relationships on users and groups are represented as annotations on the standard resource representation. These annotations use the format `propertyName@delta`. The annotations are included in the response of the initial delta query request.</span></span>

<span data-ttu-id="fc1a9-p115">Удаленные экземпляры представлены только **id** и объектом `@removed`. Объект `@removed` может содержать дополнительные сведения о том, почему удален экземпляр. Например, "@removed": {"reason": "changed"}.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-p115">Removed instances are represented by their **id** and an `@removed` object. The `@removed` object may include additional information about why the instance was removed. For example,  "@removed": {"reason": “changed”}.</span></span>

<span data-ttu-id="fc1a9-158">Возможные причины @removed: *changed* или *deleted*.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-158">Possible @removed reasons can be *changed* or *deleted*.</span></span>

- <span data-ttu-id="fc1a9-159">*changed* указывает, что элемент удален и может быть восстановлен из [deletedItems](/graph/api/resources/directory?view=graph-rest-beta).</span><span class="sxs-lookup"><span data-stu-id="fc1a9-159">*Changed* indicates the item was deleted and can be restored from [deletedItems](/graph/api/resources/directory?view=graph-rest-beta).</span></span>

- <span data-ttu-id="fc1a9-160">*deleted* указывает, что элемент удален и не может быть восстановлен.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-160">*Deleted* indicates the item is deleted and cannot be restored.</span></span>

<span data-ttu-id="fc1a9-p116">Объект `@removed` может возвращаться в отклике на исходный разностный запрос и в отслеживаемых откликах (deltaLink). Клиенты, использующие разностные запросы, должны иметь возможность обрабатывать эти объекты в откликах.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-p116">The `@removed` object can be returned in the initial delta query response and in tracked (deltaLink) responses. Clients using delta query requests should be designed to handle these objects in the responses.</span></span>

## <a name="supported-resources"></a><span data-ttu-id="fc1a9-163">Поддерживаемые ресурсы</span><span class="sxs-lookup"><span data-stu-id="fc1a9-163">Supported resources</span></span>

<span data-ttu-id="fc1a9-164">Разностные запросы поддерживаются для указанных ниже ресурсов.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-164">Delta query is currently supported for the following resources.</span></span>

| <span data-ttu-id="fc1a9-165">**Коллекция ресурсов**</span><span class="sxs-lookup"><span data-stu-id="fc1a9-165">**Resource collection**</span></span>                                        | <span data-ttu-id="fc1a9-166">**API**</span><span class="sxs-lookup"><span data-stu-id="fc1a9-166">**API**</span></span>                                                                                                                                                                                |
| :------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="fc1a9-167">Приложения (предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-167">Applications (preview)</span></span>                                         | <span data-ttu-id="fc1a9-168">Функция [delta](/graph/api/application-delta?view=graph-rest-beta) ресурса [application](/graph/api/resources/application?view=graph-rest-beta) (предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-168">[delta](/graph/api/application-delta?view=graph-rest-beta) function of the [application](/graph/api/resources/application?view=graph-rest-beta) resource (preview)</span></span>                     |
| <span data-ttu-id="fc1a9-169">Классы (предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-169">Classes (preview)</span></span>                                              | <span data-ttu-id="fc1a9-170">Функция [delta](/graph/api/educationclass-delta?view=graph-rest-beta) ресурса [Class](/graph/api/resources/educationclass?view=graph-rest-beta) (предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-170">[delta](/graph/api/educationclass-delta?view=graph-rest-beta) function of the [servicePrincipal](/graph/api/resources/educationclass?view=graph-rest-beta) resource (preview)</span></span>                     |
| <span data-ttu-id="fc1a9-171">Объекты каталога (предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-171">Directory objects (preview)</span></span>                                    | <span data-ttu-id="fc1a9-172">Функция [delta](/graph/api/directoryobject-delta?view=graph-rest-beta) ресурса [directoryObjects](/graph/api/resources/directoryobject?view=graph-rest-beta) (предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-172">[delta](/graph/api/directoryobject-delta?view=graph-rest-beta) function of the [directoryObjects](/graph/api/resources/directoryobject?view=graph-rest-beta) resource (preview)</span></span>        |
| <span data-ttu-id="fc1a9-173">Перечисление ролей каталога</span><span class="sxs-lookup"><span data-stu-id="fc1a9-173">Directory roles</span></span>                                                | <span data-ttu-id="fc1a9-174">Функция [delta](/graph/api/directoryrole-delta?view=graph-rest-1.0) ресурса [directoryObjects](/graph/api/resources/directoryrole?view=graph-rest-1.0)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-174">[delta](/graph/api/directoryrole-delta?view=graph-rest-1.0) function of the [directoryRole](/graph/api/resources/directoryrole?view=graph-rest-1.0) resource</span></span>                           |
| <span data-ttu-id="fc1a9-175">Элементы на диске\*</span><span class="sxs-lookup"><span data-stu-id="fc1a9-175">Drive items\*</span></span>                                                  | <span data-ttu-id="fc1a9-176">Функция [delta](/graph/api/driveitem-delta?view=graph-rest-1.0) ресурса [driveItem](/graph/api/resources/driveitem?view=graph-rest-1.0)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-176">[delta](/graph/api/driveitem-delta?view=graph-rest-1.0) function of the [driveItem](/graph/api/resources/driveitem?view=graph-rest-1.0) resource</span></span>                                       |
| <span data-ttu-id="fc1a9-177">Пользователи образовательных учреждений (предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-177">Education users (preview)</span></span>                                      | <span data-ttu-id="fc1a9-178">Функция [delta](/graph/api/educationuser-delta?view=graph-rest-beta) ресурса [Education user](/graph/api/resources/educationuser?view=graph-rest-beta) (предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-178">[delta](/graph/api/educationuser-delta?view=graph-rest-beta) function of the [user](/graph/api/resources/educationuser?view=graph-rest-beta) resource</span></span>             |
| <span data-ttu-id="fc1a9-179">События в представлении (диапазоне дат) основного календаря</span><span class="sxs-lookup"><span data-stu-id="fc1a9-179">Events in a calendar view (date range) of the primary calendar</span></span> | <span data-ttu-id="fc1a9-180">Функция [delta](/graph/api/event-delta?view=graph-rest-1.0) ресурса [event](/graph/api/resources/event?view=graph-rest-1.0)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-180">[delta](/graph/api/event-delta?view=graph-rest-1.0) function of the [event](/graph/api/resources/event?view=graph-rest-1.0) resource</span></span>                                                   |
| <span data-ttu-id="fc1a9-181">Группы</span><span class="sxs-lookup"><span data-stu-id="fc1a9-181">Groups</span></span>                                                         | <span data-ttu-id="fc1a9-182">Функция [delta](/graph/api/group-delta?view=graph-rest-1.0) ресурса [group](/graph/api/resources/group?view=graph-rest-1.0)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-182">[delta](/graph/api/group-delta?view=graph-rest-1.0) function of the [group](/graph/api/resources/group?view=graph-rest-1.0) resource</span></span>                                                   |
| <span data-ttu-id="fc1a9-183">Папки почты</span><span class="sxs-lookup"><span data-stu-id="fc1a9-183">Mail folders</span></span>                                                   | <span data-ttu-id="fc1a9-184">Функция [delta](/graph/api/mailfolder-delta?view=graph-rest-1.0) ресурса [mailFolder](/graph/api/resources/mailfolder?view=graph-rest-1.0)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-184">[delta](/graph/api/mailfolder-delta?view=graph-rest-1.0) function of the [mailFolder](/graph/api/resources/mailfolder?view=graph-rest-1.0) resource</span></span>                                    |
| <span data-ttu-id="fc1a9-185">Сообщения в папке</span><span class="sxs-lookup"><span data-stu-id="fc1a9-185">Messages in a folder</span></span>                                           | <span data-ttu-id="fc1a9-186">Функция [delta](/graph/api/message-delta?view=graph-rest-1.0) ресурса [message](/graph/api/resources/message?view=graph-rest-1.0)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-186">[delta](/graph/api/message-delta?view=graph-rest-1.0) function of the [message](/graph/api/resources/message?view=graph-rest-1.0) resource</span></span>                                             |
| <span data-ttu-id="fc1a9-187">Папки личных контактов</span><span class="sxs-lookup"><span data-stu-id="fc1a9-187">Personal contact folders</span></span>                                       | <span data-ttu-id="fc1a9-188">Функция [delta](/graph/api/contactfolder-delta?view=graph-rest-1.0) ресурса [contactFolder](/graph/api/resources/contactfolder?view=graph-rest-1.0)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-188">[delta](/graph/api/contactfolder-delta?view=graph-rest-1.0) function of the [contactFolder](/graph/api/resources/contactfolder?view=graph-rest-1.0) resource</span></span>                           |
| <span data-ttu-id="fc1a9-189">Личные контакты в папке</span><span class="sxs-lookup"><span data-stu-id="fc1a9-189">Personal contacts in a folder</span></span>                                  | <span data-ttu-id="fc1a9-190">Функция [delta](/graph/api/contact-delta?view=graph-rest-1.0) ресурса [contact](/graph/api/resources/contact?view=graph-rest-1.0)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-190">[delta](/graph/api/contact-delta?view=graph-rest-1.0) function of the [contact](/graph/api/resources/contact?view=graph-rest-1.0) resource</span></span>                                             |
| <span data-ttu-id="fc1a9-191">Учебные заведения (предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-191">Schools (preview)</span></span>                                              | <span data-ttu-id="fc1a9-192">Функция [delta](/graph/api/educationschool-delta?view=graph-rest-beta) ресурса [School](/graph/api/resources/educationschool?view=graph-rest-beta) (предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-192">[delta](/graph/api/educationschool-delta?view=graph-rest-beta) function of the [servicePrincipal](/graph/api/resources/educationschool?view=graph-rest-beta) resource (preview)</span></span>                  |
| <span data-ttu-id="fc1a9-193">Субъекты-службы (предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-193">Service principals (preview)</span></span>                                   | <span data-ttu-id="fc1a9-194">Функция [delta](/graph/api/serviceprincipal-delta?view=graph-rest-beta) ресурса [servicePrincipal](/graph/api/resources/serviceprincipal?view=graph-rest-beta) (предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-194">[delta](/graph/api/serviceprincipal-delta?view=graph-rest-beta) function of the [servicePrincipal](/graph/api/resources/serviceprincipal?view=graph-rest-beta) resource (preview)</span></span>      |
| <span data-ttu-id="fc1a9-195">Users</span><span class="sxs-lookup"><span data-stu-id="fc1a9-195">Users</span></span>                                                          | <span data-ttu-id="fc1a9-196">Функция [delta](/graph/api/user-delta?view=graph-rest-1.0) ресурса [user](/graph/api/resources/user?view=graph-rest-1.0)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-196">[delta](/graph/api/user-delta?view=graph-rest-1.0) function of the [user](/graph/api/resources/user?view=graph-rest-1.0) resource</span></span> |
| <span data-ttu-id="fc1a9-197">Элементы Planner\*\* (предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-197">Planner items\*\* (preview)</span></span>                                    | <span data-ttu-id="fc1a9-198">Функция [delta](/graph/api/planneruser-list-delta?view=graph-rest-beta) всего сегмента ресурса [plannerUser](/graph/api/resources/planneruser?view=graph-rest-beta) (предварительный просмотр)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-198">[delta](/graph/api/planneruser-list-delta?view=graph-rest-beta) function of the all segment of [plannerUser](/graph/api/resources/planneruser?view=graph-rest-beta) resource (preview)</span></span>|
| <span data-ttu-id="fc1a9-199">chatMessages в канале (предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-199">chatMessages in a channel (preview)</span></span>                            | <span data-ttu-id="fc1a9-200">Функция [delta](/graph/api/chatmessage-delta?view=graph-rest-beta) [chatMessage](/graph/api/resources/chatmessage?view=graph-rest-beta)</span><span class="sxs-lookup"><span data-stu-id="fc1a9-200">[delta](/graph/api/chatmessage-delta?view=graph-rest-beta) function of the [contactFolder](/graph/api/resources/chatmessage?view=graph-rest-beta) resource</span></span> |

> <span data-ttu-id="fc1a9-201">\* Небольшие различия в использовании ресурсов OneDrive и других поддерживаемых ресурсов касаются синтаксиса.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-201">\* The usage pattern for OneDrive resources is similar to the other supported resources with some minor syntax differences.</span></span> <span data-ttu-id="fc1a9-202">Разностный запрос для ресурсов drive будет обновлен в соответствии с запросами для других типов ресурсов. </span><span class="sxs-lookup"><span data-stu-id="fc1a9-202">Delta query for drives will be updated in the future to be consistent with other resource types.</span></span> <span data-ttu-id="fc1a9-203">Дополнительные сведения о текущем синтаксисе см. в статье [Отслеживание изменений для drive](/graph/api/driveitem-delta?view=graph-rest-1.0).</span><span class="sxs-lookup"><span data-stu-id="fc1a9-203">For more detail about the current syntax, see [Track changes for a drive](/graph/api/driveitem-delta?view=graph-rest-1.0).</span></span>

> <span data-ttu-id="fc1a9-204">\*\* Шаблон использования ресурсов Planner незначительно отличается от шаблонов использования других поддерживаемых ресурсов.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-204">\*\* The usage pattern for Planner resources is similar to other supported resources with a few differences.</span></span>  <span data-ttu-id="fc1a9-205">Дополнительные сведения см. в [этой статье](/graph/api/planneruser-list-delta?view=graph-rest-beta).</span><span class="sxs-lookup"><span data-stu-id="fc1a9-205">For details, see [Track changes for Planner](/graph/api/planneruser-list-delta?view=graph-rest-beta).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="fc1a9-206">Необходимые разрешения</span><span class="sxs-lookup"><span data-stu-id="fc1a9-206">Prerequisites</span></span>

<span data-ttu-id="fc1a9-207">Выполнение разностных запросов для определенного ресурса требует тех же [разрешений](./permissions-reference.md), что и его чтение.</span><span class="sxs-lookup"><span data-stu-id="fc1a9-207">The same [permissions](./permissions-reference.md) that are required to read a specific resource are also required to perform delta query on that resource.</span></span>

## <a name="delta-query-request-examples"></a><span data-ttu-id="fc1a9-208">Примеры разностных запросов</span><span class="sxs-lookup"><span data-stu-id="fc1a9-208">Delta query request examples</span></span>

- [<span data-ttu-id="fc1a9-209">Получение добавочных изменений для событий в представлении календаря</span><span class="sxs-lookup"><span data-stu-id="fc1a9-209">Get incremental changes to events in a calendar view</span></span>](delta-query-events.md)
- [<span data-ttu-id="fc1a9-210">Получение добавочных изменений сообщений в папке</span><span class="sxs-lookup"><span data-stu-id="fc1a9-210">Get incremental changes to messages in a folder</span></span>](./delta-query-messages.md)
- [<span data-ttu-id="fc1a9-211">Получение добавочных изменений групп</span><span class="sxs-lookup"><span data-stu-id="fc1a9-211">Get incremental changes to groups</span></span>](./delta-query-groups.md)
- [<span data-ttu-id="fc1a9-212">Получение добавочных изменений пользователей</span><span class="sxs-lookup"><span data-stu-id="fc1a9-212">Get incremental changes to users</span></span>](./delta-query-users.md)
