# <a name="microsoft-graph-security-data-flow"></a>Поток данных системы безопасности Microsoft Graph

API-Интерфейс безопасности Microsoft Graph включает в федерацию запросы для всех поставщиков в экосистеме безопасности Microsoft Graph. Это выполняется на основе согласия поставщика безопасности, предоставляемого приложением, как показано в следующей схеме. Рабочий процесс подтверждения применяется только к сторонним поставщикам.

![security_dataflow_1.png](./images/security_dataflow_1.png)

Ниже приведено описание потока:

1. Пользователь приложения входит в приложение поставщика для просмотра формы согласия от поставщика. Это применение формы согласия (или пользовательский интерфейс) принадлежит поставщику и применяется к сторонним поставщикам только для получения явного согласия от их клиентов для отправки запросов к API безопасности Microsoft Graph.
2. Согласие клиента хранится у поставщика.
3. Служба согласия поставщика вызывает API-интерфейс безопасности Microsoft Graph для оповещения подтверждения согласия соответствующему клиенту.
4. Приложение отправляет запрос API-интерфейсу безопасности Microsoft Graph.
5. API-интерфейс безопасности Microsoft Graph проверяет данные разрешения для этого клиента, сопоставленные с различными поставщиками.
6. API-интерфейс безопасности Microsoft Graph вызывает всех поставщиков, которые предоставили явное согласие пользователю с помощью применения согласия поставщика.
7. Отклик возвращается от всех поставщиков, выразивших согласие для этого клиента.
8. Результирующий набор откликов возвращается к приложению.
9. Если клиент не выразил согласия ни одному поставщику, результаты от этих поставщиков не включаются в отклик.
