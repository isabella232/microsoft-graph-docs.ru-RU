# <a name="microsoft-graph-security-data-flow"></a><span data-ttu-id="3bf2e-101">Поток данных системы безопасности Microsoft Graph</span><span class="sxs-lookup"><span data-stu-id="3bf2e-101">Microsoft Graph Security data flow</span></span>

<span data-ttu-id="3bf2e-102">API-Интерфейс безопасности Microsoft Graph включает в федерацию запросы для всех поставщиков в экосистеме безопасности Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="3bf2e-102">The Microsoft Graph Security API federates requests to all providers in the Microsoft Graph Security ecosystem.</span></span> <span data-ttu-id="3bf2e-103">Это выполняется на основе согласия поставщика безопасности, предоставляемого приложением, как показано в следующей схеме.</span><span class="sxs-lookup"><span data-stu-id="3bf2e-103">This is based on the security provider consent provided by the application, as shown in the following diagram.</span></span> <span data-ttu-id="3bf2e-104">Рабочий процесс подтверждения применяется только к сторонним поставщикам.</span><span class="sxs-lookup"><span data-stu-id="3bf2e-104">The consent workflow only applies to non-Microsoft providers.</span></span>

![security_dataflow_1.png](./images/security_dataflow_1.png)

<span data-ttu-id="3bf2e-106">Ниже приведено описание потока:</span><span class="sxs-lookup"><span data-stu-id="3bf2e-106">The following is a description of the flow:</span></span>

1. <span data-ttu-id="3bf2e-107">Пользователь приложения входит в приложение поставщика для просмотра формы согласия от поставщика.</span><span class="sxs-lookup"><span data-stu-id="3bf2e-107">The application user signs in to the provider application to view the consent form from the provider.</span></span> <span data-ttu-id="3bf2e-108">Это применение формы согласия (или пользовательский интерфейс) принадлежит поставщику и применяется к сторонним поставщикам только для получения явного согласия от их клиентов для отправки запросов к API безопасности Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="3bf2e-108">This consent form experience or UI is owned by the provider and applies to non-Microsoft providers only to get explicit consent from their customers to send requests to Microsoft Graph Security API.</span></span>
2. <span data-ttu-id="3bf2e-109">Согласие клиента хранится у поставщика.</span><span class="sxs-lookup"><span data-stu-id="3bf2e-109">The client consent is stored on the provider side.</span></span>
3. <span data-ttu-id="3bf2e-110">Служба согласия поставщика вызывает API-интерфейс безопасности Microsoft Graph для оповещения подтверждения согласия соответствующему клиенту.</span><span class="sxs-lookup"><span data-stu-id="3bf2e-110">The provider consent service calls the Microsoft Graph security API to inform consent approval for the respective customer.</span></span>
4. <span data-ttu-id="3bf2e-111">Приложение отправляет запрос API-интерфейсу безопасности Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="3bf2e-111">The application sends a request to the Microsoft Graph security API.</span></span>
5. <span data-ttu-id="3bf2e-112">API-интерфейс безопасности Microsoft Graph проверяет данные разрешения для этого клиента, сопоставленные с различными поставщиками.</span><span class="sxs-lookup"><span data-stu-id="3bf2e-112">The Microsoft Graph Security API checks for the consent information for this customer mapped to various providers.</span></span>
6. <span data-ttu-id="3bf2e-113">API-интерфейс безопасности Microsoft Graph вызывает всех поставщиков, которые предоставили явное согласие пользователю с помощью применения согласия поставщика.</span><span class="sxs-lookup"><span data-stu-id="3bf2e-113">The Microsoft Graph Security API calls all those providers the customer has given explicit consent to via the provider consent experience.</span></span>
7. <span data-ttu-id="3bf2e-114">Отклик возвращается от всех поставщиков, выразивших согласие для этого клиента.</span><span class="sxs-lookup"><span data-stu-id="3bf2e-114">The response is returned from all the consented providers for that client.</span></span>
8. <span data-ttu-id="3bf2e-115">Результирующий набор откликов возвращается к приложению.</span><span class="sxs-lookup"><span data-stu-id="3bf2e-115">The result set response is returned to the application.</span></span>
9. <span data-ttu-id="3bf2e-116">Если клиент не выразил согласия ни одному поставщику, результаты от этих поставщиков не включаются в отклик.</span><span class="sxs-lookup"><span data-stu-id="3bf2e-116">If the customer has not consented to any provider, no results from those providers are included in the response.</span></span>
