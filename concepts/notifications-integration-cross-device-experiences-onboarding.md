---
title: 'Внедрение использования разных устройств для уведомлений Microsoft Graph '
description: 'Зарегистрируйте свое приложение в Центре разработки для Windows, чтобы разрешить клиентам вашего приложения получать на разных устройствах уведомления, отправленные с помощью Microsoft Graph.  '
localization_priority: Priority
ms.prod: notifications"
ms.openlocfilehash: 789273f812c9f9a38748e47480f7141b51d6f465
ms.sourcegitcommit: 70ebcc469e2fdf2c31aeb6c5169f0101c3e698b0
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/15/2019
ms.locfileid: "34063413"
---
# <a name="onboarding-to-cross-device-experiences-for-microsoft-graph-notifications"></a><span data-ttu-id="31101-103">Внедрение использования разных устройств для уведомлений Microsoft Graph</span><span class="sxs-lookup"><span data-stu-id="31101-103">Onboarding to cross-device experiences for Microsoft Graph notifications</span></span>

<span data-ttu-id="31101-104">В дополнение к [регистрации приложения на портале Azure](notifications-integration-app-registration.md) для вашего приложения требуется зарегистрировать сведения о применении на разных устройствах, например идентификатор кроссплатформенного приложения и учетные данные кроссплатформенных push-уведомлений, чтобы разрешить Microsoft Graph отправлять уведомления через собственные службы push-уведомлений, соответствующие операционной системе: Windows, iOS и Android.</span><span class="sxs-lookup"><span data-stu-id="31101-104">In addition to [app registration on Azure Portal](notifications-integration-app-registration.md), your application needs to register cross-device information such as cross-platform application id and cross-platform push credentials in order to authorizes Microsoft Graph to send notifications via native push notification services that correspond to each operating system: Windows, iOS, and Android.</span></span> <span data-ttu-id="31101-105">Это выполняется в [панели мониторинга Центра партнеров (прежнее название — информационная панель Центра разработки для Windows)](https://partner.microsoft.com/dashboard/).</span><span class="sxs-lookup"><span data-stu-id="31101-105">This is done through [Partner Center dashboard (formerly Windows Dev Center dashboard)](https://partner.microsoft.com/dashboard/).</span></span> 

> [!NOTE]
> <span data-ttu-id="31101-106">Если у вас еще нет учетной записи разработчика Windows, вам потребуется ее создать.</span><span class="sxs-lookup"><span data-stu-id="31101-106">If you don’t already have a Windows developer account, you’ll need to create one.</span></span> <span data-ttu-id="31101-107">Дополнительные сведения см. в статье [Создание учетной записи разработчика](https://docs.microsoft.com/ru-RU/windows/uwp/publish/opening-a-developer-account).</span><span class="sxs-lookup"><span data-stu-id="31101-107">For details, see [Opening a developer account](https://docs.microsoft.com/en-us/windows/uwp/publish/opening-a-developer-account).</span></span> <span data-ttu-id="31101-108">Вам потребуется это сделать, даже если вы не планируете создавать приложения UWP Windows.</span><span class="sxs-lookup"><span data-stu-id="31101-108">You need to do this even if you don’t plan to build a Windows UWP application.</span></span> <span data-ttu-id="31101-109">Если вы создаете учебное или рабочее приложение в рамках организации, можно связать учетную запись разработчика с соответствующей учетной записью Azure AD, используемой для управления корпоративной отправкой.</span><span class="sxs-lookup"><span data-stu-id="31101-109">If you’re building a school or work application as part of an enterprise, you can associate your developer account with the appropriate Azure AD account that is used for managing your enterprise submissions.</span></span> <span data-ttu-id="31101-110">Дополнительные сведения см. в статье [Связывание Azure Active Directory с учетной записью Центра партнеров](https://docs.microsoft.com/ru-RU/windows/uwp/publish/associate-azure-ad-with-partner-center).</span><span class="sxs-lookup"><span data-stu-id="31101-110">For details, see [Associate Azure Active Directory with your Partner Center account](https://docs.microsoft.com/en-us/windows/uwp/publish/associate-azure-ad-with-partner-center).</span></span>

<span data-ttu-id="31101-111">Чтобы приступить к работе, выполните вход в [панели мониторинга Центра партнеров](https://partner.microsoft.com/en-us/dashboard), используя свою учетную запись разработчика Windows (нельзя использовать учетную запись Azure AD):</span><span class="sxs-lookup"><span data-stu-id="31101-111">To get started, sign in to the [Partner Center dashboard](https://partner.microsoft.com/en-us/dashboard) using your Windows developer account (you cannot use an Azure AD account):</span></span>

1.  <span data-ttu-id="31101-112">В меню слева перейдите в раздел **Работа на разных устройствах**, выберите **Настройка нового приложения для разных устройств** и укажите имя приложения, как показано на снимке экрана ниже.</span><span class="sxs-lookup"><span data-stu-id="31101-112">On the left menu, go to **Cross-Device Experiences**, select **Configuring a new cross-device app**, and provide your app name, as shown in the following screenshot.</span></span>

![Регистрация настройки нового приложения для разных устройств](images/notifications-crossdevice-new-configure.png)

2.  <span data-ttu-id="31101-114">Выберите все поддерживаемые платформы, на которых будет применяться и сможет получать уведомления ваше приложение.</span><span class="sxs-lookup"><span data-stu-id="31101-114">Select all supported platforms where your app will have a presence and be enabled to receive notifications.</span></span> <span data-ttu-id="31101-115">Вы можете выбрать поддерживаемые платформы, включающие Windows, Android и iOS, как показано ниже.</span><span class="sxs-lookup"><span data-stu-id="31101-115">You can select from supported platforms that include Windows, Android, and iOS, as shown.</span></span> 

![Настройка поддерживаемых типов платформ](images/notifications-crossdevice-supported-platforms.png)

3.  <span data-ttu-id="31101-117">Укажите идентификаторы приложения для каждой платформы, на которой будет применяться ваше приложение, как показано ниже.</span><span class="sxs-lookup"><span data-stu-id="31101-117">Provide app IDs for each of the platforms where your app has a presence, as shown.</span></span>

 ![Предоставление идентификаторов приложения для определенных платформ](images/notifications-crossdevice-platform-appids.png)

> [!NOTE] 
> <span data-ttu-id="31101-119">Вы можете добавлять разные идентификаторы (до десяти) для каждой платформы на случай наличия нескольких версий одного приложения или разных приложений, которым нужна возможность получения одинаковых уведомлений, отправляемых вашим сервером приложений и предназначенных для одного пользователя.</span><span class="sxs-lookup"><span data-stu-id="31101-119">You can add different IDs (up to ten) per platform – this is in case you have multiple versions of the same app, or even different apps, that want to be able to receive the same notification sent by your app server and targeted to the same user.</span></span>

4.  <span data-ttu-id="31101-120">Укажите или выберите идентификатор приложения из учетной записи Майкрософт и/или регистрации приложения Azure AD.</span><span class="sxs-lookup"><span data-stu-id="31101-120">Provide or select the app ID from Microsoft account and/or Azure AD app registration.</span></span> <span data-ttu-id="31101-121">Этот идентификатор клиента соответствует сведениям учетной записи Майкрософт или регистрации приложения Azure AD, полученным при регистрации на портале Azure.</span><span class="sxs-lookup"><span data-stu-id="31101-121">This client ID corresponds to the Microsoft account or Azure AD app registration that you obtained when you register in the Azure Portal.</span></span>

![Предоставление идентификаторов клиента из регистрации приложения Azure для MSA и AAD](images/notifications-crossdevice-azureportal-clientid.png)

5.  <span data-ttu-id="31101-123">Уведомления Microsoft Graph используют каждую из собственных платформ уведомлений на всех основных платформах для отправки уведомлений в конечные точки клиента приложения, а именно: WNS (для UWP Windows), FCM (для Android) и APNS (для iOS).</span><span class="sxs-lookup"><span data-stu-id="31101-123">Microsoft Graph notifications use each of the native notification platforms on all major platforms to send notifications to the app client endpoints, namely, WNS (for Windows UWP), FCM (for Android), and APNS (for iOS).</span></span> <span data-ttu-id="31101-124">Предоставьте свои учетные данные для этих платформ уведомлений, чтобы разрешить службе уведомлений Microsoft Graph доставлять уведомления для вашего сервера приложений, когда вы публикуете уведомления, ориентированные на пользователя, как показано ниже.</span><span class="sxs-lookup"><span data-stu-id="31101-124">Provide your credentials for these notification platforms to enable Microsoft Graph notifications to deliver notifications for your app server when you publish user-targeted notifications, as shown.</span></span>

 ![Предоставление учетных данных для push-уведомлений на разных устройствах](images/notifications-crossdevice-push-cred.png)

> [!NOTE]
> <span data-ttu-id="31101-126">Для приложений UWP Windows включение push-уведомлений WNS является необходимым условием для использования уведомлений Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="31101-126">For Windows UWP apps, enabling WNS push notification is a prerequisite to using Microsoft Graph notifications.</span></span> <span data-ttu-id="31101-127">Дополнительные сведения см. в статье [Обзор WNS](https://docs.microsoft.com/ru-RU/windows/uwp/design/shell/tiles-and-notifications/windows-push-notification-services--wns--overview).</span><span class="sxs-lookup"><span data-stu-id="31101-127">For details, see [WNS overview](https://docs.microsoft.com/en-us/windows/uwp/design/shell/tiles-and-notifications/windows-push-notification-services--wns--overview).</span></span> <span data-ttu-id="31101-128">После внедрения вы сможете предоставлять учетные данные push-уведомлений через Центр партнеров для платформы подключенных устройств.</span><span class="sxs-lookup"><span data-stu-id="31101-128">After you onboard, you can provide push credentials via Partner Center to the Connected Device Platform.</span></span>

6.  <span data-ttu-id="31101-129">Проверьте домен приложения для разных устройств. Это служит процедурой проверки, подтверждающей, что ваше приложение владеет этим доменом.</span><span class="sxs-lookup"><span data-stu-id="31101-129">Verify your cross-device app domain, which serves as a verification process to prove that your application has ownership of this domain.</span></span> <span data-ttu-id="31101-130">Для зарегистрированного вами приложения или приложений это является удостоверением приложения на разных устройствах, как показано ниже.</span><span class="sxs-lookup"><span data-stu-id="31101-130">This acts like a cross-device app identity for the application or applications you registered, as shown.</span></span>
    
    ![Проверка домена](images/notifications-crossdevice-domain-verify.png)

<span data-ttu-id="31101-132">Готово!</span><span class="sxs-lookup"><span data-stu-id="31101-132">That’s it!</span></span> <span data-ttu-id="31101-133">Вы зарегистрировали свои приложения для получения уведомлений.</span><span class="sxs-lookup"><span data-stu-id="31101-133">You've now registered your applications to receive notifications.</span></span> <span data-ttu-id="31101-134">Затем добавьте [пакет SDK уведомлений Microsoft Graph](https://github.com/microsoft/project-rome) в свой проект для выбранной платформы и начните интеграцию.</span><span class="sxs-lookup"><span data-stu-id="31101-134">Next, add the [Microsoft Graph notifications SDK](https://github.com/microsoft/project-rome) to your project on your platform of choice and start integrating.</span></span> 
