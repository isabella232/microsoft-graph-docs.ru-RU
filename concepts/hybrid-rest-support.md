---
title: Использование интерфейсов REST API для доступа к гибридным развертываниям Exchange (предварительная версия)
description: Служба Microsoft Graph предоставляет доступ к почтовым ящикам пользователей в облаке в Exchange Online в составе Microsoft 365.
localization_priority: Priority
ms.openlocfilehash: ba9d4d734d90b60814841a2671b087fb5095a2fd
ms.sourcegitcommit: 3fbc2249b307e8d3a9de18f22ef6911094ca272c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/26/2020
ms.locfileid: "48289178"
---
# <a name="use-rest-apis-to-access-mailboxes-in-exchange-hybrid-deployments-preview"></a><span data-ttu-id="e86a9-103">Использование интерфейсов REST API для доступа к гибридным развертываниям Exchange (предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="e86a9-103">Use REST APIs to access mailboxes in Exchange hybrid deployments (preview)</span></span>

<span data-ttu-id="e86a9-p101">Служба Microsoft Graph предоставляет доступ к почтовым ящикам пользователей в облаке в Exchange Online в составе Microsoft 365. В Exchange 2016 с накопительным пакетом обновления 3 (CU3), выпущенным в сентябре 2016 г. для локальных серверов Exchange, добавлена поддержка интеграции REST API с Microsoft 365. В приложениях, использующих API для управления [почтой](/graph/api/resources/message?view=graph-rest-1.0), [календарем](/graph/api/resources/calendar?view=graph-rest-1.0) и [контактами](/graph/api/resources/contact?view=graph-rest-1.0) версии 1.0, значительно упростились проверка подлинности и авторизация в _гибридных_ развертываниях, независимо от расположения почтового ящика (локально или в облаке), при условии что развертывание соответствует определенным [требованиям](#requirements-for-the-rest-api-to-work-in-hybrid-deployments).</span><span class="sxs-lookup"><span data-stu-id="e86a9-p101">Microsoft Graph has always provided access to customer mailboxes in the cloud on Exchange Online as part of Microsoft 365. Exchange 2016 Cumulative Update 3 (CU3), released in September 2016 for Exchange on-premises servers, adds support for REST API integration with Microsoft 365. If your app uses v1.0 of the [Mail](/graph/api/resources/message?view=graph-rest-1.0), [Calendar](/graph/api/resources/calendar?view=graph-rest-1.0), or [Contacts](/graph/api/resources/contact?view=graph-rest-1.0) API, you will now also find a seamless authentication and application experience in _hybrid_ deployments, regardless of whether the mailbox is on-premises or in the cloud, provided that the deployment meets specific [requirements](#requirements-for-the-rest-api-to-work-in-hybrid-deployments).</span></span> 


<span data-ttu-id="e86a9-p102">При этом, когда служба Microsoft Graph обнаруживает вызов REST API, запрашивающий доступ к локальному почтовому ящику в гибридном развертывании, она направляет запрос REST в локальную конечную точку REST, которая затем обрабатывает запрос. Это обнаружение делает возможным доступ к REST API.</span><span class="sxs-lookup"><span data-stu-id="e86a9-p102">Behind the scenes, when Microsoft Graph identifies that a REST API call is attempting to access an on-premises mailbox in a hybrid deployment, it proxies the REST request to an on-premises REST endpoint which then processes the request. This discovery makes accessing the REST API possible.</span></span>

><span data-ttu-id="e86a9-109">**Примечание.** В предварительной версии уже доступно использование этих интерфейсов REST API в гибридных развертываниях.</span><span class="sxs-lookup"><span data-stu-id="e86a9-109">**Note:** The ability to use these REST APIs in hybrid deployments is currently in preview.</span></span>

><span data-ttu-id="e86a9-p103">Для почтовых ящиков в гибридных развертываниях доступны только API почты, календаря и контактов версии 1.0. Другие наборы API версии 1.0, такие как API [групп](/graph/api/resources/group?view=graph-rest-1.0), или интерфейсы API других версий не поддерживаются. При попытке использовать API, входящий в набор, который не поддерживается в этом гибридном развертывании, появится следующее сообщение об ошибке:</span><span class="sxs-lookup"><span data-stu-id="e86a9-p103">Only v1.0 of the Mail, Calendar and Contacts API are available for mailboxes in hybrid deployments. Other v1.0 API sets, such as the [Groups](/graph/api/resources/group?view=graph-rest-1.0) API, or APIs in other versions, are not. If you attempt to use an API that is not part of the supported set in a hybrid deployment, you will get the following error message:</span></span>

><span data-ttu-id="e86a9-p104">"Интерфейсы REST API для этого почтового ящика в настоящее время находятся в предварительной версии. Дополнительные сведения об интерфейсах REST API предварительной версии можно найти на сайте https://dev.outlook.com".</span><span class="sxs-lookup"><span data-stu-id="e86a9-p104">"REST APIs for this mailbox are currently in preview. You can find more information about the preview REST APIs at https://dev.outlook.com."</span></span>

## <a name="requirements-for-the-rest-api-to-work-in-hybrid-deployments"></a><span data-ttu-id="e86a9-115">Требования к REST API для работы в гибридных развертываниях</span><span class="sxs-lookup"><span data-stu-id="e86a9-115">Requirements for the REST API to work in hybrid deployments</span></span>

<span data-ttu-id="e86a9-116">Microsoft Graph обеспечивает открытость (поддержку таких открытых стандартов, как JSON, OAUTH и ODATA, при подключении с самых популярных платформ) и гибкость (фрагментарные разрешения на доступ к данным пользователя с точно заданной областью).</span><span class="sxs-lookup"><span data-stu-id="e86a9-116">Microsoft Graph provides openness (open standards support like JSON, OAUTH and ODATA, connecting from most popular platforms) and flexibility (granular, tightly scoped permissions to access user data).</span></span> <span data-ttu-id="e86a9-117">Если ваша организация заинтересована в разработке приложений Microsoft Graph, а также использует или планирует использовать гибридное развертывание, учитывайте следующие требования к развертыванию:</span><span class="sxs-lookup"><span data-stu-id="e86a9-117">If your organization is interested in enabling Microsoft Graph app development and is currently in or considering a hybrid deployment, be aware of the following deployment requirements:</span></span>

- <span data-ttu-id="e86a9-118">Требования к почтовым ящикам</span><span class="sxs-lookup"><span data-stu-id="e86a9-118">Mailbox requirements</span></span>

  - <span data-ttu-id="e86a9-119">Все локальные почтовые ящики, использующие интерфейсы REST API, должны находиться в базах данных на серверах Exchange 2016 с накопительным пакетом обновления 3 (CU3).</span><span class="sxs-lookup"><span data-stu-id="e86a9-119">All on-premises mailboxes that will use the REST APIs must be located on databases located on Exchange 2016 CU3 servers.</span></span> 

- <span data-ttu-id="e86a9-120">Требования к инфраструктуре</span><span class="sxs-lookup"><span data-stu-id="e86a9-120">Infrastructure requirements</span></span>

  - <span data-ttu-id="e86a9-121">На всех серверах Exchange 2016 необходимо установить накопительный пакет обновления 3 (CU3) или более позднюю версию.</span><span class="sxs-lookup"><span data-stu-id="e86a9-121">All Exchange 2016 servers must be upgraded to CU3 or later.</span></span>  
  - <span data-ttu-id="e86a9-122">Локальная служба Active Directory должна синхронизироваться с Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="e86a9-122">On-premises Active Directory must synchronize with Azure Active Directory.</span></span>
  - <span data-ttu-id="e86a9-123">Все серверы Exchange 2013, находящиеся в том же массиве с балансировкой нагрузки, что и серверы Exchange 2016, необходимо удалить из массива.</span><span class="sxs-lookup"><span data-stu-id="e86a9-123">Any Exchange 2013 servers coexisting in the same load-balanced array with Exchange 2016 servers must be removed from the array.</span></span>

- <span data-ttu-id="e86a9-124">Требования к сети</span><span class="sxs-lookup"><span data-stu-id="e86a9-124">Networking requirements</span></span>

  - <span data-ttu-id="e86a9-125">С точки зрения DNS пространства имен автообнаружения и локального клиента должны быть записями DNS Интернета.</span><span class="sxs-lookup"><span data-stu-id="e86a9-125">From a DNS perspective, the Autodiscover namespace and on-premises client namespace must have Internet DNS records.</span></span> 
  - <span data-ttu-id="e86a9-126">Если у вас есть брандмауэр или шлюз приложения, который отслеживает и ограничивает доступ, измените соответствующие параметры, чтобы разрешить обнаружение и доступ.</span><span class="sxs-lookup"><span data-stu-id="e86a9-126">If you have a firewall or application gateway that inspects and restricts access, update the appropriate settings to allow discovery and access.</span></span>


<span data-ttu-id="e86a9-127">Дополнительные сведения для ИТ-администраторов см. в указанных ниже источниках.</span><span class="sxs-lookup"><span data-stu-id="e86a9-127">IT administrators can find more information in the following resources:</span></span>

- [<span data-ttu-id="e86a9-128">Гибридные развертывания Exchange Server</span><span class="sxs-lookup"><span data-stu-id="e86a9-128">Exchange Server Hybrid Deployments</span></span>](/exchange/exchange-hybrid)
- [<span data-ttu-id="e86a9-129">Выпуск накопительного пакета обновления за сентябрь 2016 г.</span><span class="sxs-lookup"><span data-stu-id="e86a9-129">September 2016 Cumulative Update Release</span></span>](https://blogs.technet.microsoft.com/exchange/2016/09/20/released-september-2016-quarterly-exchange-updates/) 
- [<span data-ttu-id="e86a9-130">Требования к локальной архитектуре для REST API</span><span class="sxs-lookup"><span data-stu-id="e86a9-130">On-Premises Architectural Requirements for the REST API</span></span>](https://blogs.technet.microsoft.com/exchange/2016/09/26/on-premises-architectural-requirements-for-the-rest-api/)