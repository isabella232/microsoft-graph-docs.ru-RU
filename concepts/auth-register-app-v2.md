---
title: Регистрация приложения с помощью конечной точки Azure AD версии 2.0
description: Приложение должно быть зарегистрировано в Azure AD. При регистрации приложения создается уникальный идентификатор и другие значения, используемые приложением для проверки подлинности в Azure AD и получения маркеров.
author: jackson-woods
localization_priority: Priority
ms.prod: microsoft-identity-platform
ms.openlocfilehash: 9f15158351d2ea83565506d04fd4f5bf56b4173b
ms.sourcegitcommit: 52baf24d1d08096214b12f60e7c755291fe03ab5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/13/2019
ms.locfileid: "33968837"
---
# <a name="register-an-application-with-the-microsoft-identity-platform"></a><span data-ttu-id="69c2c-104">Регистрация приложения с помощью платформы удостоверений Майкрософт</span><span class="sxs-lookup"><span data-stu-id="69c2c-104">Register an application with the Microsoft identity platform</span></span>

<span data-ttu-id="69c2c-105">На этой странице показано, как добавить и зарегистрировать приложение с помощью функции **регистрации приложений** на портале Azure, чтобы приложение поддерживало интеграцию с платформой удостоверений Майкрософт и могло вызывать Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="69c2c-105">This page shows you how to add and register an application using the **App registrations** experience in the Azure portal so that your app can be integrated with the Microsoft identity platform and call Microsoft Graph.</span></span> 

> [!VIDEO https://www.youtube-nocookie.com/embed/93j0MmRruFo]

## <a name="register-a-new-application-using-the-azure-portal"></a><span data-ttu-id="69c2c-106">Регистрация нового приложения с помощью портала Azure</span><span class="sxs-lookup"><span data-stu-id="69c2c-106">Register a new application using the Azure portal</span></span>

1. <span data-ttu-id="69c2c-107">Войдите на [портал Azure](https://portal.azure.com) с помощью личной учетной записи Майкрософт либо рабочей или учебной учетной записи.</span><span class="sxs-lookup"><span data-stu-id="69c2c-107">Sign in to the [Azure portal](https://portal.azure.com) using either a work or school account or a personal Microsoft account.</span></span>
1. <span data-ttu-id="69c2c-108">Если ваша учетная запись предоставляет доступ к нескольким клиентам, в правом верхнем углу щелкните свою учетную запись и выберите для текущего сеанса работы нужный клиент Azure AD.</span><span class="sxs-lookup"><span data-stu-id="69c2c-108">If your account gives you access to more than one tenant, select your account in the top right corner, and set your portal session to the Azure AD tenant that you want.</span></span>
1. <span data-ttu-id="69c2c-109">В области навигации слева выберите службу **Azure Active Directory**, а затем выберите **Регистрация приложений > Новая регистрация**.</span><span class="sxs-lookup"><span data-stu-id="69c2c-109">In the left-hand navigation pane, select the **Azure Active Directory** service, and then select **App registrations > New registration**.</span></span>
1. <span data-ttu-id="69c2c-110">После появления страницы **Регистрация приложения** введите сведения о регистрации приложения:</span><span class="sxs-lookup"><span data-stu-id="69c2c-110">When the **Register an application** page appears, enter your application's registration information:</span></span>

   - <span data-ttu-id="69c2c-111">**Имя** — введите информативное имя приложения, которое будет отображаться пользователям приложения.</span><span class="sxs-lookup"><span data-stu-id="69c2c-111">**Name** - Enter a meaningful application name that will be displayed to users of the app.</span></span>
   - <span data-ttu-id="69c2c-112">**Поддерживаемые типы учетных записей** — выберите учетные записи, которые должно поддерживать приложение.</span><span class="sxs-lookup"><span data-stu-id="69c2c-112">**Supported account types** - Select which accounts you would like your application to support.</span></span>

       | <span data-ttu-id="69c2c-113">Поддерживаемые типы учетных записей</span><span class="sxs-lookup"><span data-stu-id="69c2c-113">Supported account types</span></span> | <span data-ttu-id="69c2c-114">Описание</span><span class="sxs-lookup"><span data-stu-id="69c2c-114">Description</span></span> |
       |-------------------------|-------------|
       | <span data-ttu-id="69c2c-115">**Учетные записи только в этом каталоге организации**</span><span class="sxs-lookup"><span data-stu-id="69c2c-115">**Accounts in this organizational directory only**</span></span> | <span data-ttu-id="69c2c-116">Этот вариант подходит для создания бизнес-приложений.</span><span class="sxs-lookup"><span data-stu-id="69c2c-116">Select this option if you're building a line-of-business (LOB) application.</span></span> <span data-ttu-id="69c2c-117">Он будет недоступен, если приложение не регистрируется в каталоге.</span><span class="sxs-lookup"><span data-stu-id="69c2c-117">This option is not available if you're not registering the application in a directory.</span></span><br><br><span data-ttu-id="69c2c-118">Этот параметр сопоставляется с Azure AD только одного клиента.</span><span class="sxs-lookup"><span data-stu-id="69c2c-118">This option maps to Azure AD only single-tenant.</span></span><br><br><span data-ttu-id="69c2c-119">Этот параметр используется по умолчанию, если только приложение не регистрируется за пределами каталога.</span><span class="sxs-lookup"><span data-stu-id="69c2c-119">This is the default option unless you're registering the app outside of a directory.</span></span> <span data-ttu-id="69c2c-120">Если приложение зарегистрировано за пределами каталога, по умолчанию используются личные учетные записи Майкрософт и учетные записи с несколькими клиентами Azure AD.</span><span class="sxs-lookup"><span data-stu-id="69c2c-120">In cases where the app is registered outside of a directory, the default is Azure AD multi-tenant and personal Microsoft accounts.</span></span> |
       | <span data-ttu-id="69c2c-121">**Учетные записи в любом каталоге организации**</span><span class="sxs-lookup"><span data-stu-id="69c2c-121">**Accounts in any organizational directory**</span></span> | <span data-ttu-id="69c2c-122">Выберите этот параметр, если вы хотите выбрать в качестве целевой аудитории предприятия и учебные заведения.</span><span class="sxs-lookup"><span data-stu-id="69c2c-122">Select this option if you would like to target all business and educational customers.</span></span><br><br><span data-ttu-id="69c2c-123">Этот параметр сопоставляется с Azure AD только для нескольких клиентов.</span><span class="sxs-lookup"><span data-stu-id="69c2c-123">This option maps to an Azure AD only multi-tenant.</span></span><br><br><span data-ttu-id="69c2c-124">Если вы зарегистрировали приложение как приложение AAD с одним клиентом, можно обновить его до AAD с несколькими клиентами, а затем вернуться к отдельному клиенту с помощью колонки **Проверка подлинности**.</span><span class="sxs-lookup"><span data-stu-id="69c2c-124">If you registered the app as Azure AD only single-tenant, you can update it to be Azure AD multi-tenant and back to single-tenant through the **Authentication** blade.</span></span> |
       | <span data-ttu-id="69c2c-125">**Учетные записи в любом каталоге организации и личные учетные записи Майкрософт**</span><span class="sxs-lookup"><span data-stu-id="69c2c-125">**Accounts in any organizational directory and personal Microsoft accounts**</span></span> | <span data-ttu-id="69c2c-126">Выберите этот параметр для широкого круга пользователей.</span><span class="sxs-lookup"><span data-stu-id="69c2c-126">Select this option to target the widest set of customers.</span></span><br><br><span data-ttu-id="69c2c-127">Этот параметр сопоставляется с Azure AD с несколькими клиентами и личными учетными записями Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="69c2c-127">This option maps to Azure AD multi-tenant and personal Microsoft accounts.</span></span><br><br><span data-ttu-id="69c2c-128">Если вы зарегистрировали приложение как личные учетные записи Майкрософт и Azure AD с несколькими клиентами, это нельзя изменить в пользовательском интерфейсе.</span><span class="sxs-lookup"><span data-stu-id="69c2c-128">If you registered the app as Azure AD multi-tenant and personal Microsoft accounts, you cannot change this in the UI.</span></span> <span data-ttu-id="69c2c-129">Вместо этого необходимо использовать редактор манифеста приложения для изменения типов поддерживаемых учетных записей.</span><span class="sxs-lookup"><span data-stu-id="69c2c-129">Instead, you must use the application manifest editor to change the supported account types.</span></span> |

   - <span data-ttu-id="69c2c-130">**URI перенаправления (необязательно)** — выберите тип приложения, которое вы создаете — **Веб** или **Общедоступный клиент (мобильный и классический)**, а затем введите универсальный код ресурса (URI) перенаправления (или URL-адрес ответа) приложения.</span><span class="sxs-lookup"><span data-stu-id="69c2c-130">**Redirect URI (optional)** - Select the type of app you're building, **Web** or **Public client (mobile & desktop)**, and then enter the redirect URI (or reply URL) for your application.</span></span>
       - <span data-ttu-id="69c2c-131">Для веб-приложений укажите основной URL-адрес приложения.</span><span class="sxs-lookup"><span data-stu-id="69c2c-131">For web applications, provide the base URL of your app.</span></span> <span data-ttu-id="69c2c-132">Например, `http://localhost:31544` может быть URL-адресом веб-приложения, выполняемого на локальном компьютере.</span><span class="sxs-lookup"><span data-stu-id="69c2c-132">For example, `http://localhost:31544` might be the URL for a web app running on your local machine.</span></span> <span data-ttu-id="69c2c-133">Пользователи будут использовать этот URL-адрес для входа в приложение веб-клиента.</span><span class="sxs-lookup"><span data-stu-id="69c2c-133">Users would use this URL to sign in to a web client application.</span></span>
       - <span data-ttu-id="69c2c-134">Для общедоступных клиентских приложений укажите универсальный код ресурса (URI), который использует AAD для возвращения ответов маркера.</span><span class="sxs-lookup"><span data-stu-id="69c2c-134">For public client applications, provide the URI used by Azure AD to return token responses.</span></span> <span data-ttu-id="69c2c-135">Укажите значение, специфичное для вашего приложения, например `myapp://auth`.</span><span class="sxs-lookup"><span data-stu-id="69c2c-135">Enter a value specific to your application, such as `myapp://auth`.</span></span>

     <span data-ttu-id="69c2c-136">Конкретные примеры для веб-приложений или собственных приложений см. в наших [кратких руководствах](https://docs.microsoft.com/azure/active-directory/develop/#quickstarts).</span><span class="sxs-lookup"><span data-stu-id="69c2c-136">To see specific examples for web applications or native applications, check out our [quickstarts](https://docs.microsoft.com/azure/active-directory/develop/#quickstarts).</span></span>

1. <span data-ttu-id="69c2c-137">По завершении щелкните **Зарегистрировать**.</span><span class="sxs-lookup"><span data-stu-id="69c2c-137">When finished, select **Register**.</span></span>

    <span data-ttu-id="69c2c-138">[![Регистрация нового приложения на портале Azure](./images/auth-v2/new-app-registration-expanded.png)](./images/auth-v2/new-app-registration-expanded.png#lightbox)</span><span class="sxs-lookup"><span data-stu-id="69c2c-138">[![Register a new application in the Azure portal](./images/auth-v2/new-app-registration-expanded.png)](./images/auth-v2/new-app-registration-expanded.png#lightbox)</span></span>

<span data-ttu-id="69c2c-139">AAD присвоит вашему приложению уникальный идентификатор, после чего откроется страница приложения **Обзор**.</span><span class="sxs-lookup"><span data-stu-id="69c2c-139">Azure AD assigns a unique application (client) ID to your app, and you're taken to your application's **Overview** page.</span></span> <span data-ttu-id="69c2c-140">Чтобы добавить дополнительные возможности в свое приложение, вы можете выбрать другие параметры конфигурации, включая фирменную символику, сертификаты и секреты, разрешения API и прочее.</span><span class="sxs-lookup"><span data-stu-id="69c2c-140">To add additional capabilities to your application, you can select other configuration options including branding, certificates and secrets, API permissions, and more.</span></span>

<span data-ttu-id="69c2c-141">[![Страница обзора нового зарегистрированного приложения](./images/auth-v2/new-app-overview-page-expanded.png)](./images/auth-v2/new-app-overview-page-expanded.png#lightbox)</span><span class="sxs-lookup"><span data-stu-id="69c2c-141">[![Newly registered app's overview page](./images/auth-v2/new-app-overview-page-expanded.png)](./images/auth-v2/new-app-overview-page-expanded.png#lightbox)</span></span>

## <a name="platform-specific-properties"></a><span data-ttu-id="69c2c-142">Свойства, характерные для платформы</span><span class="sxs-lookup"><span data-stu-id="69c2c-142">Platform-specific properties</span></span>


<span data-ttu-id="69c2c-p108">В приведенной ниже таблице показаны свойства, которые необходимо настроить и скопировать для приложений различных типов. _Назначенное_ означает, что следует использовать значение, назначенное службой Azure AD.</span><span class="sxs-lookup"><span data-stu-id="69c2c-p108">The following table shows the properties that you need to configure and copy for different kinds of apps. _Assigned_ means that you should use the value assigned by Azure AD.</span></span>


| <span data-ttu-id="69c2c-145">Тип приложения</span><span class="sxs-lookup"><span data-stu-id="69c2c-145">App type</span></span> | <span data-ttu-id="69c2c-146">Платформа</span><span class="sxs-lookup"><span data-stu-id="69c2c-146">Platform</span></span> | <span data-ttu-id="69c2c-147">Идентификатор приложения (клиента)</span><span class="sxs-lookup"><span data-stu-id="69c2c-147">Application (client) ID</span></span> | <span data-ttu-id="69c2c-148">Секрет клиента</span><span class="sxs-lookup"><span data-stu-id="69c2c-148">Client Secret</span></span> | <span data-ttu-id="69c2c-149">URI/URL-адрес перенаправления</span><span class="sxs-lookup"><span data-stu-id="69c2c-149">Redirect URI/URL</span></span> | <span data-ttu-id="69c2c-150">Неявный поток</span><span class="sxs-lookup"><span data-stu-id="69c2c-150">Implicit Flow</span></span> 
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="69c2c-151">Нативное или мобильное</span><span class="sxs-lookup"><span data-stu-id="69c2c-151">Native/Mobile</span></span> | <span data-ttu-id="69c2c-152">Нативное</span><span class="sxs-lookup"><span data-stu-id="69c2c-152">Native</span></span> | <span data-ttu-id="69c2c-153">Назначенное</span><span class="sxs-lookup"><span data-stu-id="69c2c-153">Assigned</span></span>  | <span data-ttu-id="69c2c-154">Нет</span><span class="sxs-lookup"><span data-stu-id="69c2c-154">No</span></span> | <span data-ttu-id="69c2c-155">Назначенное</span><span class="sxs-lookup"><span data-stu-id="69c2c-155">Assigned</span></span> | <span data-ttu-id="69c2c-156">Нет</span><span class="sxs-lookup"><span data-stu-id="69c2c-156">No</span></span> |
| <span data-ttu-id="69c2c-157">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="69c2c-157">Web App</span></span> | <span data-ttu-id="69c2c-158">Веб</span><span class="sxs-lookup"><span data-stu-id="69c2c-158">Web</span></span> | <span data-ttu-id="69c2c-159">Назначенное</span><span class="sxs-lookup"><span data-stu-id="69c2c-159">Assigned</span></span> | <span data-ttu-id="69c2c-160">Да</span><span class="sxs-lookup"><span data-stu-id="69c2c-160">Yes</span></span> | <span data-ttu-id="69c2c-161">Да</span><span class="sxs-lookup"><span data-stu-id="69c2c-161">Yes</span></span> | <span data-ttu-id="69c2c-162">При необходимости</span><span class="sxs-lookup"><span data-stu-id="69c2c-162">Optional</span></span> <br/><span data-ttu-id="69c2c-163">По умолчанию ПО промежуточного слоя Open ID Connect использует гибридный поток (да)</span><span class="sxs-lookup"><span data-stu-id="69c2c-163">Open ID Connect middleware uses hybrid flow by default (Yes)</span></span> | 
| <span data-ttu-id="69c2c-164">Одностраничное приложение (SPA)</span><span class="sxs-lookup"><span data-stu-id="69c2c-164">Single Page App (SPA)</span></span> | <span data-ttu-id="69c2c-165">Веб</span><span class="sxs-lookup"><span data-stu-id="69c2c-165">Web</span></span> | <span data-ttu-id="69c2c-166">Назначенное</span><span class="sxs-lookup"><span data-stu-id="69c2c-166">Assigned</span></span> | <span data-ttu-id="69c2c-167">Да</span><span class="sxs-lookup"><span data-stu-id="69c2c-167">Yes</span></span> | <span data-ttu-id="69c2c-168">Да</span><span class="sxs-lookup"><span data-stu-id="69c2c-168">Yes</span></span> | <span data-ttu-id="69c2c-169">Да</span><span class="sxs-lookup"><span data-stu-id="69c2c-169">Yes</span></span> <br/> <span data-ttu-id="69c2c-170">Одностраничные приложения используют неявный поток Open ID Connect</span><span class="sxs-lookup"><span data-stu-id="69c2c-170">SPAs use Open ID Connect implicit Flow</span></span> |
| <span data-ttu-id="69c2c-171">Служба или управляющая программа</span><span class="sxs-lookup"><span data-stu-id="69c2c-171">Service/Daemon</span></span> | <span data-ttu-id="69c2c-172">Веб</span><span class="sxs-lookup"><span data-stu-id="69c2c-172">Web</span></span> | <span data-ttu-id="69c2c-173">Назначенное</span><span class="sxs-lookup"><span data-stu-id="69c2c-173">Assigned</span></span> | <span data-ttu-id="69c2c-174">Да</span><span class="sxs-lookup"><span data-stu-id="69c2c-174">Yes</span></span> | <span data-ttu-id="69c2c-175">Да</span><span class="sxs-lookup"><span data-stu-id="69c2c-175">Yes</span></span> | <span data-ttu-id="69c2c-176">Нет</span><span class="sxs-lookup"><span data-stu-id="69c2c-176">No</span></span> |

## <a name="next-steps"></a><span data-ttu-id="69c2c-177">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="69c2c-177">Next steps</span></span>

- <span data-ttu-id="69c2c-178">Узнайте больше о [разрешениях и согласии](https://docs.microsoft.com/azure/active-directory/develop/v2-permissions-and-consent) или просмотрите [справочник по разрешениям](permissions-reference.md) Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="69c2c-178">Learn more about [permissions and consent](https://docs.microsoft.com/azure/active-directory/develop/v2-permissions-and-consent) or view the Microsoft Graph [permissions reference](permissions-reference.md).</span></span>
- <span data-ttu-id="69c2c-179">Сведения о том, как включить дополнительные функции настройки при регистрации приложения (учетные данные, разрешения) и включить вход для пользователей из других клиентов, см. в руководствах ниже:</span><span class="sxs-lookup"><span data-stu-id="69c2c-179">To enable additional configuration features in your application registration, such as credentials and permissions, and enable sign-in for users from other tenants, see these quickstarts:</span></span>
    - [<span data-ttu-id="69c2c-180">Настройка клиентского приложения для доступа к веб-API</span><span class="sxs-lookup"><span data-stu-id="69c2c-180">Configure a client application to access web APIs</span></span>](https://docs.microsoft.com/azure/active-directory/develop/quickstart-configure-app-access-web-apis)
    - [<span data-ttu-id="69c2c-181">Настройка приложения для доступа к веб-API</span><span class="sxs-lookup"><span data-stu-id="69c2c-181">Configure an application to expose web APIs</span></span>](https://docs.microsoft.com/azure/active-directory/develop/quickstart-configure-app-expose-web-apis)
    - [<span data-ttu-id="69c2c-182">Изменение учетных записей, поддерживаемых приложением</span><span class="sxs-lookup"><span data-stu-id="69c2c-182">Modify the accounts supported by an application</span></span>](https://docs.microsoft.com/azure/active-directory/develop/quickstart-modify-supported-accounts)
- <span data-ttu-id="69c2c-183">Следуя этим [кратким руководствам](https://docs.microsoft.com/azure/active-directory/develop/#quickstarts), можно быстро создать приложение и добавить в него такие функциональные возможности, как получение и обновление маркеров, выполнение входа пользователя, отображение некоторых сведений о пользователе и многое другое.</span><span class="sxs-lookup"><span data-stu-id="69c2c-183">Choose a [quickstart](https://docs.microsoft.com/azure/active-directory/develop/#quickstarts) to quickly build an app and add functionality like getting tokens, refreshing tokens, signing in a user, displaying some user info, and more.</span></span>
- <span data-ttu-id="69c2c-184">Дополнительные сведения о двух объектах Azure AD, представляющих зарегистрированное приложение, и о взаимосвязи между ними: [Объекты приложения и субъекта-службы](https://docs.microsoft.com/azure/active-directory/develop/app-objects-and-service-principals).</span><span class="sxs-lookup"><span data-stu-id="69c2c-184">Learn more about the two Azure AD objects that represent a registered application and the relationship between them: [Application objects and service principal objects](https://docs.microsoft.com/azure/active-directory/develop/app-objects-and-service-principals).</span></span>
- <span data-ttu-id="69c2c-185">Дополнительные сведения о фирменной символике, которой следует пользоваться при разработке приложений, см. в [рекомендациях по использованию фирменной символики для приложений](https://docs.microsoft.com/azure/active-directory/develop/howto-add-branding-in-azure-ad-apps).</span><span class="sxs-lookup"><span data-stu-id="69c2c-185">Learn more about the branding guidelines you should use when developing apps with [Branding guidelines for applications](https://docs.microsoft.com/azure/active-directory/develop/howto-add-branding-in-azure-ad-apps).</span></span>
