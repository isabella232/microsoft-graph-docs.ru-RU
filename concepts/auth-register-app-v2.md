---
title: Регистрация приложения с помощью конечной точки Azure AD версии 2.0
description: 'Приложение должно быть зарегистрировано в Azure AD. При регистрации приложения создается уникальный идентификатор и другие значения, используемые приложением для проверки подлинности в Azure AD и получения маркеров. Для конечной точки Azure AD версии 2.0 приложение регистрируется на портале Майкрософт для регистрации приложений. Для регистрации приложения можно использовать либо учетную запись Майкрософт, либо рабочую или учебную учетную запись. В зависимости от типа создаваемого приложения, во время регистрации вам может потребоваться скопировать одно или несколько свойств, чтобы использовать их при настройке проверки подлинности и авторизации для приложения. '
ms.openlocfilehash: 552ae1c98a401589345f3dc78fbe40dc7cd70ca9
ms.sourcegitcommit: 334e84b4aed63162bcc31831cffd6d363dafee02
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/29/2018
ms.locfileid: "27092595"
---
# <a name="register-your-app-with-the-azure-ad-v20-endpoint"></a>Регистрация приложения с помощью конечной точки Azure AD версии 2.0

Приложение должно быть зарегистрировано в Azure AD. При регистрации приложения создается уникальный идентификатор и другие значения, используемые приложением для проверки подлинности в Azure AD и получения маркеров. Для конечной точки Azure AD версии 2.0 приложение регистрируется на [портале Майкрософт для регистрации приложений](https://apps.dev.microsoft.com). Для регистрации приложения можно использовать либо учетную запись Майкрософт, либо рабочую или учебную учетную запись. В зависимости от типа создаваемого приложения, во время регистрации вам может потребоваться скопировать одно или несколько свойств, чтобы использовать их при настройке проверки подлинности и авторизации для приложения. 


> **Примечание.** В этой статье основное внимание уделяется регистрации приложений с помощью конечной точки Azure AD версии 2.0. Сведения о регистрации приложения с помощью конечной точки Azure AD см. в разделе [Рекомендации, связанные с конечной точкой Azure AD](#azure-ad-endpoint-considerations) далее в этой статье.
> 
> Кроме того, помните, что если ранее вы регистрировали приложения на портале Microsoft Azure, то они не будут отображаться на портале регистрации приложений. Управляйте этими приложениями на портале Azure. 


На приведенном ниже снимке экрана показан пример регистрации веб-приложения, настроенной с использованием пароля и неявного потока. ![Регистрация веб-приложения с использованием пароля и неявного потока предоставления.](./images/v2-web-registration.png)

Чтобы зарегистрировать приложение, выполните указанные ниже действия. Обязательно скопируйте указанные значения — они потребуются при настройке авторизации для приложения.

1. Войдите на [портал Майкрософт для регистрации приложений](https://apps.dev.microsoft.com/).
   
    Вы можете войти с помощью учетной записи Майкрософт либо рабочей или учебной учетной записи. 

2. Нажмите кнопку **Добавить приложение**.
    > Примечание. Если вход выполнен с помощью рабочей или учебной учетной записи, нажмите кнопку **Добавить приложение** для **конвергированных приложений**. 

3. Введите имя приложения и нажмите кнопку **Создать приложение**.

    Откроется страница регистрации со свойствами приложения.

4. Скопируйте идентификатор приложения. Это уникальный идентификатор приложения.

    Идентификатор приложения используется для его настройки.

5. В разделе **Платформы** нажмите кнопку **Добавление платформы** и выберите подходящую платформу для вашего приложения:
    
    **Для нативных и мобильных приложений**:

    1. Выберите **Собственное приложение**.

    2. Скопируйте значение **встроенного URI перенаправления**. Оно потребуется вам для настройки приложения.

        URI перенаправления — это уникальный URI, предоставляемый приложению, чтобы сообщения, отправляемые на этот URI, отправлялись только этому приложению. 

    **Для веб-приложений**:

    1. Выберите платформу **Веб**.

    2. В зависимости от используемого потока аутентификации, возможно, потребуется установить флажок **Разрешить неявный поток**. 
        
        Параметр **Разрешить неявный поток** позволяет использовать неявный поток и гибридный поток OpenID Connect. Гибридный поток позволяет приложению получить данные для входа (маркер идентификатора) и артефакты (в данном случае — код авторизации), с помощью которых оно может получить маркер доступа. Гибридный поток используется по умолчанию в ПО промежуточного слоя OWIN OpenID Connect. Неявный поток позволяет одностраничным приложениям (SPA) получать данные для входа и маркер доступа. 

    3. Укажите URL-адрес перенаправления.
        
        URL-адрес перенаправления — это расположение в приложении, которое конечная точка Azure AD версии 2.0 вызывает после обработки запроса на проверку подлинности.

    4. В разделе **Секреты приложения** нажмите кнопку **Создать новый пароль**. Скопируйте секрет приложения из диалогового окна **Новый пароль создан**.
        > **Важно!** Необходимо скопировать секрет приложения, прежде чем закрывать диалоговое окно **Новый пароль создан**. После закрытия окна получить секрет будет невозможно. 
            
6. Нажмите кнопку **Сохранить**.


В приведенной ниже таблице показаны свойства, которые необходимо настроить и скопировать для приложений различных типов. _Назначенное_ означает, что следует использовать значение, назначенное службой Azure AD.


| Тип приложения | Платформа | Идентификатор приложения | Секрет приложения | URI/URL-адрес перенаправления | Неявный поток 
| --- | --- | --- | --- | --- | --- |
| Нативное или мобильное | Нативное | Назначенное  | Нет | Назначенное | Нет |
| Веб-приложение | Веб | Назначенное | Да | Да | При необходимости <br/>По умолчанию ПО промежуточного слоя Open ID Connect использует гибридный поток (да) | 
| Одностраничное приложение (SPA) | Веб | Назначенное | Да | Да | Да <br/> Одностраничные приложения используют неявный поток Open ID Connect |
| Служба или управляющая программа | Веб | Назначенное | Да | Да | Нет |

Приложениям, предусматривающим предоставление согласия администратора, может потребоваться дополнительный URL-адрес перенаправления для Azure AD, на который будет возвращаться отклик.

Дополнительные сведения о портале регистрации приложений и свойствах, которые можно настраивать для приложения, см. в статье [Справка по регистрации приложений](https://docs.microsoft.com/ru-RU/azure/active-directory/develop/active-directory-v2-registration-portal).  

## <a name="azure-ad-endpoint-considerations"></a>Рекомендации, связанные с конечной точкой Azure AD

Зарегистрировать приложение для конечной точки Azure AD можно на [портале Azure](https://aka.ms/aadapplist). При этом настраиваются те же основные свойства (например, идентификатор приложения, секрет приложения и URI/URL-адрес перенаправления), что и для конечной точки версии 2.0. Однако следует учитывать некоторые важные различия: 

- Для регистрации приложения можно использовать только рабочую или учебную учетную запись.
- Для каждой платформы приложению потребуется отдельный идентификатор.
- Если приложение является мультитенантным, необходимо в явной форме настроить его как таковое на портале.
- Все необходимые приложению разрешения (включая разрешения Microsoft Graph) необходимо заранее настроить на портале. 

Рекомендации по добавлению приложения на портале Azure см. в разделе [Интеграция приложений с Azure Active Directory: добавление приложения](https://docs.microsoft.com/azure/active-directory/develop/active-directory-integrating-applications#adding-an-application).
