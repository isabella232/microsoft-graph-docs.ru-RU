# <a name="microsoft-graph-permissions-reference"></a>Справочник по разрешениям Microsoft Graph 
Microsoft Graph предоставляет детализированные разрешения, управляющие доступом приложений к ресурсам, таким как пользователи, группы и почта. Разработчик указывает, какие разрешения для Microsoft Graph должно запрашивать его приложение. Входя в приложение, пользователь (иногда администратор) получает возможность согласиться с предоставлением этих разрешений. Если пользователь дает согласие, приложение получает доступ к запрашиваемым ресурсам и интерфейсам API. Для приложений, не предусматривающих вход пользователя, администратор может заранее дать согласие при установке приложения или во время регистрации. 

## <a name="delegated-permissions-application-permissions-and-effective-permissions"></a>Разрешения приложения, делегированные разрешения и действующие разрешения
В Microsoft Graph есть два типа разрешений: **разрешения приложения** и **делегированные разрешения**. 

- **Делегированные разрешения** используются приложениями, предусматривающими вход пользователя. Пользователь или администратор предоставляет запрашиваемые разрешения, после чего приложение может вызывать Microsoft Graph от имени вошедшего пользователя. Разрешения высокого уровня может предоставлять только [администратор](https://docs.microsoft.com/ru-RU/azure/active-directory/develop/active-directory-v2-scopes#admin-restricted-scopes).  

- **Разрешения приложений** используются приложениями, не требующими входа пользователя (например, фоновыми службами и управляющими программами). Предоставлять эти разрешения может только [администратор](https://docs.microsoft.com/ru-RU/azure/active-directory/develop/active-directory-v2-scopes#requesting-consent-for-an-entire-tenant). 

_Действующие разрешения_ — это разрешения, которые будут у приложения при отправке запросов в Microsoft Graph. Важно понимать разницу между разрешениями приложения или делегированными разрешениями, предоставленными приложению, и его действующими разрешениями при вызовах Microsoft Graph.

- В случае делегированных разрешений _действующими разрешениями_ приложения будут такие, которые включены одновременно как в делегированные (предоставленные приложению путем согласия), так и в назначенные вошедшему пользователю. У вашего приложения никогда не может быть больше привилегий, чем у вошедшего пользователя. В организациях привилегии вошедшего пользователя могут определяться политикой или членством в одной или нескольких ролях администратора. Дополнительные сведения о ролях администратора см. в статье [Назначение ролей администратора в Azure Active Directory](https://docs.microsoft.com/ru-RU/azure/active-directory/active-directory-assign-admin-roles).<br/><br/>Допустим, приложению было предоставлено делегированное разрешение _User.ReadWrite.All_. Обычно это разрешение позволяет приложению считывать и обновлять профиль любого пользователя в организации. Если вошедший пользователь является глобальным администратором, приложение сможет обновлять профиль любого пользователя в организации. Однако если вошедший пользователь не является администратором, то приложение сможет обновлять только профиль вошедшего пользователя. Оно не сможет обновлять профили других пользователей в организации, так как у пользователя, от имени которого может действовать приложение, нет таких привилегий.
  
- В случае разрешений приложения все предусмотренные ими привилегии будут включены в _действующие разрешения_ вашего приложения. Например, приложение с разрешением _User.ReadWrite.All_ приложения может обновлять профиль любого пользователя в организации. 

### <a name="microsoft-graph-permission-names"></a>Имена разрешений Microsoft Graph

Имена разрешений Microsoft Graph соответствуют простому шаблону: _ресурс.операция.ограничение_. Например, разрешение _User.Read_ позволяет просматривать профиль вошедшего пользователя, разрешение _User.ReadWrite_ — просматривать и редактировать профиль вошедшего пользователя, а разрешение _Mail.Send_ — отправлять почту от его имени. 

Указанное в имени _ограничение_ определяет потенциальный уровень доступа приложения в рамках каталога. В настоящее время Microsoft Graph поддерживает следующие ограничения: 

* **All**, которое позволяет приложению выполнять операции со всеми ресурсами указанного типа в каталоге. Например, разрешение _User.Read.All_ может предоставить приложению права на просмотр профилей всех пользователей в каталоге. 
* **Shared**, которое позволяет приложению выполнять операции с ресурсами, доступ к которым предоставлен вошедшему пользователю другими пользователями. Это ограничение в основном используется с такими ресурсами Outlook, как почта, календари и контакты. Например, разрешение _Mail.Read.Shared_ позволяет просматривать сообщения в почтовом ящике вошедшего пользователя, а также в почтовых ящиках, доступ к которым предоставлен вошедшему пользователю другими пользователями в организации.
* **AppFolder**, которое предоставляет приложению права на чтение и запись файлов в выделенной папке в OneDrive. Это ограничение доступно только в [разрешениях для файлов](#files-permissions) и действительно только для учетных записей Майкрософт.
* Если **ограничение не указано**, приложение сможет выполнять операции только с ресурсами, принадлежащими вошедшему пользователю. Например, разрешение _User.Read_ позволяет просматривать только профиль вошедшего пользователя, а _Mail.Read_ — только сообщения в почтовом ящике вошедшего пользователя.

> **Примечание.** При делегировании действующие разрешения, предоставленные приложению, могут быть ограничены привилегиями вошедшего пользователя в организации.

### <a name="microsoft-accounts-and-work-or-school-accounts"></a>Учетные записи Майкрософт и рабочие или учебные учетные записи

Не все разрешения действительны как для учетных записей Майкрософт, так и для рабочих или учебных учетных записей. В разделе **Замечания** для каждой группы разрешений указано, для каких учетных записей действительно то или иное разрешение: учетных записей Майкрософт, рабочих и учебных учетных записей либо для всех типов. 

### <a name="user-and-group-search-limitations-for-guest-users-in-organizations"></a>Ограничения на поиск пользователей и групп для гостевых пользователей в организациях

Функции поиска пользователей и групп позволяют приложению найти любого пользователя и любую группу в каталоге организации с помощью запросов для набора ресурсов `/users` или `/groups` (например, `https://graph.microsoft.com/v1.0/users`). Эта возможность есть у администраторов и обычных пользователей. Ее нет у гостевых пользователей. 

Если пользователь вошел как гость, то в зависимости от предоставленных приложению разрешений оно может считывать профиль определенного пользователя или определенной группы (например, `https://graph.microsoft.com/v1.0/users/241f22af-f634-44c0-9a15-c8cd2cea5531`). Но оно не может отправлять набору ресурсов `/users` или `/groups` запросы, способные возвращать несколько ресурсов. 

При наличии подходящих разрешений приложение может считывать профили пользователей и групп, которые оно получает благодаря ссылкам в свойствах навигации (например, `/users/{id}/directReports` или `/groups/{id}/members`).

---

## <a name="application-resource-permissions"></a>Разрешения ресурсов приложения

#### <a name="delegated-permissions"></a>Делегированные разрешения

Нет.

#### <a name="application-permissions"></a>Разрешения приложений

|   Разрешение    |  Отображаемая строка   |  Описание | Требуется согласие администратора |
|:-----------------------------|:-----------------------------------------|:-----------------|:-----------------|
| _Application.ReadWrite.All_ | Чтение и запись всех приложений | Позволяет вызывающему приложению создавать приложения и субъект-службы, а также управлять ими (т. е. читать, обновлять, обновлять секретные ключи приложения и удалять) без необходимости входа пользователя.  Управлять разрешениями на согласие, а также назначениями приложений для пользователей или групп не разрешается. | Да |
| _Application.ReadWrite.OwnedBy_ | Управление приложениями, которыми это приложение владеет или которые были им созданы | Позволяет вызывающему приложению создавать другие приложения и субъект-службы, а также полностью управлять ими (читать, обновлять, обновлять секретные ключи приложения и удалять) без необходимости входа пользователя.  Приложение может обновлять только программы, которыми владеет. Управлять разрешениями на согласие, а также назначениями приложений для пользователей или групп не разрешается. | Да |

### <a name="remarks"></a>Комментарии

Разрешение _Application.ReadWrite.OwnedBy_ обеспечивает те же операции, что и _Application.ReadWrite.All_, но только для приложений и субъект-служб, которыми владеет вызывающее приложение. Владение определяется свойством навигации `owners` в целевом [приложении](../api-reference/beta/api/application_list_owners.md) или ресурсе [субъект-службы](../api-reference/beta/api/serviceprincipal_list_owners.md).
> Примечание: использование разрешения _Application.ReadWrite.OwnedBy_ для вызова команды `GET /applications` с целью составления списка приложений приводит к ошибке 403.  Вместо этого используйте команду `GET servicePrincipals/{id}/ownedObjects`, чтобы составить список приложений, которыми владеет вызывающее приложение.

### <a name="example-usage"></a>Примеры использования

#### <a name="delegated"></a>Делегированные

Нет.

#### <a name="application"></a>Приложение

* _Application.ReadWrite.All_. Составление списка всех приложений (`GET /beta/applications`)
* _Application.ReadWrite.All_. Удаление субъект-службы (`DELETE /beta/servicePrincipals/{id}`)
* _Application.ReadWrite.OwnedBy_. Создание приложения (`POST /beta/applications`)
* _Application.ReadWrite.OwnedBy_. Составление списка всех приложений, которыми владеет вызывающее приложение (`GET /beta/servicePrincipals/{id}/ownedObjects`)
* _Application.ReadWrite.OwnedBy_. Добавление другого владельца приложения (`POST /applications/{id}/owners/$ref`).  Примечание: могут потребоваться дополнительные разрешения.

---

## <a name="bookings-permissions"></a>Разрешения Bookings

#### <a name="delegated-permissions"></a>Делегированные разрешения

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:----------------|:------------------|:-------------|:-----------------------|
| _Bookings.Read.All_ |  Позволяет приложению считывать сведения о встречах, компаниях, клиентах, службах и персонале Bookings от имени вошедшего пользователя. | Предназначено для программ, выполняющих только чтение. Типичный целевой пользователь — клиент компании по бронированию. | Нет |
| _Bookings.ReadWrite.Appointments_ | Позволяет приложению считывать и записывать встречи и клиентов Bookings, а также считывать сведения о компаниях, службах и персонале от имени вошедшего пользователя. | Предназначено для программ планирования, которым необходимо выполнять операции со встречами и клиентами. Не предусмотрена возможность менять основную информацию о компании по бронированию, ее услугах и персонале. Типичный целевой пользователь — клиент компании по бронированию.| Нет |
| _Bookings.ReadWrite.All_ | Позволяет приложению считывать и записывать сведения о встречах, компаниях, клиентах, службах и персонале Bookings от имени вошедшего пользователя. Не позволяют создавать, удалять или публиковать компании Bookings. | Предназначено для приложений управления, которые выполняют операции с существующими компаниями, их службами и персоналом. Не предусмотрена возможность создавать, удалять или изменять состояние публикации компании по бронированию. Типичный целевой пользователь — сотрудник службы поддержки в организации.| Нет |
| _Bookings.Manage_ | Позволяет приложению считывать и записывать сведения о встречах, компаниях, клиентах, службах и персонале Bookings, а также управлять такими сведениями от имени вошедшего пользователя.  | Предоставляет приложению полный доступ. <br>Предназначается для полного управления. Типичный целевой пользователь — администратор организации.| Нет |

#### <a name="application-permissions"></a>Разрешения приложений

Нет.

### <a name="example-usage"></a>Примеры использования

#### <a name="delegated"></a>Делегированные разрешения

* _Bookings.Read.All_: получение идентификатора и имен коллекции компаний Bookings, созданной для клиента (`GET /bookingBusinesses`).
* _Bookings.ReadWrite.Appointments_: создание встречи для службы в компании Bookings (`POST /bookingBusinesses/{id}/appointments`).
* _Bookings.ReadWrite.All_: создание новой службы для указанной компании Bookings (`POST /bookingBusinesses/{id}/services`).
* _Bookings.Manage_: создание страницы расписания данной компании, доступной внешним клиентам (`POST /bookingBusinesses/{id}/publish`).

## <a name="calendars-permissions"></a>Разрешения для календарей

#### <a name="delegated-permissions"></a>Делегированные разрешения

|Разрешение    |Отображаемая строка   |Описание |Необходимость в согласии администратора |
|:-----------------------------|:-----------------------------------------|:-----------------|:-----------------|
| _Calendars.Read_ |Чтение пользовательских календарей |Позволяет приложению считывать события в пользовательских календарях. |Нет |
| _Calendars.Read.Shared_ |Чтение пользовательских и общих календарей |Позволяет приложению считывать события во всех календарях, доступных пользователю, в том числе делегированных и общих. |Нет |
| _Calendars.ReadWrite_ |Полный доступ к пользовательским календарям |Позволяет приложению создавать, считывать, обновлять и удалять события в пользовательских календарях. |Нет |
| _Calendars.ReadWrite.Shared_ |Чтение и запись пользовательских и общих календарей |Позволяет приложению создавать, читать, обновлять и удалять события во всех календарях, доступных пользователю, в том числе делегированных и общих календарях.|Нет |

<br/>

#### <a name="application-permissions"></a>Разрешения приложений

|Разрешение    |Отображаемая строка   |Описание |Необходимость в согласии администратора |
|:-----------------------------|:-----------------------------------------|:-----------------|:-----------------|
|_Calendars.Read_ |Чтение календарей во всех почтовых ящиках |Позволяет приложению считывать события во всех календарях в случаях, когда вход пользователя не предусмотрен. |Да |
|_Calendars.ReadWrite_ |Чтение и запись календарей во всех почтовых ящиках |Позволяет приложению создавать, считывать, обновлять и удалять события во всех календарях в случаях, когда вход пользователя не предусмотрен. |Да |

<br/>

### <a name="remarks"></a>Заметки

Разрешения _Calendars.Read.Shared_ и _Calendars.ReadWrite.Shared_ действительны только для рабочих и учебных учетных записей. Все остальные разрешения поддерживаются как для учетных записей Майкрософт, так и для рабочих или учебных учетных записей.

### <a name="example-usage"></a>Примеры использования

#### <a name="delegated"></a>Делегированные разрешения

* _Calendars.Read_. Получение событий пользовательского календаря, произошедших с 23 апреля 2017 г. до 29 апреля 2017 г. (`GET /me/calendarView?startDateTime=2017-04-23T00:00:00&endDateTime=2017-04-29T00:00:00`).
* _Calendars.Read.Shared_: поиск периодов, когда свободны все участники (`POST /users/{id|userPrincipalName}/findMeetingTimes`).
* _Calendars.ReadWrite_. Добавление события в календарь пользователя (`POST /me/events`).

#### <a name="application"></a>Для приложений

* _Calendars.Read_. Поиск событий, организованных пользователем bob@contoso.com, в календаре конференц-зала (`GET /users/{id | userPrincipalName}/events?$filter=organizer/emailAddress/address eq 'bob@contoso.com'`).
* _Calendars.Read_: список всех событий в календаре пользователя за май (`GET /users/{id | userPrincipalName}/calendarView?startDateTime=2017-05-01T00:00:00&endDateTime=2017-06-01T00:00:00`).
* _Calendars.ReadWrite_. Добавление в пользовательский календарь события для утвержденного нерабочего времени (`POST /users/{id | userPrincipalName}/events`).
* _Calendars.Send_: отправка сообщения (`POST /users/{id | userPrincipalName}/sendCalendars`).


Более сложные сценарии с использованием нескольких разрешений представлены в разделе [Сценарии с использованием разрешений](#permission-scenarios).


## <a name="contacts-permissions"></a>Разрешения для контактов

#### <a name="delegated-permissions"></a>Делегированные разрешения

|Разрешение    |Отображаемая строка   |Описание |Необходимость в согласии администратора |
|:-----------------------------|:-----------------------------------------|:-----------------|:-----------------|
|_Contacts.Read_ |Чтение контактов пользователя  |Позволяет приложению считывать контакты пользователя. |Нет |
|_Contacts.Read.Shared_ |Чтение контактов пользователя и общих контактов |Позволяет приложению считывать контакты, доступные пользователю, в том числе собственные контакты пользователя и общие контакты. |Нет |
|_Contacts.ReadWrite_ |Полный доступ к контактам пользователя |Позволяет приложению создавать, считывать, обновлять и удалять контакты пользователя. |Нет |
|_Contacts.ReadWrite.Shared_ |Чтение и запись контактов пользователя и общих контактов |Позволяет приложению создавать, считывать, обновлять и удалять контакты, доступные пользователю, в том числе собственные контакты пользователя и общие контакты. |Нет |

#### <a name="application-permissions"></a>Разрешения приложений

|Разрешение    |Отображаемая строка   |Описание |Необходимость в согласии администратора |
|:-----------------------------|:-----------------------------------------|:-----------------|:-----------------|
|_Contacts.Read_ |Чтение контактов во всех почтовых ящиках |Позволяет приложению считывать все контакты во всех почтовых ящиках в случаях, когда вход пользователя не предусмотрен. |Да |
|_Contacts.ReadWrite_ |Чтение и запись контактов во всех почтовых ящиках |Позволяет приложению создавать, считывать, обновлять и удалять все контакты во всех почтовых ящиках в случаях, когда вход пользователя не предусмотрен. |Да |

### <a name="remarks"></a>Заметки
Из делегированных разрешений только _Contacts.Read_ и _Contacts.ReadWrite_ действительны для учетных записей Майкрософт. 

### <a name="example-usage"></a>Примеры использования
#### <a name="delegated"></a>Делегированные разрешения

* _Contacts.Read_. Чтение контакта в одной из папок контактов верхнего уровня для вошедшего пользователя (`GET /me/contactfolders/{Id}/contacts/{id}`).
* _Contacts.ReadWrite_. Обновление фотографии одного из контактов вошедшего пользователя (`PUT /me/contactfolders/{contactFolderId}/contacts/{id}/photo/$value`). 
* _Contacts.ReadWrite_. Добавление контактов в корневую папку вошедшего пользователя (`POST /me/contacts`).

#### <a name="application"></a>Для приложений

* _Contacts.Read_. Чтение контактов в одной из папок контактов верхнего уровня для любого пользователя в организации (`GET /users/{id | userPrincipalName}/contactfolders/{Id}/contacts/{id}`). 
* _Contacts.ReadWrite_. Обновление фотографии любого контакта любого пользователя в организации (`PUT /user/{id | userPrincipalName}/contactfolders/{contactFolderId}/contacts/{id}/photo/$value`). 
* _Contacts.ReadWrite_. Добавление контактов в корневую папку любого пользователя в организации (`POST /users/{id | userPrincipalName}/contacts`).

Более сложные сценарии с использованием нескольких разрешений представлены в разделе [Сценарии с использованием разрешений](#permission-scenarios).


## <a name="device-permissions"></a>Разрешения для устройств

#### <a name="delegated-permissions"></a>Делегированные разрешения

|Разрешение    |Отображаемая строка   |Описание |Необходимость в согласии администратора |
|:-----------------------------|:-----------------------------------------|:-----------------|:-----------------|
|_Device.Read_ |Считывание списка устройств пользователя |Позволяет приложению считывать список устройств пользователя от имени выполнившего вход пользователя. |Нет |
|_Device.Command_ |Обмен данными с устройствами пользователей |Позволяет одному приложению запускать другое или обмениваться с ним данными на устройстве пользователя от имени выполнившего вход пользователя. |Нет |


#### <a name="application-permissions"></a>Разрешения приложений

|Разрешение    |Отображаемая строка   |Описание |Необходимость в согласии администратора |
|:-----------------------------|:-----------------------------------------|:-----------------|:-----------------|
|_Device.ReadWrite.All_ |Чтение и запись устройств |Позволяет приложению считывать и записывать все свойства устройств, когда вход пользователя не выполнен. Не позволяет создавать, удалять и обновлять альтернативные идентификаторы безопасности устройств. |Да |

### <a name="remarks"></a>Заметки

Делегированные разрешения _Device.Read_ и _Device.Command_ действительны только для личных учетных записей Майкрософт.

### <a name="example-usage"></a>Примеры использования

#### <a name="application"></a>Для приложений

* _Device.ReadWrite.All_. Чтение всех зарегистрированных устройств в организации (`GET /devices`).

Более сложные сценарии с использованием нескольких разрешений представлены в разделе [Сценарии с использованием разрешений](#permission-scenarios).

---

## <a name="directory-permissions"></a>Разрешения для каталогов

#### <a name="delegated-permissions"></a>Делегированные разрешения

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:-----------------------------|:-----------------------------------------|:-----------------|:-----------------|
| _Directory.Read.All_ |Чтение данных каталога | Позволяет приложению читать данные в каталоге вашей организации, такие как сведения о пользователях, группах и приложениях. **Примечание.** Пользователи могут предоставлять это разрешение, если приложение зарегистрировано в клиенте организации.| Да |
| _Directory.ReadWrite.All_ |Чтение и запись данных каталога | Позволяет приложению считывать и записывать данные в каталоге вашей организации, такие как пользователи и группы. Не позволяет приложению удалять пользователей и группы или сбрасывать пароли пользователей. | Да |
| _Directory.AccessAsUser.All_ |Доступ к каталогу, аналогичный доступу вошедшего пользователя  | Предоставляет приложению такой же доступ к информации в каталоге, как у вошедшего пользователя. | Да |

<br/>

#### <a name="application-permissions"></a>Разрешения приложений

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:-----------------------------|:-----------------------------------------|:-----------------|:-----------------|
| _Directory.Read.All_ | Чтение данных каталога | Позволяет приложению считывать данные в каталоге вашей организации, такие как группы, пользователи и приложения, в случаях, когда вход пользователя не предусмотрен. | Да |
| _Directory.ReadWrite.All_ | Чтение и запись данных каталога | Позволяет приложению читать и записывать данные в каталоге вашей организации, например пользователей и группы, без вошедшего пользователя. Не позволяет удалять пользователей или группы. | Да |

### <a name="remarks"></a>Замечания
Разрешения для каталогов не поддерживаются в случае учетных записей Майкрософт. 

Разрешения для каталогов обеспечивают самый высокий уровень привилегий для доступа к ресурсам каталога в организации, таким как [User](../api-reference/v1.0/resources/user.md), [Group](../api-reference/v1.0/resources/group.md) и [Device](../api-reference/v1.0/resources/device.md). 

Кроме того, только они управляют доступом к некоторым другим ресурсам каталога, например [контактам организации](../api-reference/beta/resources/orgcontact.md), [API расширений схемы](../api-reference/beta/resources/schemaextension.md), [API управления привилегированными пользователями (PIM)](../api-reference/beta/resources/privilegedidentitymanagement_root.md), а также многим ресурсам и API, указанным в разделе **Azure Active Directory** справочной документации по API версии 1.0 и бета-версии. В их число входят административные единицы, роли каталога, параметры каталога, политики и многое другое. 

Разрешение _Directory.ReadWrite.All_ предоставляет следующие привилегии:

- полный доступ на чтение всех ресурсов каталога (как объявленных свойств, так и свойств навигации);
- создание и обновление пользователей;
- отключение и включение пользователей (кроме администратора компании);
- установка альтернативного идентификатора безопасности пользователей (кроме администраторов);
- создание и обновление групп;
- управление членством в группах;
- обновление владельца группы;
- управление назначениями лицензий;
- определение расширений схемы для приложений.
- **Примечание.** Права на сброс паролей пользователей не предоставляются.
- **Примечание.** Права на удаление ресурсов (в том числе пользователей и групп) не предоставляются.
- **Примечание.** В частности, исключаются создание и обновление ресурсов, не указанных выше. К ним относятся application, oAauth2Permissiongrant, appRoleAssignment, device, servicePrincipal, organization, domains и другие.
 

### <a name="example-usage"></a>Примеры использования

#### <a name="delegated"></a>Делегированные разрешения
* _Directory.Read.All_. Перечисление всех административных единиц в организации (`GET /beta/administrativeUnits`).
* _Directory.ReadWrite.All_. Добавление членов роли каталога (`POST /directoryRoles/{id}/members/$ref`).

#### <a name="application"></a>Для приложений
* _Directory.Read.All_. Перечисление всех объектов, членом которых является пользователь, включая роли каталога и административные единицы (`GET /beta/users/{id}/memberOf`).
* _Directory.Read.All_. Перечисление всех членов группы, включая субъекты-службы (`GET /beta/groups/{id}/members`).
* _Directory.ReadWrite.All_. Добавление владельца группы (`POST /groups/{id}/owners/$ref`).


Более сложные сценарии с использованием нескольких разрешений представлены в разделе [Сценарии с использованием разрешений](#permission-scenarios).

---

## <a name="education-permissions"></a>Разрешения для образования

#### <a name="delegated-permissions"></a>Делегированные разрешения

|Разрешение |Отображаемая строка |Описание | Необходимость в согласии администратора |
|:--------- |:------------- |:---------- | :--------------------- |
|EduAdministration.Read | Чтение настроек обучающего приложения |  Разрешает приложению читать настройки обучающего приложения от имени пользователя. | Да |
|EduAdministration.ReadWrite | Управление настройками обучающего приложения | Позволяет приложению управлять настройками обучающего приложения от имени пользователя. | Да |
|EduAssignments.ReadBasic | Чтение заданий для курсов пользователей без оценок | Позволяет приложению считывать задания без оценок от имени пользователя | Да |
|EduAssignments.ReadWriteBasic | Чтение и запись заданий для курсов пользователей без оценок | Позволяет приложению считывать и записывать задания без оценок от имени пользователя | Да |
|EduAssignments.Read | Чтение представления заданий для курсов пользователей и соответствующих оценок | Позволяет приложению считывать задания с оценками от имени пользователя| Да |
|EduAssignments.ReadWrite | Чтение и запись представления заданий для курсов пользователей и соответствующих оценок | Позволяет приложению считывать и записывать задания с оценками от имени пользователя|Да |
|EduRostering.ReadBasic| Чтение части представления списка пользователей | Позволяет приложению считывать часть данных из структуры учебных заведений и курсов в составе организации, а также педагогическую информацию о пользователях от имени пользователя.  | Да  |


#### <a name="application-permissions"></a>Разрешения приложений

| Разрешение | Отображаемая строка | Описание | Требуется ли согласие администратора |
| :--------- | :------------- | :---------- | :--------------------- |
|EduAssignments.ReadBasic.All| Чтение заданий для курса без оценок|Позволяет приложению считывать задания без оценок для всех пользователей| Да |
|EduAssignments.ReadWriteBasic.All | Чтение и запись заданий для курса без оценок | Позволяет приложению считывать и записывать задания без оценок для всех пользователей| Да |
|EduAssignments.Read.All| Чтение заданий для курса с оценками | Позволяет приложению считывать задания и соответствующие оценки для всех пользователей | Да |
|EduAssignments.ReadWrite.All | Чтение и запись учебных заданий с оценками | Позволяет приложению считывать и записывать задания и соответствующие оценки для всех пользователей | Да |
|EduRostering.ReadBasic.All | Считывание части состава организации. | Позволяет приложению считывать часть структуры учебных заведений и курсов в составе организации, а также педагогическую информацию обо всех пользователях. | Да |
|EduRostering.Read.All | Чтение состава организации. | Позволяет приложению считывать структуру учебных заведений и курсов в составе организации, а также педагогическую информацию обо всех пользователях. | Да |
|EduRostering.ReadWrite.All| Чтение и запись состава организации. | Позволяет приложению считывать и записывать структуру учебных заведений и курсов в составе организации, а также педагогическую информацию обо всех пользователях.  | Да |

### <a name="example-usage"></a>Примеры использования

#### <a name="delegated"></a>Делегированные разрешения

* _EduAssignments.Read_: получение сведений о заданиях вошедшего учащегося (`GET /education/classes/<id>/assignments/<id>`)
* _EduAssignments.ReadWriteBasic_: отправка задания вошедшего учащегося (`GET /education/classes/<id>/assignments/<id>submit`)
* _EduRoster.ReadBasic_: курсы, которые посещает или проводит вошедший пользователь (`GET /education/classes/<id>/members`)

[Более сложные сценарии с использованием нескольких разрешений](#permission-scenarios)

---

## <a name="files-permissions"></a>Разрешения для файлов

#### <a name="delegated-permissions"></a>Делегированные разрешения

|Разрешение |Отображаемая строка |Описание | Необходимость в согласии администратора |
|:--------- |:------------- |:---------- | :--------------------- |
| _Files.Read_ | Чтение файлов пользователей | Позволяет приложению считывать файлы вошедшего пользователя. | Нет |
| _Files.Read.All_ | Чтение всех файлов, доступных пользователю | Позволяет приложению считывать все файлы, доступные вошедшему пользователю. | Нет |
| _Files.ReadWrite_  | Полный доступ к файлам пользователя | Позволяет приложению считывать, создавать, обновлять и удалять файлы вошедшего пользователя. | Нет|
| _Files.ReadWrite.All_ | Полный доступ ко всем файлам, доступным пользователю | Позволяет приложению считывать, создавать, обновлять и удалять все файлы, доступные вошедшему пользователю. | Нет |
| _Files.ReadWrite.AppFolder_ | Полный доступ к папке приложения (предварительная версия) | Позволяет приложению считывать, создавать, обновлять и удалять файлы в папке приложения (предварительная версия). | Нет |
| _Files.Read.Selected_  | Чтение файлов, выбранных пользователем | **Ограниченная поддержка в Microsoft Graph (см. замечания)** <br/> Позволяет приложению считывать файлы, которые выбирает пользователь (предварительная версия). После того как пользователь выберет файл, приложение имеет доступ в течение нескольких часов.  | Нет |
| _Files.ReadWrite.Selected_ | Чтение и запись файлов, выбранных пользователем | **Ограниченная поддержка в Microsoft Graph (см. замечания)** <br/> Позволяет приложению считывать и записывать файлы, которые выбирает пользователь (предварительная версия). После того как пользователь выберет файл, приложение имеет доступ в течение нескольких часов. | Нет |

#### <a name="application-permissions"></a>Разрешения приложений

| Разрешение | Отображаемая строка | Описание | Необходимость в согласии администратора |
| :--------- | :------------- | :---------- | :--------------------- |
| _Files.Read.All_ | Чтение файлов во всех семействах веб-сайтов | Позволяет приложению считывать все файлы во всех семействах веб-сайтов без пользователя, выполнившего вход в систему.  | Да |
| _Files.ReadWrite.All_ | Чтение и запись файлов во всех семействах веб-сайтов | Позволяет приложению читать, создавать, изменять и удалять все файлы во всех семействах веб-сайтов без пользователя, выполнившего вход в систему. | Да |

### <a name="remarks"></a>Заметки

Делегированные разрешения Files.Read, Files.ReadWrite, Files.Read.All и Files.ReadWrite.All действуют как в личных учетных записях Майкрософт, так и в рабочих или учебных учетных записях. Обратите внимание: в личных учетных записях разрешения Files.Read и Files.ReadWrite также предоставляют доступ к файлам, которыми поделились с вошедшим пользователем другие люди. 

Делегированные разрешения Files.Read.Selected и Files.ReadWrite.Selected действительны только в рабочих и учебных учетных записях и доступны для работы только с [обработчиками файлов Office 365 (версия 1.0)](https://msdn.microsoft.com/office/office365/howto/using-cross-suite-apps). Они не должны использоваться для непосредственного вызова API Microsoft Graph. 

Делегированное разрешение Files.ReadWrite.AppFolder действует только в личных учетных записях и используется для доступа к [специальной папке App Root](https://dev.onedrive.com/misc/appfolder.htm) с помощью API Microsoft Graph для OneDrive ([получение специальной папки](../api-reference/v1.0/api/drive_get_specialfolder.md)).


### <a name="example-usage"></a>Примеры использования

#### <a name="delegated"></a>Делегированные разрешения

* _Files.Read_. Чтение файлов в OneDrive вошедшего пользователя (`GET /me/drive/root/children`).
* _Files.Read.All_. Чтение файлов, доступ к которым предоставлен вошедшему пользователю (`GET /me/drive/root/sharedWithMe`).
* _Files.ReadWrite_. Запись файла в OneDrive вошедшего пользователя (`PUT /me/drive/root/children/filename.txt/content`).
* _Files.ReadWrite.All_. Запись файла, доступ к которому предоставлен пользователю (`PUT /users/rgregg@contoso.com/drive/root/children/file.txt/content`).
* _Files.ReadWrite.AppFolder_. Запись файлов в папку приложения в OneDrive (`PUT /me/drive/special/approot/children/file.txt/content`).

Более сложные сценарии с использованием нескольких разрешений представлены в разделе [Сценарии с использованием разрешений](#permission-scenarios).

---

## <a name="group-permissions"></a>Разрешения групп

#### <a name="delegated-permissions"></a>Делегированные разрешения

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:-----------------------------|:-----------------------------------------|:-----------------|:-----------------|
| _Group.Read.All_ |    Чтение всех групп | Приложение сможет выводить список групп, а также просматривать их свойства и все данные о членстве в группах от имени вошедшего пользователя.  Оно также сможет просматривать календарь, беседы, файлы и другое содержимое всех групп, к которым у вошедшего пользователя есть доступ. | Да |
| _Group.ReadWrite.All_ |    Чтение и запись всех групп| Приложение сможет создавать группы, а также просматривать все их свойства и данные о членстве от имени вошедшего пользователя.  Кроме того, владельцы групп смогут управлять своими группами, а члены групп — обновлять содержимое групп. | Да |

#### <a name="application-permissions"></a>Разрешения приложений

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:-----------------------------|:-----------------------------------------|:-----------------|:-----------------|
| _Group.Read.All_ | Чтение всех групп | Позволяет приложению считывать сведения о членстве во всех группах без вошедшего пользователя. Обратите внимание, что не все элементы API групп поддерживают доступ к разрешениям только для приложений. Примеры см. в разделе [Известные проблемы](../concepts/known_issues.md). | Да |
| _Group.ReadWrite.All_ | Чтение и запись всех групп | Позволяет приложению создавать группы, читать и обновлять сведения о членстве в группах, а также удалять группы. Приложение может выполнять все эти операции без вошедшего пользователя. Обратите внимание, что не все элементы API групп поддерживают доступ к разрешениям только для приложений. Примеры см. в разделе [Известные проблемы](../concepts/known_issues.md).| Да |


### <a name="remarks"></a>Заметки

Функции для работы с группами не поддерживаются для личных учетных записей Майкрософт. 

Разрешения группы предоставляют приложению доступ к содержимому группы Office 365, например беседам, файлам и заметкам. 

Для разрешений приложения действуют некоторые ограничения на поддерживаемые API. Дополнительные сведения см. в статье, посвященной [известным проблемам](../concepts/known_issues.md).

В некоторых случаях, чтобы приложение могло считывать некоторые свойства группы, такие как `member` и `memberOf`, требуются [разрешения для каталогов](#directory-permissions). Например, если среди членов группы есть один или несколько объектов [servicePrincipal](../api-reference/beta/resources/serviceprincipal.md), то приложению потребуются действующие разрешения на чтение субъектов-служб, предоставленные с помощью разрешений _Directory.\*_. В противном случае Microsoft Graph возвращает ошибку. (В случае делегированных разрешений вошедшему пользователю также необходимы права на чтение субъектов-служб в организации.) Это относится и к свойству `memberOf`, которое может возвращать объекты [administrativeUnit](../api-reference/beta/resources/administrativeunit.md).

Разрешения группы также позволяют управлять доступом к API и ресурсам [Планировщика (Майкрософт)](../api-reference/beta/resources/planner_overview.md). Для API Планировщика (Майкрософт) поддерживаются только делегированные разрешения. Разрешения приложения не поддерживаются. Личные учетные записи Майкрософт не поддерживаются.


### <a name="example-usage"></a>Примеры использования
#### <a name="delegated"></a>Делегированные разрешения

* _Group.Read.All_. Чтение всех групп Office 365, в которых состоит вошедший пользователь (`GET /me/memberOf/$/microsoft.graph.group?$filter=groupTypes/any(a:a%20eq%20'unified')`).
* _Group.Read.All_. Чтение всего содержимого групп Office 365, например бесед (`GET /groups/{id}/conversations`).
* _Group.ReadWrite.All_. Обновление свойств группы, например фотографий (`PUT /groups/{id}/photo/$value`).
* _Group.ReadWrite.All_. Обновление членов группы (`POST /groups/{id}/members/$ref`). ПРИМЕЧАНИЕ. При этом также необходимо разрешение _User.ReadBasic.All_ для чтения пользователя, чтобы добавить его как члена.

#### <a name="application"></a>Для приложений

* _Group.Read.All_. Поиск всех групп, имена которых начинаются с "Sales" (`GET /groups?$filter=startswith(displayName,'Sales')`).
* _Group.ReadWrite.All_. Управляющая служба создает события в календаре группы Office 365 (`POST /groups/{id}/events`).

Более сложные сценарии с использованием нескольких разрешений представлены в разделе [Сценарии с использованием разрешений](#permission-scenarios).

---

## <a name="identity-risk-event-permissions"></a>Разрешения, связанные с событиями риска несанкционированного использования удостоверений

#### <a name="delegated-permissions"></a>Делегированные разрешения

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:-----------------------------|:-----------------------------------------|:-----------------|:-----------------|
| _IdentityRiskEvent.Read.All_ |   Чтение сведений о событиях риска несанкционированного использования удостоверений  | Позволяет приложению считывать сведения о событиях риска несанкционированного доступа к удостоверениям всех пользователей в организации от имени вошедшего пользователя. | Да |

#### <a name="application-permissions"></a>Разрешения приложений

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:-----------------------------|:-----------------------------------------|:-----------------|:-----------------|
| _IdentityRiskEvent.Read.All_ |   Чтение сведений о событиях риска несанкционированного использования удостоверений | Позволяет приложению считывать сведения о событиях риска несанкционированного доступа к удостоверениям всех пользователей в организации в случаях, когда вход пользователя не предусмотрен. | Да |


### <a name="remarks"></a>Заметки

Разрешение _IdentityRiskEvent.Read.All_ действительно только для рабочих и учебных учетных записей. Чтобы приложение с делегированными разрешениями могло считывать сведения о риске несанкционированного доступа к удостоверениям, вошедший пользователь должен быть членом одной из следующих ролей администратора: "Глобальный администратор", "Администратор безопасности" или "Читатель безопасности". Дополнительные сведения о ролях администратора см. в статье [Назначение ролей администратора в Azure Active Directory](https://docs.microsoft.com/azure/active-directory/active-directory-assign-admin-roles).

### <a name="example-usage"></a>Примеры использования

#### <a name="delegated-and-application"></a>Разрешения приложения и делегированные разрешения

Следующие сценарии поддерживаются как для разрешений приложения, так и для делегированных разрешений:

* считывание всех событий риска, созданных для всех пользователей в клиенте (`GET /beta/identityRiskEvents`);
* чтение созданных ботнетом Dorknet событий риска, связанных с вредоносными программами (`GET /beta/malwareRiskEvents?$filter=malwareName eq 'Dorkbot'`);
* считывание последних 50 событий риска (`GET /beta/identityRiskEvents?$orderBy=riskEventDateTime desc&top=50`).
 
Более сложные сценарии с использованием нескольких разрешений представлены в разделе [Сценарии с использованием разрешений](#permission-scenarios).

---

## <a name="identity-provider-permissions"></a>Разрешения поставщика удостоверений

#### <a name="delegated-permissions"></a>Делегированные разрешения

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:-----------------------------|:-----------------------------------------|:-----------------|:-----------------|
| _IdentityProvider.Read.All_ |   Чтение сведений о поставщиках удостоверений  | Позволяет приложению читать поставщиков удостоверений, настроенных в Azure AD или клиенте B2C Azure AD, от имени вошедшего пользователя. | Да |
| _IdentityProvider.ReadWrite.All_ |   Чтение и запись сведений о поставщиках удостоверений  |  Позволяет приложению читать или записывать поставщиков удостоверений, настроенных в Azure AD или клиенте B2C Azure AD, от имени вошедшего пользователя. | Да |

### <a name="remarks"></a>Заметки

_IdentityProvider.Read.All_ и _IdentityProvider.ReadWrite.All_ допустимы только для рабочих или учебных учетных записей. Чтобы приложение смогло читать или записывать поставщиков удостоверений при наличии делегированных разрешений, у вошедшего пользователя должна быть роль глобального администратора. Дополнительные сведения о ролях администратора см. в статье [Назначение ролей администратора в Azure Active Directory](https://docs.microsoft.com/azure/active-directory/active-directory-assign-admin-roles).

### <a name="example-usage"></a>Примеры использования

#### <a name="delegated"></a>Делегированные разрешения
Следующие сценарии поддерживаются для делегированных разрешений:

* _IdentityProvider.Read.All_. Чтение всех поставщиков удостоверений, настроенных в клиенте (`GET /beta/identityProviders`).
* _IdentityProvider.Read.All_. Чтение существующего поставщика удостоверений (`GET /beta/identityProviders/{id}`).
* _IdentityProvider.ReadWrite.All_. Создание поставщика удостоверений (`POST /beta/identityProviders`).
* _IdentityProvider.ReadWrite.All_. Обновление существующего поставщика удостоверений (`PATCH /beta/identityProviders/{id}`).
* _IdentityProvider.ReadWrite.All_. Удаление существующего поставщика удостоверений (`DELETE /beta/identityProviders/{id}`).

Более сложные сценарии с использованием нескольких разрешений представлены в разделе [Сценарии с использованием разрешений](#permission-scenarios).

---

## <a name="intune-device-management-permissions"></a>Разрешения для управления устройствами Intune

#### <a name="delegated-permissions"></a>Делегированные разрешения

|Разрешение    |Отображаемая строка   |Описание |Необходимость в согласии администратора |
|:-----------------------------|:-----------------------------------------|:-----------------|:-----------------|
|_DeviceManagementApps.Read.All_ | Считывание для приложений Microsoft Intune | Позволяет приложению считывать сведения о свойствах, назначении группам, состоянии приложений, конфигурации приложений и политиках защиты приложений, управление которыми выполняется с помощью Microsoft Intune. | Да |
|_DeviceManagementApps.ReadWrite.All_ | Считывание и запись для приложений Microsoft Intune | Позволяет приложению читать и записывать свойства, сведения о назначении группам и состояния приложений, конфигурации и политики защиты приложений под управлением Microsoft Intune. | Да |
|_DeviceManagementConfiguration.Read.All_ | Считывание сведений о конфигурации и политиках для устройств Microsoft Intune | Позволяет приложению считывать свойства конфигурации и политики соответствия требованиям для устройств, управление которыми выполняется с помощью Microsoft Intune, а также сведения об их назначении группам. | Да |
|_DeviceManagementConfiguration.ReadWrite.All_ | Считывание и запись сведений о конфигурации и политиках для устройств Microsoft Intune  | Позволяет приложению считывать и записывать свойства конфигурации и политики соответствия требованиям для устройств, управление которыми выполняется с помощью Microsoft Intune, а также сведения об их назначении группам. | Да |
|_DeviceManagementManagedDevices.PrivilegedOperations.All_ | Выполнение удаленных действий, влияющих на пользователей, на устройствах Microsoft Intune | Позволяет приложению выполнять удаленные критичные действия, например очистку устройства или сброс секретного кода на устройствах под управлением Microsoft Intune. | Да |
|_DeviceManagementManagedDevices.Read.All_ | Считывание данных устройств Microsoft Intune | Позволяет приложению считывать свойства устройств, управление которыми выполняется с помощью Microsoft Intune. | Да |
|_DeviceManagementManagedDevices.ReadWrite.All_ | Считывание и запись данных устройств Microsoft Intune | Позволяет приложению читать и записывать свойства устройств под управлением Microsoft Intune. Не позволяет выполнять критичные операции, например удаленную очистку и сброс пароля владельца устройства. | Да |
|_DeviceManagementRBAC.Read.All_ | Считывание параметров RBAC для Microsoft Intune | Позволяет приложению считывать свойства, связанные с параметрами управления доступом на основе ролей (RBAC) в Microsoft Intune. | Да |
|_DeviceManagementRBAC.ReadWrite.All_ | Считывание и запись параметров RBAC для Microsoft Intune | Позволяет приложению считывать и записывать свойства, связанные с параметрами управления доступом на основе ролей (RBAC) в Microsoft Intune. | Да |
|_DeviceManagementServiceConfig.Read.All_ | Считывание конфигурации Microsoft Intune | Позволяет приложению считывать свойства службы Intune, в том числе сведения о регистрации устройств и конфигурации подключения к сторонним службам. | Да |
|_DeviceManagementServiceConfig.ReadWrite.All_ | Считывание и запись конфигурации Microsoft Intune | Позволяет приложению считывать и записывать свойства службы Microsoft Intune, в том числе сведения о регистрации устройств и конфигурации подключения к сторонним службам. | Да |

#### <a name="application-permissions"></a>Разрешения приложений

Нет.

### <a name="remarks"></a>Заметки

> **Примечание.** Для настройки элементов управления и политик Intune с помощью API Microsoft Graph по-прежнему требуется, чтобы клиент [лицензировал](https://go.microsoft.com/fwlink/?linkid=839381) Intune надлежащим образом.

Эти разрешения действительны только для рабочих и учебных учетных записей.

### <a name="example-usage"></a>Примеры использования

#### <a name="delegated"></a>Делегированные

* _DeviceManagementServiceConfiguration.Read.All_. Проверка текущего состояния подписки на Intune (`GET /deviceManagement/subscriptionState`).
* _DeviceManagementServiceConfiguration.ReadWrite.All_. Создание условий (`POST /deviceManagement/termsAndConditions`).
* _DeviceManagementConfiguration.Read.All_. Поиск состояния конфигурации устройства (`GET /deviceManagement/deviceConfigurations/{id}/deviceStatuses`).
* _DeviceManagementConfiguration.ReadWrite.All_. Назначение политики соответствия требованиям к устройствам для группы (`POST deviceCompliancePolicies/{id}/assign`).
* _DeviceManagementApps.Read.All_. Поиск всех приложений Магазина Windows, опубликованных в Intune (`GET /deviceAppManagement/mobileApps?$filter=isOf('microsoft.graph.windowsStoreApp')`).
* _DeviceManagementApps.ReadWrite.All_. Публикация нового приложения (`POST /deviceAppManagement/mobileApps`).
* _DeviceManagementRBAC.Read.All_. Поиск назначения ролей по имени (`GET /deviceManagement/roleAssignments?$filter=displayName eq 'My Role Assignment'`).
* _DeviceManagementRBAC.ReadWrite.All_. Создание пользовательской роли (`POST /deviceManagement/roleDefinitions`).
* _DeviceManagementManagedDevices.Read.All_. Поиск управляемого устройства по имени (`GET /managedDevices/?$filter=deviceName eq 'My Device'`).
* _DeviceManagementManagedDevices.ReadWrite.All_. Удаление управляемого устройства (`DELETE /managedDevices/{id}`).
* _DeviceManagementManagedDevices.PrivilegedOperations.All_. Сброс секретного кода для управляемого устройства пользователя (`POST /managedDevices/{id}/resetPasscode`).

Более сложные сценарии с использованием нескольких разрешений представлены в разделе [Сценарии с использованием разрешений](#permission-scenarios).

---

## <a name="mail-permissions"></a>Разрешения почты

#### <a name="delegated-permissions"></a>Делегированные разрешения

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:-----------------------------|:-----------------------------------------|:-----------------|:-----------------|
| _Mail.Read_ |    Чтение почты пользователя | Позволяет приложению считывать электронную почту в почтовых ящиках пользователя. | Нет |
| _Mail.ReadWrite_ |    Доступ для чтения и записи к почте пользователя | Приложение сможет создавать, просматривать, обновлять и удалять сообщения в почтовых ящиках пользователей. Не включает разрешение на отправку почты.| Нет |
| _Mail.Read.Shared_ |    Чтение почты пользователя и общей почты | Позволяет приложению считывать почту, доступную пользователю, в том числе собственную почту пользователя и общую почту. | Нет |
| _Mail.ReadWrite.Shared_ |    Чтение и запись почты пользователя и общей почты | Позволяет приложению создавать, читать, обновлять и удалять почту, доступную пользователю, в том числе собственную почту пользователя и общую почту. Сюда не входит разрешение на отправку почты. | Нет |
| _Mail.Send_ |    Отправка почты от имени пользователя | Позволяет приложению отправлять почту от имени пользователей в организации. | Нет |
| _Mail.Send.Shared_ |    Отправка почты от имени других | Позволяет приложению отправлять почту от имени вошедшего пользователя, в том числе от имени других лиц. | Нет |
| _MailboxSettings.Read_ |  Чтение параметров почтового ящика пользователя | Позволяет приложению считывать параметры почтового ящика пользователя. Сюда не входит разрешение на отправку почты. | Нет |
| _MailboxSettings.ReadWrite_ |  Чтение и запись параметров почтового ящика пользователя | Позволяет приложению создавать, читать, обновлять и удалять параметры почтового ящика пользователя. Не включает разрешения на прямую отправку почты, но разрешает приложению создавать правила переадресации или перенаправления сообщений. | Нет |

#### <a name="application-permissions"></a>Разрешения приложений

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:-----------------------------|:-----------------------------------------|:-----------------|:-----------------|
| _Mail.Read_       |    Чтение почты во всех почтовых ящиках | Позволяет приложению считывать почту во всех почтовых ящиках в случаях, когда вход пользователя не предусмотрен.| Да |
| _Mail.ReadWrite_ |    Чтение и запись почты во всех почтовых ящиках | Приложение сможет создавать, просматривать, обновлять и удалять сообщения во всех почтовых ящиках без входа пользователя. Не включает разрешение на отправку почты. | Да |
| _Mail.Send_ |    Отправка почты от имени любого пользователя | Позволяет приложению отправлять почту от имени любого пользователя в случаях, когда вход пользователя не предусмотрен. | Да | 
| _MailboxSettings.Read_ |  Чтение всех параметров почтового ящика пользователя | Позволяет приложению считывать параметры почтового ящика пользователя в случаях, когда вход пользователя не предусмотрен. Сюда не входит разрешение на отправку почты. | Нет |
| _MailboxSettings.ReadWrite_ | Чтение и создание всех параметров почтового ящика пользователя  | Позволяет приложению создавать, просматривать, обновлять и удалять параметры почтового ящика пользователя без вошедшего пользователя. Сюда не входит разрешение на отправку почты. | ДА |

### <a name="remarks"></a>Заметки

Разрешения _Mail.Read.Shared_, _Mail.ReadWrite.Shared_ и _Mail.Send.Shared_ действительны только для рабочих и учебных учетных записей. Все остальные разрешения поддерживаются как для учетных записей Майкрософт, так и для рабочих или учебных учетных записей.

С помощью разрешения _Mail.Send_ или _Mail.Send.Shared_ приложение может отправлять сообщения, сохраняя их копии в папке "Отправленные", даже если у приложения нет соответствующего разрешения _Mail.ReadWrite_ или _Mail.ReadWrite.Shared_.

### <a name="example-usage"></a>Примеры использования

#### <a name="delegated"></a>Делегированные разрешения

* _Mail.Read_. Перечисление сообщений в папке "Входящие" пользователя, отсортированных по свойству `receivedDateTime` (`GET /me/mailfolders/inbox/messages?$orderby=receivedDateTime DESC`).
* _Mail.Read.Shared_: поиск всех сообщений с вложениями в папке "Входящие" пользователя, предоставившего вошедшему пользователю доступ к этой папке (`GET /users{id | userPrincipalName}/mailfolders/inbox/messages?$filter=hasAttachments eq true`).
* _Mail.ReadWrite_. Сообщение отмечается как прочитанное (`PATCH /me/messages/{id}`).
* _Mail.Send_. Отправка сообщения (`POST /me/sendmail`).
* _MailboxSettings.ReadWrite_. Обновление автоматического ответа пользователя (`PATCH /me/mailboxSettings`).

#### <a name="application"></a>Для приложений

* _Mail.Read_. Поиск сообщений, отправленных с адреса bob@contoso.com (`GET /users/{id | userPrincipalName}/messages?$filter=from/emailAddress/address eq 'bob@contoso.com'`).
* _Mail.ReadWrite_. Создание в папке "Входящие" вложенной папки под названием "`Expense Reports`" (`POST /users/{id | userPrincipalName}/mailfolders`).
* _Mail.Send_: отправка сообщения (`POST /users/{id | userPrincipalName}/sendmail`).
* _MailboxSettings.Read_: получение часового пояса по умолчанию для почтового ящика пользователя (`GET /users/{id | userPrincipalName}/mailboxSettings/timeZone`).


Более сложные сценарии с использованием нескольких разрешений представлены в разделе [Сценарии с использованием разрешений](#permission-scenarios).

---

## <a name="member-permissions"></a>Разрешения для членов

#### <a name="delegated-permissions"></a>Делегированные разрешения

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:----------------|:------------------|:-------------|:-----------------------|
| _Member.Read.Hidden_ | Чтение сведений о скрытом членстве | Позволяет приложению от имени вошедшего пользователя считывать сведения о членстве для тех скрытых групп и административных единиц, к которым у этого пользователя есть доступ. | Да |

#### <a name="application-permissions"></a>Разрешения приложений

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:----------------|:------------------|:-------------|:-----------------------|
| _Member.Read.Hidden_ | Чтение всех сведений о скрытом членстве | Позволяет приложению считывать сведения о членстве в скрытых группах и административных единицах в случаях, когда вход пользователя не предусмотрен. | Да |

### <a name="remarks"></a>Заметки
Разрешения _Member.Read.Hidden_ действительны только для рабочих или учебных учетных записей.

Членство в некоторых группах Office 365 может быть скрытым. Это означает, что только члены группы могут просматривать список ее членов. Эту функцию можно использовать для обеспечения соответствия требованиям, согласно которым в организации необходимо скрывать сведения о членстве в группах от внешних пользователей (например, для группы Office 365, представляющей учеников в классе).

### <a name="example-usage"></a>Примеры использования

#### <a name="delegated"></a>Делегированные разрешения

* _Member.Read.Hidden_. Чтение сведений о членах административной единицы со скрытым членством от имени вошедшего пользователя (`GET /administrativeUnits/{id}/members`).
* _Member.Read.Hidden_. Чтение сведений о членах группы со скрытым членством от имени вошедшего пользователя (`GET /groups/{id}/members`).

#### <a name="application"></a>Для приложений

* _Member.Read.Hidden_. Чтение сведений о членах административной единицы со скрытым членством (`GET /administrativeUnits/{id}/members`).
* _Member.Read.Hidden_. Чтение сведений о членах группы со скрытым членством (`GET /groups/{id}/members`).

Более сложные сценарии с использованием нескольких разрешений представлены в разделе [Сценарии с использованием разрешений](#permission-scenarios).


## <a name="notes-permissions"></a>Разрешения для заметок

#### <a name="delegated-permissions"></a>Делегированные разрешения

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:----------------|:------------------|:-------------|:-----------------------|
| _Notes.Read_ |    Чтение записных книжек OneNote пользователя | Позволяет приложению считывать записные книжки OneNote от имени вошедшего пользователя.| Нет |
| _Notes.Create_ |    Создание записных книжек OneNote пользователя | Позволяет приложению просматривать названия записных книжек и разделов OneNote, а также создавать страницы, записные книжки и разделы от имени вошедшего пользователя.| Нет |
| _Notes.ReadWrite_ |    Чтение и запись записных книжек OneNote пользователя | Позволяет приложению считывать и редактировать записные книжки OneNote, а также предоставлять к ним доступ от имени вошедшего пользователя. | Нет |
| _Notes.Read.All_ |    Чтение всех записных книжек OneNote, доступных пользователю | Позволяет приложению считывать записные книжки OneNote, доступные вошедшему пользователю в организации. | Нет |
| _Notes.ReadWrite.All_ |    Чтение и запись всех записных книжек OneNote, доступных пользователю | Позволяет приложению считывать и редактировать записные книжки OneNote, доступные вошедшему пользователю в организации, а также предоставлять к ним доступ.| Нет |
| _Notes.ReadWrite.CreatedByApp_ |    Ограниченный доступ к записным книжкам (нерекомендуемое) | **Нерекомендуемое** <br/>Не следует использовать. Это разрешение не предоставляет никаких привилегий. | Нет |

#### <a name="application-permissions"></a>Разрешения приложений

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:----------------|:------------------|:-------------|:-----------------------|
| _Notes.Read.All_ |    Чтение всех записных книжек OneNote | Позволяет приложению считывать все записные книжки OneNote в организации в случаях, когда вход пользователя не предусмотрен. | Да |
| _Notes.ReadWrite.All_ |    Чтение и запись всех записных книжек OneNote | Позволяет приложению считывать и редактировать все записные книжки OneNote в организации, а также предоставлять к ним доступ в случаях, когда вход пользователя не предусмотрен.| Да |


### <a name="remarks"></a>Заметки
Разрешения _Notes.Read.All_ и _Notes.ReadWrite.All_ действительны только для рабочих и учебных учетных записей. Все остальные разрешения поддерживаются как для учетных записей Майкрософт, так и для рабочих или учебных учетных записей.

С помощью разрешения _Notes.Create_ приложение может просматривать иерархию записных книжек OneNote вошедшего пользователя и создавать содержимое OneNote (записные книжки, группы разделов, разделы, страницы и т. д.).

Разрешения _Notes.ReadWrite_ и _Notes.ReadWrite.All_ также позволяют приложению менять разрешения для содержимого OneNote, доступного вошедшему пользователю. 

В случае рабочих и учебных учетных записей разрешения _Notes.Read.All_ и _Notes.ReadWrite.All_ позволяют приложению получать доступ к содержимому OneNote других пользователей, которое доступно вошедшему пользователю в организации.

### <a name="example-usage"></a>Примеры использования
#### <a name="delegated"></a>Делегированные разрешения

* _Notes.Create_. Создание записных книжек для вошедшего пользователя (`POST /me/onenote/notebooks`).
* _Notes.Read_. Чтение записных книжек вошедшего пользователя (`GET /me/onenote/notebooks`).
* _Notes.Read.All_. Получение всех записных книжек, доступных вошедшему пользователю в организации (`GET /me/onenote/notebooks?includesharednotebooks=true`).
* _Notes.ReadWrite_. Обновление страницы вошедшего пользователя (`PATCH /me/onenote/pages/{id}/$value`).
* _Notes.ReadWrite.All_. Создание страницы в записной книжке другого пользователя, доступной вошедшему пользователю в организации (`POST /users/{id}/onenote/pages`).

#### <a name="application"></a>Для приложений

* _Notes.Read.All_. Чтение всех записных книжек пользователей в группе (`GET /groups/{id}/onenote/notebooks`).
* _Notes.ReadWrite.All_. Обновление страницы в записной книжке любого пользователя в организации (`PATCH /users/{id}/onenote/pages/{id}/$value`).

Более сложные сценарии с использованием нескольких разрешений представлены в разделе [Сценарии с использованием разрешений](#permission-scenarios).


## <a name="openid-permissions"></a>Разрешения OpenID

#### <a name="delegated-permissions"></a>Делегированные разрешения

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:----------------|:------------------|:-------------|:-----------------------|
| _email_ |    Просмотр электронных адресов пользователей | Позволяет приложению считывать основные электронные адреса пользователей. | Нет |
| _offline_access_ |    Доступ к данным пользователя в любое время | Позволяет приложению считывать и обновлять данные пользователя, даже если он в настоящее время не использует приложение.| Нет |
| _openid_ |    Вход пользователей | Пользователи смогут входить в приложение с помощью своей рабочей или учебной учетной записи, а приложение сможет просматривать основные данные профилей пользователей.| Нет |
| _profile_ |    Просмотр базовых профилей пользователей | Позволяет приложению просматривать базовые профили пользователей (имя, аватар, имя пользователя).| Нет |

#### <a name="application-permissions"></a>Разрешения приложений

Нет.

### <a name="remarks"></a>Заметки
Эти разрешения можно использовать для указания артефактов, которые должны возвращаться в запросах авторизации и токенов Azure AD. Они поддерживаются конечными точками Azure AD 1.0 и 2.0 по-разному.

С конечной точкой Azure AD 1.0 используется только разрешение _openid_. Вы можете указать его в параметре *scope* в запросе авторизации, чтобы вернуть токен идентификатора при использовании протокола OpenID Connect. Дополнительные сведения см. в статье [Предоставление доступа к веб-приложениям с помощью OpenID Connect и Azure Active Directory](https://docs.microsoft.com/azure/active-directory/develop/active-directory-protocols-openid-connect-code). Чтобы получить токен идентификатора, для приложения должно быть настроено разрешение _User.Read_. 

При использовании конечной точки Azure AD 2.0 и протоколов OAuth 2.0 или OpenID Connect указывается разрешение _offline\_access_ в параметре _scope_ для явного запроса токена обновления. При использовании OpenID Connect указывается разрешение _openid_ для запроса токена идентификации. Вы также можете указать разрешение _email_, _profile_ или оба для возврата дополнительных утверждений в токене идентификации. При использовании конечной точки 2.0 не нужно указывать разрешение _User.Read_ для возврата токена идентификации. Дополнительные сведения см. в разделе [Области OpenID Connect](https://docs.microsoft.com/azure/active-directory/develop/active-directory-v2-scopes#openid-connect-scopes).

> **Важно!** В настоящее время библиотека Microsoft Authentication Library (MSAL) по умолчанию указывает разрешения _offline\_access_, _openid_, _profile_ и _email_ в запросах авторизации и токенов. Это означает, что если вы укажете эти разрешения явно, Azure AD может вернуть ошибку. 

---

## <a name="people-permissions"></a>Разрешения для пользователей

#### <a name="delegated-permissions"></a>Делегированные разрешения

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:-----------------------------|:-----------------------------------------|:-----------------|:-----------------|
| _People.Read_ |    Чтение списков контактов, релевантных для пользователя | Приложение сможет читать оцененный список контактов, релевантных для вошедшего пользователя. Список может включать локальные контакты, контакты из социальных сетей или каталога вашей организации, а также пользователей, с которыми он недавно общался (например, с помощью электронной почты и Skype). | Нет |
| _People.Read.All_ | Чтение списков контактов, релевантных для всех пользователей | Приложение сможет читать оцененный список контактов, релевантных для вошедшего пользователя или других пользователей в его организации. Список может включать локальные контакты, контакты из социальных сетей или каталога вашей организации, а также пользователей, с которыми он недавно общался (например, с помощью электронной почты и Skype). Приложение также сможет выполнять поиск по всему каталогу организации вошедшего пользователя. | Да |

#### <a name="application-permissions"></a>Разрешения приложений

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:-----------------------------|:-----------------------------------------|:-----------------|:-----------------|
| _People.Read.All_ | Чтение списков контактов, релевантных для всех пользователей | Приложение сможет читать оцененный список контактов, релевантных для вошедшего пользователя или других пользователей в его организации. <br/><br/>Список может включать локальные контакты, контакты из социальных сетей или каталога вашей организации, а также пользователей, с которыми он недавно общался (например, с помощью электронной почты и Skype). Приложение также сможет выполнять поиск по всему каталогу организации вошедшего пользователя. | Да |

### <a name="remarks"></a>Заметки

Разрешение People.Read.All действительно только для рабочих и учебных учетных записей. 

### <a name="example-usage"></a>Примеры использования

#### <a name="delegated"></a>Делегированные разрешения
* _People.Read_. Чтение списка релевантных пользователей (`GET /me/people`).
* _People.Read.All_. Чтение списка пользователей, релевантных для другого пользователя в той же организации (`GET /users('{id})/people`).

Более сложные сценарии с использованием нескольких разрешений представлены в разделе [Сценарии с использованием разрешений](#permission-scenarios).

---

## <a name="reports-permissions"></a>Разрешения для отчетов

#### <a name="delegated-permissions"></a>Делегированные разрешения

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:----------------|:------------------|:-------------|:-----------------------|
| _Reports.Read.All_ | Чтение всех отчетов об использовании | Позволяет приложению читать все отчеты об использовании без вошедшего пользователя. К службам, предоставляющим отчеты об использовании, относятся Office 365 и Azure Active Directory. | Да |

#### <a name="application-permissions"></a>Разрешения приложений

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:----------------|:------------------|:-------------|:-----------------------|
| _Reports.Read.All_ | Чтение всех отчетов об использовании | Позволяет приложению читать все отчеты об использовании без вошедшего пользователя. К службам, предоставляющим отчеты об использовании, относятся Office 365 и Azure Active Directory. | Да |

### <a name="remarks"></a>Замечания
Разрешения отчетов поддерживаются только для рабочих и учебных учетных записей. 

### <a name="example-usage"></a>Примеры использования

#### <a name="application"></a>Для приложений

* _Reports.Read.All_. Чтение подробного отчета об использовании почтовых приложений за 7-дневный период (`GET /reports/EmailAppUsage(view='Detail',period='D7')/content`).
* _Reports.Read.All_. Чтение подробного отчета о действиях с электронной почтой за 01.01.2017 (`GET /reports/EmailActivity(view='Detail',data='2017-01-01')/content`).
* _Reports.Read.All_. Чтение подробных отчетов об активации Office 365 (`GET /reports/Office365Activations(view='Detail')/content`).

Более сложные сценарии с использованием нескольких разрешений представлены в разделе [Сценарии с использованием разрешений](#permission-scenarios).

---

## <a name="security-permissions"></a>Разрешения системы безопасности

#### <a name="delegated-permissions"></a>Делегированные разрешения

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:----------------|:------------------|:-------------|:-----------------------|
| _SecurityEvents.Read.All_        |  Чтение событий безопасности в организации | Позволяет приложению читать события безопасности от имени вошедшего пользователя. | Да  |
| _SecurityEvents.ReadWrite.All_   | Чтение и обновление событий безопасности в организации | Позволяет приложению читать события безопасности от имени вошедшего пользователя. Кроме того, приложение может обновлять доступные для редактирования свойства событий безопасности от имени вошедшего пользователя. | Да  |

#### <a name="application-permissions"></a>Разрешения приложений

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:----------------|:------------------|:-------------|:-----------------------|
| _SecurityEvents.Read.All_        |  Чтение событий безопасности в организации | Позволяет приложению читать события безопасности в организации. | Да  |
| _SecurityEvents.ReadWrite.All_   | Чтение и обновление событий безопасности в организации | Позволяет приложению читать события безопасности в организации. Кроме того, приложение может обновлять события безопасности, доступные для редактирования. | Да  |

### <a name="remarks"></a>Замечания

Разрешения безопасности действительны только для рабочих и учебных учетных записей.

### <a name="example-usage"></a>Примеры использования

#### <a name="delegated-and-application"></a>Разрешения приложения и делегированные разрешения

- _SecurityEvents.Read.All_: чтение списка всех оповещений безопасности от любых лицензированных поставщиков безопасности, доступных в клиенте (`GET /beta/security/alerts`)
- _SecurityEvents.ReadWrite.All_: обновление или чтение оповещений безопасности от любых лицензированных поставщиков безопасности, доступных в клиенте (`PATCH /beta/security/alerts/{id}`)

---

## <a name="sites-permissions"></a>Разрешения для сайтов

#### <a name="delegated-permissions"></a>Делегированные разрешения

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:----------------|:------------------|:-------------|:-----------------------|
| _Sites.Read.All_        | Чтение элементов во всех семействах веб-сайтов | Позволяет приложению считывать документы и элементы списков во всех семействах веб-сайтов от имени пользователя, выполнившего вход в систему. | Нет  |
| _Sites.ReadWrite.All_   | Чтение и запись элементов во всех семействах веб-сайтов | Позволяет приложению редактировать или удалять документы и элементы списков во всех семействах веб-сайтов от имени пользователя, выполнившего вход в систему. | Нет  |
| _Sites.Manage.All_      | Создание, редактирование и удаление элементов и списков во всех семействах веб-сайтов | Позволяет приложению создавать списки, документы и элементы списков, а также управлять ими во всех семействах веб-сайтов от имени пользователя, выполнившего вход в систему. | Нет |
| _Sites.FullControl.All_ | Полный контроль над всеми семействами веб-сайтов | Разрешает приложению полный контроль над сайтами SharePoint во всех семействах веб-сайтов от имени пользователя, выполнившего вход в систему.  | Да  |

#### <a name="application-permissions"></a>Разрешения приложений

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:----------------|:------------------|:-------------|:-----------------------|
| _Sites.Read.All_        | Чтение элементов во всех семействах веб-сайтов | Позволяет приложению считывать документы и элементы списка во всех семействах веб-сайтов без пользователя, выполнившего вход в систему. | Да |
| _Sites.ReadWrite.All_   | Чтение и запись элементов во всех семействах веб-сайтов | Позволяет приложению создавать, считывать, изменять и удалять документы и элементы списков во всех семействах веб-сайтов без пользователя, выполнившего вход в систему. | Да |
| _Sites.Manage.All_      | Полный контроль над всеми семействами веб-сайтов | Разрешает приложению создавать списки, документы и элементы списков, а также управлять ими во всех семействах веб-сайтов без пользователя, выполнившего вход в систему.  | Да  |
| _Sites.FullControl.All_ | Создание, редактирование и удаление элементов и списков во всех семействах веб-сайтов | Разрешает приложению полный контроль над сайтами SharePoint во всех семействах веб-сайтов без пользователя, выполнившего вход в систему.  | Да  |


### <a name="remarks"></a>Заметки

Разрешения сайтов действительны только для рабочих и учебных учетных записей.

### <a name="example-usage"></a>Примеры использования

#### <a name="delegated"></a>Делегированные разрешения

* _Sites.Read.All_. Чтение списков на корневом сайте SharePoint (`GET /v1.0/sites/root/lists`).
* _Sites.ReadWrite.All_. Создание элементов списка SharePoint (`POST /v1.0/sites/root/lists/123/items`).
* _Sites.Manage.All_. Добавление нового списка на сайт SharePoint (`POST /v1.0/sites/root/lists`).
* _Sites.FullControl.All_. Полный доступ к сайтам и спискам SharePoint.

---

## <a name="tasks-permissions"></a>Разрешения для задач

#### <a name="delegated-permissions"></a>Делегированные разрешения

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:----------------|:------------------|:-------------|:-----------------------|
| _Tasks.Read_ | Чтение задач пользователя | Позволяет приложению считывать задачи пользователя. | Нет |
| _Tasks.Read.Shared_ | Чтение задач пользователя и общих задач | Позволяет приложению считывать задачи, доступные пользователю, в том числе собственные задачи пользователя и общие задачи. | Нет |
| _Tasks.ReadWrite_ |    Создание, чтение, обновление и удаление задач и контейнеров пользователя | Приложение сможет создавать, просматривать, обновлять и удалять задачи и контейнеры (а также задачи в них), назначенные или предоставленные вошедшему пользователю.| Нет |
| _Tasks.ReadWrite.Shared_ | Чтение и запись задач пользователя и общих задач | Позволяет приложению создавать, считывать, обновлять и удалять задачи, доступные пользователю, в том числе его собственные и общие задачи. | Нет |

#### <a name="application-permissions"></a>Разрешения приложений

Нет.

### <a name="remarks"></a>Заметки
Разрешения _Tasks_ используются для управления доступом к задачам Outlook. Доступом к задачам Планировщика (Майкрософт) управляют [разрешения _Group_](#group-permissions).

В настоящее время разрешения _Shared_ поддерживаются только для рабочих и учебных учетных записей. Даже с разрешениями _Shared_ операции чтения и записи могут завершаться сбоем, если владелец общего содержимого не предоставил пользователю разрешения на изменение содержимого в папке.

### <a name="example-usage"></a>Примеры использования
#### <a name="delegated"></a>Делегированные разрешения

* _Tasks.Read_. Получение всех задач в почтовом ящике пользователя (`GET /me/outlook/tasks`).
* _Tasks.Read.Shared_. Доступ к задачам в папке, доступ к которой вам предоставил другой пользователь в организации (`Get /users{id|userPrincipalName}/outlook/taskfolders/{id}/tasks`).
* _Tasks.ReadWrite_. Добавление события в папку задач по умолчанию, принадлежащую пользователю (`POST /me/outook/tasks`).
* _Tasks.Read_. Получение всех незавершенных задач в почтовом ящике пользователя (`GET /users/{id | userPrincipalName}/outlook/tasks?$filter=status ne 'completed'`).
* _Tasks.ReadWrite_. Обновление задачи в почтовом ящике пользователя (`PATCH /users/{id | userPrincipalName}/outlook/tasks/id`).
* _Tasks.ReadWrite.Shared_. Выполнение задачи от имени другого пользователя (`POST /users/{id | userPrincipalName}/outlook/tasks/id/complete`).

Более сложные сценарии с использованием нескольких разрешений представлены в разделе [Сценарии с использованием разрешений](#permission-scenarios).

---

## <a name="terms-of-use-permissions"></a>Разрешения, связанные с условиями использования 

#### <a name="delegated-permissions"></a>Делегированные разрешения

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:-----------------------------|:-----------------------------------------|:-----------------|:-----------------|
| _Agreement.Read.All_ | Чтение всех соглашений с условиями использования | Позволяет приложению считывать соглашения с условиями использования от имени выполнившего вход пользователя. | Да |
| _Agreement.ReadWrite.All_ | Чтение и запись всех соглашений с условиями использования | Позволяет приложению считывать и записывать соглашения с условиями использования от имени выполнившего вход пользователя. | Да |
| _AgreementAcceptance.Read_ | Чтение данных о состояниях принятия пользователем условий использования | Позволяет приложению считывать данные о состояниях принятия условий использования от имени выполнившего вход пользователя. | Да |
| _AgreementAcceptance.Read.All_ | Чтение данных о состояниях принятия условий использования, доступных пользователю | Позволяет приложению считывать данные о состояниях принятия условий использования от имени выполнившего вход пользователя. | Да |

### <a name="remarks"></a>Заметки

Все эти разрешения действительны только для рабочих и учебных учетных записей.

Чтобы с помощью приложения считывать или записывать все соглашения или данные об их принятии с использованием делегированных разрешений, выполнившему вход пользователю нужно назначить роль глобального администратора, администратора условного доступа или администратора безопасности. Дополнительные сведения о ролях администратора см. в статье [Назначение ролей администратора в Azure Active Directory](https://docs.microsoft.com/azure/active-directory/active-directory-assign-admin-roles).

### <a name="example-usage"></a>Примеры использования

#### <a name="delegated"></a>Делегированные разрешения
Следующие сценарии поддерживаются для делегированных разрешений:

* _Agreement.Read.All_: "Чтение всех соглашений с условиями использования" (`GET /beta/agreements`);
* _Agreement.ReadWrite.All_: "Чтение и запись всех соглашений с условиями использования" (`POST /beta/agreements`);
* _AgreementAcceptance.Read_: "Чтение данных о состояниях принятия пользователем условий использования" (`GET /beta/me/agreementAcceptances`).

Более сложные сценарии с использованием нескольких разрешений представлены в разделе [Сценарии с использованием разрешений](#permission-scenarios).

---

## <a name="user-permissions"></a>Разрешения пользователей

#### <a name="delegated-permissions"></a>Делегированные разрешения

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:----------------|:------------------|:-------------|:-----------------------|
| _User.Read_       |    Вход и чтение профиля пользователя | Позволяет пользователям входить в приложение, а приложению — просматривать профили вошедших пользователей. Кроме того, позволяет приложению считывать основные сведения о компании вошедших пользователей.| Нет |
| _User.ReadWrite_ |    Доступ для чтения и записи к профилю пользователя | Позволяет приложению считывать весь профиль вошедшего пользователя. Также позволяет приложению обновлять информацию профиля вошедшего пользователя от его имени. | Нет |
| _User.ReadBasic.All_ |    Чтение базовых профилей всех пользователей | Позволяет приложению просматривать базовый набор свойств профилей других пользователей организации от имени вошедшего пользователя. К этим свойствам относятся отображаемое имя, имя и фамилия, адрес электронной почты, открытые расширения, а также фотография. Также позволяет приложению считывать весь профиль вошедшего пользователя. | Нет |
| _User.Read.All_  |     Чтение полных профилей всех пользователей           | Позволяет приложению считывать полный набор свойств профилей и сведения о подчиненных и руководителях других пользователей в вашей организации от имени вошедшего пользователя. | Да |
| _User.ReadWrite.All_ |     Чтение и запись полных профилей всех пользователей | Позволяет приложению считывать и записывать полный набор свойств профилей и сведения о подчиненных и руководителях других пользователей в вашей организации от имени вошедшего пользователя. Кроме того, приложение сможет создавать и удалять пользователей, а также сбрасывать их пароли от имени вошедшего пользователя. | Да |
| _User.Invite.All_  |     Приглашение гостевых пользователей в организацию | Позволяет приложению приглашать гостевых пользователей в организацию от имени вошедшего пользователя. | Да |
| _User.Export.All_       |    Экспорт данных пользователей | Позволяет приложению экспортировать данные пользователя организации, если экспорт выполняется администратором компании.| Да |


#### <a name="application-permissions"></a>Разрешения приложений

|   Разрешение    |  Отображаемая строка   |  Описание | Необходимость в согласии администратора |
|:----------------|:------------------|:-------------|:-----------------------|
| _User.Read.All_ |    Чтение полных профилей всех пользователей | Приложение сможет просматривать полный набор свойств профиля, данные о членстве в группах, сведения о подчиненных и руководителях других пользователей в организации без входа пользователя.| Да |
| _User.ReadWrite.All_ |   Чтение и запись полных профилей всех пользователей | Позволяет приложению в случаях, когда вход пользователя не предусмотрен, просматривать и записывать полный набор свойств профиля, данные о членстве в группах, сведения о подчиненных и руководителях других пользователей в организации.  Кроме того, приложение сможет создавать и удалять пользователей, не являющихся администраторами. Не позволяет сбрасывать пароли пользователей. | Да |
| _User.Invite.All_  |     Приглашение гостевых пользователей в организацию | Позволяет приложению приглашать гостевых пользователей в организацию в случаях, когда вход пользователя не предусмотрен. | Да |
| _User.Export.All_       |    Экспорт данных пользователей | Позволяет приложению экспортировать данные пользователей организации без вошедшего пользователя.| Да |

### <a name="remarks"></a>Заметки

Для учетных записей Майкрософт действительны только разрешения _User.Read_ и _User.ReadWrite_. Для рабочих и учебных учетных записей действительны все разрешения.

С помощью разрешения _User.Read_ приложение также может считывать основные сведения о компании вошедшего пользователя для рабочей или учебной учетной записи через ресурс [organization](../api-reference/v1.0/resources/organization.md). Доступны следующие свойства: id, displayName и verifiedDomains.

Для рабочих и учебных учетных записей полный профиль включает все объявленные свойства ресурса [User](../api-reference/v1.0/resources/user.md). При чтении по умолчанию возвращается только ограниченное количество свойств. Чтобы считывать свойства, не входящие в набор по умолчанию, используйте параметр `$select`. Свойства по умолчанию:

- displayName;
- givenName;
- jobTitle;
- mail;
- mobilePhone;
- officeLocation;
- preferredLanguage;
- surname;
- userPrincipalName.

 Делегированные разрешения _User.ReadWrite_ и _User.Readwrite.All_ позволяют приложению обновлять следующие свойства профиля для рабочих или учебных учетных записей:

- aboutMe;
- birthday;
- hireDate;
- interests;
- mobilePhone;
- mySite;
- pastProjects;
- photo;
- preferredName;
- responsibilities;
- schools;
- skills.

Разрешение _User.ReadWrite.All_ приложения позволяет приложению обновлять все объявленные свойства рабочих или учебных учетных записей, кроме пароля.

Для считывания и записи сведений о подчиненных (`directReports`) или руководителе (`manager`) для рабочей или учебной учетной записи приложению необходимо свойство _User.Read.All_ (только для чтения) или _User.ReadWrite.All_.

Разрешение _User.ReadBasic.All_ предоставляет приложению доступ только к ограниченному набору свойств, называемому базовым профилем. Это вызвано тем, что полный профиль может содержать конфиденциальные сведения о каталоге. Базовый профиль включает только следующие свойства: 

- displayName
- givenName;
- mail;
- photo;
- surname
- userPrincipalName

Чтобы приложение могло считывать сведения о членстве пользователя в группах (`memberOf`), приложению необходимо разрешение [_Group.Read.All_](#group-permissions) или [_Group.ReadWrite.All_](#group-permissions). Но если пользователь является членом [directoryRole](../api-reference/v1.0/resources/directoryrole.md) или [administrativeUnit](../api-reference/beta/resources/administrativeunit.md), приложению также потребуются действующие разрешения на считывание этих ресурсов. В противном случае Microsoft Graph возвращает ошибку. Это означает, что приложению также потребуются [разрешения Directory](#directory-permissions), а в случае делегированных разрешений вошедшему пользователю потребуются достаточные привилегии в организации для доступа к ролям каталога и административным единицам. 

### <a name="example-usage"></a>Примеры использования

#### <a name="delegated"></a>Делегированные разрешения

* _User.Read_. Чтение полного профиля вошедшего пользователя (`GET /me`).
* _User.ReadWrite_. Обновление фотографии вошедшего пользователя (`PUT /me/photo/$value`).
* _User.ReadBasic.All_. Поиск всех пользователей с именем David (`GET /users?$filter=startswith(displayName,'David')`).
* _User.Read.All_. Чтение сведений о руководителе пользователя (`GET /user/{id | userPrincipalName}/manager`).


#### <a name="application"></a>Для приложений

* _User.Read.All_. Чтение всех пользователей и связей с помощью разностного запроса (`GET /beta/users/delta?$select=displayName,givenName,surname`).
* _User.ReadWrite.All_. Обновление фотографии любого пользователя в организации (`PUT /user/{id | userPrincipalName}/photo/$value`).

Более сложные сценарии с использованием нескольких разрешений представлены в разделе [Сценарии с использованием разрешений](#permission-scenarios).

---

## <a name="permission-scenarios"></a>Сценарии с использованием разрешений

В этом разделе показаны некоторые распространенные сценарии, связанные с ресурсами [user](../api-reference/v1.0/resources/user.md) и [group](../api-reference/v1.0/resources/group.md) в организации. В таблицах показаны разрешения, необходимые приложению для выполнения определенных операций, требуемых сценарием. Обратите внимание, что в некоторых случаях способность приложения выполнять определенные операции зависит от того, какое разрешение предоставлено — разрешение приложения или делегированное разрешение. В случае делегированных разрешений действующие разрешения приложения также зависят от привилегий вошедшего пользователя в организации. Дополнительные сведения см. в разделе [Разрешения приложения, делегированные разрешения и действующие разрешения](#delegated-permissions-application-permissions-and-effective-permissions).

### <a name="access-scenarios-on-the-user-resource"></a>Сценарии доступа к ресурсу User

| **Задачи приложения, связанные с пользователем**   |  **Необходимые разрешения** | **Строка разрешения** |
|:-------------------------------|:---------------------|:---------------|
| Приложение запрашивает разрешение просматривать основные сведения других пользователей (только отображаемое имя и изображение), например для отображения при выборе людей.   | _User.ReadBasic.All_  |  Чтение базовых профилей всех пользователей |
| Приложение запрашивает разрешение просматривать полный профиль вошедшего пользователя (подчиненные, руководитель и т. д.).     | _User.Read_ | Вход в систему и чтение профиля пользователя|
| Приложение запрашивает разрешение просматривать полные профили всех пользователей.  | _User.Read.All_ |  Чтение полных профилей всех пользователей   |
| Приложение запрашивает разрешение просматривать файлы, почту и данные календаря вошедшего пользователя.  | _User.Read_, _Files.Read_, _Mail.Read_, _Calendars.Read_ | Вход в систему и чтение профиля пользователя, чтение файлов пользователей, чтение почты пользователей, чтение пользовательских календарей |
| Приложение запрашивает разрешение просматривать файлы вошедшего пользователя и файлы, доступ к которым ему предоставили другие пользователи. | _User.Read_, _Files.Read_, _Sites.Read.All_ | Вход в систему и чтение профиля пользователя, чтение файлов пользователей, чтение элементов во всех семействах веб-сайтов |
| Приложение запрашивает разрешение просматривать и записывать полный профиль вошедшего пользователя.   | _User.ReadWrite_ | Доступ для чтения и записи к профилю пользователя |
| Приложение запрашивает разрешение просматривать и записывать полные профили всех пользователей.    | _User.ReadWrite.All_ | Чтение и запись полных профилей всех пользователей |
| Приложение запрашивает разрешение просматривать и записывать файлы, почту и данные календаря вошедшего пользователя.    | _User.ReadWrite_, _Files.ReadWrite_, _Mail.ReadWrite_, _Calendars.ReadWrite_  |  Доступ для чтения и записи к профилю пользователя, доступ для чтения и записи к почте пользователя, полный доступ к пользовательским календарям |
| Приложение хочет отправить запрос на экспорт персональных данных пользователя (операция, связанная с политикой данных). | _User.Export.All_ | Экспорт персональных данных пользователя. |
   

### <a name="access-scenarios-on-the-group-resource"></a>Сценарии доступа к ресурсу Group
    
| **Задачи приложения, связанные с группой**  |  **Необходимые разрешения** |  **Строка разрешения** |
|:-------------------------------|:---------------------|:---------------|
| Приложение запрашивает разрешение просматривать основные сведения о группе (только отображаемое имя и изображение), например для отображения при выборе групп.  | _Group.Read.All_  | Чтение всех групп|
| Приложение запрашивает разрешение просматривать все содержимое во всех группах Office 365, в том числе файлы и беседы.  Ему также требуется показывать членов группы и обновлять эти данные (если пользователь — владелец).  |  _Group.Read.All_ | Чтение элементов во всех семействах веб-сайтов, чтение всех групп|
| Приложение запрашивает разрешение просматривать и записывать все содержимое во всех группах Office 365, в том числе файлы и беседы.  Ему также требуется показывать членов группы и обновлять эти данные (если пользователь — владелец).  |   _Group.ReadWrite.All_, _Sites.ReadWrite.All_ |  Чтение и запись всех групп, редактирование и удаление элементов во всех семействах веб-сайтов |
| Приложение запрашивает разрешение на поиск группы Office 365. Пользователь сможет найти определенную группу, выбрать ее из нумерованного списка, чтобы затем присоединиться к ней.     | _Group.ReadWrite.All_ | Чтение и запись всех групп|
| Приложение запрашивает разрешение на создание группы с помощью AAD Graph. |   _Group.ReadWrite.All_ | Чтение и запись всех групп|

## <a name="user-activity-permissions"></a>Разрешения, касающиеся действий пользователя

#### <a name="delegated-permissions"></a>Делегированные разрешения

|Разрешение    |Отображаемая строка   |Описание |Требуется ли согласие администратора |
|:-----------------------------|:-----------------------------------------|:-----------------|:-----------------|
| _UserActivity.ReadWrite.CreatedByApp_ |Чтение и запись действий приложений в вашем веб-канале активности |Позволяет приложению считывать и передавать сведения о действиях вошедшего пользователя в приложении. |Нет |

#### <a name="delegated-permissions"></a>Делегированные разрешения
Нет.

### <a name="remarks"></a>Замечания
*UserActivity.ReadWrite.CreatedByApp* поддерживается как для учетных записей Майкрософт, так и для рабочих или учебных рабочих записей. 
 
Ограничение *CreatedByApp*, связанное с этим разрешением, означает, что служба будет применять неявную фильтрацию результатов на основе удостоверения вызывающего приложения: либо идентификатора приложения MSA, либо набора идентификаторов, настроенных для идентификации кроссплатформенных приложений. 

### <a name="example-usage"></a>Примеры использования

#### <a name="delegated"></a>Делегированные разрешения
* _UserActivity.ReadWrite.CreatedByApp_: получение списка недавних действий уникального пользователя на основе связанных записей журнала, опубликованных за последний день. (GET /me/activities/recent).
* _UserActivity.ReadWrite.CreatedByApp_: публикация или обновление действия, которое пользователь приложения может возобновить. (PUT /me/activities/%2Farticle%3F12345).
*   _UserActivity.ReadWrite.CreatedByApp_: публикация или обновление записи журнала о действии указанного пользователя для обозначения периода взаимодействия. (PUT /me/activities/{id}/historyItems/{id}).
*   _UserActivity.ReadWrite.CreatedByApp_: удаление действия пользователя в ответ на инициированный пользователем запрос или для удаления недействительных данных. (DELETE /me/activities/{id}).
*   _UserActivity.ReadWrite.CreatedByApp_: удаление записи журнала в ответ на инициированный пользователем запрос или для удаления недействительных данных. (DELETE /me/activities/{id}/historyItems/{id}).

<br/>
